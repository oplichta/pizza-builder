var Bk=Object.defineProperty,$k=Object.defineProperties;var Hk=Object.getOwnPropertyDescriptors;var zl=Object.getOwnPropertySymbols;var fC=Object.prototype.hasOwnProperty,pC=Object.prototype.propertyIsEnumerable;var hC=(n,e,t)=>e in n?Bk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,P=(n,e)=>{for(var t in e||={})fC.call(e,t)&&hC(n,t,e[t]);if(zl)for(var t of zl(e))pC.call(e,t)&&hC(n,t,e[t]);return n},j=(n,e)=>$k(n,Hk(e));var gC=(n,e)=>{var t={};for(var r in n)fC.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&zl)for(var r of zl(n))e.indexOf(r)<0&&pC.call(n,r)&&(t[r]=n[r]);return t};var T=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function im(n,e){return Object.is(n,e)}var dt=null,mc=!1,om=1,fn=Symbol("SIGNAL");function ye(n){let e=dt;return dt=n,e}function mC(){return dt}function qk(){return mc}var to={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ul(n){if(mc)throw new Error("");if(dt===null)return;dt.consumerOnSignalRead(n);let e=dt.nextProducerIndex++;if($l(dt),e<dt.producerNode.length&&dt.producerNode[e]!==n&&yc(dt)){let t=dt.producerNode[e];Bl(t,dt.producerIndexOfThis[e])}dt.producerNode[e]!==n&&(dt.producerNode[e]=n,dt.producerIndexOfThis[e]=yc(dt)?EC(n,dt,e):0),dt.producerLastReadVersion[e]=n.version}function Gk(){om++}function sm(n){if(!(yc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===om)){if(!n.producerMustRecompute(n)&&!_c(n)){nm(n);return}n.producerRecomputeValue(n),nm(n)}}function yC(n){if(n.liveConsumerNode===void 0)return;let e=mc;mc=!0;try{for(let t of n.liveConsumerNode)t.dirty||_C(t)}finally{mc=e}}function vC(){return dt?.consumerAllowSignalWrites!==!1}function _C(n){n.dirty=!0,yC(n),n.consumerMarkedDirty?.(n)}function nm(n){n.dirty=!1,n.lastCleanEpoch=om}function ds(n){return n&&(n.nextProducerIndex=0),ye(n)}function vc(n,e){if(ye(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(yc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Bl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function _c(n){$l(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(sm(t),r!==t.version))return!0}return!1}function hs(n){if($l(n),yc(n))for(let e=0;e<n.producerNode.length;e++)Bl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function EC(n,e,t){if(wC(n),n.liveConsumerNode.length===0&&IC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=EC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Bl(n,e){if(wC(n),n.liveConsumerNode.length===1&&IC(n))for(let r=0;r<n.producerNode.length;r++)Bl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];$l(i),i.producerIndexOfThis[r]=e}}function yc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function $l(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function wC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function IC(n){return n.producerNode!==void 0}function bC(n){let e=Object.create(Wk);e.computation=n;let t=()=>{if(sm(e),Ul(e),e.value===jl)throw e.error;return e.value};return t[fn]=e,t}var em=Symbol("UNSET"),tm=Symbol("COMPUTING"),jl=Symbol("ERRORED"),Wk=j(P({},to),{value:em,dirty:!0,error:null,equal:im,producerMustRecompute(n){return n.value===em||n.value===tm},producerRecomputeValue(n){if(n.value===tm)throw new Error("Detected cycle in computations.");let e=n.value;n.value=tm;let t=ds(n),r;try{r=n.computation()}catch(i){r=jl,n.error=i}finally{vc(n,t)}if(e!==em&&e!==jl&&r!==jl&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function Kk(){throw new Error}var CC=Kk;function DC(){CC()}function TC(n){CC=n}var Qk=null;function SC(n){let e=Object.create(am);e.value=n;let t=()=>(Ul(e),e.value);return t[fn]=e,t}function Hl(n,e){vC()||DC(),n.equal(n.value,e)||(n.value=e,Yk(n))}function AC(n,e){vC()||DC(),Hl(n,e(n.value))}var am=j(P({},to),{equal:im,value:void 0});function Yk(n){n.version++,Gk(),yC(n),Qk?.()}function MC(n,e,t){let r=Object.create(Zk);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(hs(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=rm)}let a=()=>{if(r.fn===null)return;if(qk())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!_c(r))return;r.hasRun=!0;let c=ds(r);try{r.cleanupFn(),r.cleanupFn=rm,r.fn(i)}finally{vc(r,c)}};return r.ref={notify:()=>_C(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[fn]:r},r.ref}var rm=()=>{},Zk=j(P({},to),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:rm});function de(n){return typeof n=="function"}function ui(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ql=ui(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function no(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var nt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(de(r))try{r()}catch(o){e=o instanceof ql?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{RC(o)}catch(s){e=e??[],s instanceof ql?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ql(e)}}add(e){var t;if(e&&e!==this)if(this.closed)RC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&no(t,e)}remove(e){let{_finalizers:t}=this;t&&no(t,e),e instanceof n&&e._removeParent(this)}};nt.EMPTY=(()=>{let n=new nt;return n.closed=!0,n})();var cm=nt.EMPTY;function Gl(n){return n instanceof nt||n&&"closed"in n&&de(n.remove)&&de(n.add)&&de(n.unsubscribe)}function RC(n){de(n)?n():n.unsubscribe()}var jn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fs={setTimeout(n,e,...t){let{delegate:r}=fs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=fs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Wl(n){fs.setTimeout(()=>{let{onUnhandledError:e}=jn;if(e)e(n);else throw n})}function Mr(){}var PC=um("C",void 0,void 0);function xC(n){return um("E",void 0,n)}function NC(n){return um("N",n,void 0)}function um(n,e,t){return{kind:n,value:e,error:t}}var ro=null;function ps(n){if(jn.useDeprecatedSynchronousErrorHandling){let e=!ro;if(e&&(ro={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ro;if(ro=null,t)throw r}}else n()}function OC(n){jn.useDeprecatedSynchronousErrorHandling&&ro&&(ro.errorThrown=!0,ro.error=n)}var io=class extends nt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Gl(e)&&e.add(this)):this.destination=e1}static create(e,t,r){return new Rr(e,t,r)}next(e){this.isStopped?dm(NC(e),this):this._next(e)}error(e){this.isStopped?dm(xC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?dm(PC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Jk=Function.prototype.bind;function lm(n,e){return Jk.call(n,e)}var hm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Kl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Kl(r)}else Kl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Kl(t)}}},Rr=class extends io{constructor(e,t,r){super();let i;if(de(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&jn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&lm(e.next,o),error:e.error&&lm(e.error,o),complete:e.complete&&lm(e.complete,o)}):i=e}this.destination=new hm(i)}};function Kl(n){jn.useDeprecatedSynchronousErrorHandling?OC(n):Wl(n)}function Xk(n){throw n}function dm(n,e){let{onStoppedNotification:t}=jn;t&&fs.setTimeout(()=>t(n,e))}var e1={closed:!0,next:Mr,error:Xk,complete:Mr};var gs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dt(n){return n}function Ql(...n){return fm(n)}function fm(n){return n.length===0?Dt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=n1(t)?t:new Rr(t,r,i);return ps(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=kC(r),new r((i,o)=>{let s=new Rr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[gs](){return this}pipe(...t){return fm(t)(this)}toPromise(t){return t=kC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function kC(n){var e;return(e=n??jn.Promise)!==null&&e!==void 0?e:Promise}function t1(n){return n&&de(n.next)&&de(n.error)&&de(n.complete)}function n1(n){return n&&n instanceof io||t1(n)&&Gl(n)}function pm(n){return de(n?.lift)}function re(n){return e=>{if(pm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(n,e,t,r,i){return new Ec(n,e,t,r,i)}var Ec=class extends io{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ms(){return re((n,e)=>{let t=null;n._refCount++;let r=X(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ys=class extends oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,pm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nt;let t=this.getSubject();e.add(this.source.subscribe(X(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nt.EMPTY)}return e}refCount(){return ms()(this)}};var FC=ui(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Yl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new FC}next(t){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?cm:(this.currentObservers=null,o.push(t),new nt(()=>{this.currentObservers=null,no(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new oe;return t.source=this,t}}return n.create=(e,t)=>new Yl(e,t),n})(),Yl=class extends Oe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:cm}};var ct=class extends Oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wc={now(){return(wc.delegate||Date).now()},delegate:void 0};var vs=class extends Oe{constructor(e=1/0,t=1/0,r=wc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Zl=class extends nt{constructor(e,t){super()}schedule(e,t=0){return this}};var Ic={setInterval(n,e,...t){let{delegate:r}=Ic;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ic;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var _s=class extends Zl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ic.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ic.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,no(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Es=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Es.now=wc.now;var ws=class extends Es{constructor(e,t=Es.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var nr=new ws(_s),gm=nr;var Jl=class extends _s{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Xl=class extends ws{};var oo=new Xl(Jl);var ht=new oe(n=>n.complete());function ed(n){return n&&de(n.schedule)}function mm(n){return n[n.length-1]}function Is(n){return de(mm(n))?n.pop():void 0}function rr(n){return ed(mm(n))?n.pop():void 0}function LC(n,e){return typeof mm(n)=="number"?n.pop():e}function ym(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function zC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function VC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function so(n){return this instanceof so?(this.v=n,this):new so(n)}function jC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(v){return Promise.resolve(v).then(m,f)}}function a(m,v){r[m]&&(i[m]=function(I){return new Promise(function(S,x){o.push([m,I,S,x])>1||c(m,I)})},v&&(i[m]=v(i[m])))}function c(m,v){try{l(r[m](v))}catch(I){g(o[0][3],I)}}function l(m){m.value instanceof so?Promise.resolve(m.value.v).then(d,f):g(o[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function g(m,v){m(v),o.shift(),o.length&&c(o[0][0],o[0][1])}}function UC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof VC=="function"?VC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var td=n=>n&&typeof n.length=="number"&&typeof n!="function";function nd(n){return de(n?.then)}function rd(n){return de(n[gs])}function id(n){return Symbol.asyncIterator&&de(n?.[Symbol.asyncIterator])}function od(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function r1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sd=r1();function ad(n){return de(n?.[sd])}function cd(n){return jC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield so(t.read());if(i)return yield so(void 0);yield yield so(r)}}finally{t.releaseLock()}})}function ud(n){return de(n?.getReader)}function be(n){if(n instanceof oe)return n;if(n!=null){if(rd(n))return i1(n);if(td(n))return o1(n);if(nd(n))return s1(n);if(id(n))return BC(n);if(ad(n))return a1(n);if(ud(n))return c1(n)}throw od(n)}function i1(n){return new oe(e=>{let t=n[gs]();if(de(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function o1(n){return new oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function s1(n){return new oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Wl)})}function a1(n){return new oe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function BC(n){return new oe(e=>{u1(n,e).catch(t=>e.error(t))})}function c1(n){return BC(cd(n))}function u1(n,e){var t,r,i,o;return zC(this,void 0,void 0,function*(){try{for(t=UC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ot(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Sn(n,e=0){return re((t,r)=>{t.subscribe(X(r,i=>Ot(r,n,()=>r.next(i),e),()=>Ot(r,n,()=>r.complete(),e),i=>Ot(r,n,()=>r.error(i),e)))})}function li(n,e=0){return re((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function $C(n,e){return be(n).pipe(li(e),Sn(e))}function HC(n,e){return be(n).pipe(li(e),Sn(e))}function qC(n,e){return new oe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function GC(n,e){return new oe(t=>{let r;return Ot(t,e,()=>{r=n[sd](),Ot(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}function ld(n,e){if(!n)throw new Error("Iterable cannot be null");return new oe(t=>{Ot(t,e,()=>{let r=n[Symbol.asyncIterator]();Ot(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function WC(n,e){return ld(cd(n),e)}function KC(n,e){if(n!=null){if(rd(n))return $C(n,e);if(td(n))return qC(n,e);if(nd(n))return HC(n,e);if(id(n))return ld(n,e);if(ad(n))return GC(n,e);if(ud(n))return WC(n,e)}throw od(n)}function Ke(n,e){return e?KC(n,e):be(n)}function se(...n){let e=rr(n);return Ke(n,e)}function di(n,e){let t=de(n)?n:()=>n,r=i=>i.error(t());return new oe(e?i=>e.schedule(r,0,i):r)}var hi=class n{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue=e==="N"}observe(e){return vm(this,e)}do(e,t,r){let{kind:i,value:o,error:s}=this;return i==="N"?e?.(o):i==="E"?t?.(s):r?.()}accept(e,t,r){var i;return de((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,t,r)}toObservable(){let{kind:e,value:t,error:r}=this,i=e==="N"?se(t):e==="E"?di(()=>r):e==="C"?ht:0;if(!i)throw new TypeError(`Unexpected notification kind ${e}`);return i}static createNext(e){return new n("N",e)}static createError(e){return new n("E",void 0,e)}static createComplete(){return n.completeNotification}};hi.completeNotification=new hi("C");function vm(n,e){var t,r,i;let{kind:o,value:s,error:a}=n;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(t=e.next)===null||t===void 0||t.call(e,s):o==="E"?(r=e.error)===null||r===void 0||r.call(e,a):(i=e.complete)===null||i===void 0||i.call(e)}function _m(n){return!!n&&(n instanceof oe||de(n.lift)&&de(n.subscribe))}var Pr=ui(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function dd(n){return n instanceof Date&&!isNaN(n)}var l1=ui(n=>function(t=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function Em(n,e){let{first:t,each:r,with:i=d1,scheduler:o=e??nr,meta:s=null}=dd(n)?{first:n}:typeof n=="number"?{each:n}:n;if(t==null&&r==null)throw new TypeError("No timeout provided.");return re((a,c)=>{let l,d,f=null,g=0,m=v=>{d=Ot(c,o,()=>{try{l.unsubscribe(),be(i({meta:s,lastValue:f,seen:g})).subscribe(c)}catch(I){c.error(I)}},v)};l=a.subscribe(X(c,v=>{d?.unsubscribe(),g++,c.next(f=v),r>0&&m(r)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),f=null})),!g&&m(t!=null?typeof t=="number"?t:+t-o.now():r)})}function d1(n){throw new l1(n)}function Y(n,e){return re((t,r)=>{let i=0;t.subscribe(X(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:h1}=Array;function f1(n,e){return h1(e)?n(...e):n(e)}function hd(n){return Y(e=>f1(n,e))}var{isArray:p1}=Array,{getPrototypeOf:g1,prototype:m1,keys:y1}=Object;function fd(n){if(n.length===1){let e=n[0];if(p1(e))return{args:e,keys:null};if(v1(e)){let t=y1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function v1(n){return n&&typeof n=="object"&&g1(n)===m1}function pd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function gd(...n){let e=rr(n),t=Is(n),{args:r,keys:i}=fd(n);if(r.length===0)return Ke([],e);let o=new oe(_1(r,e,i?s=>pd(i,s):Dt));return t?o.pipe(hd(t)):o}function _1(n,e,t=Dt){return r=>{QC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)QC(e,()=>{let l=Ke(n[c],e),d=!1;l.subscribe(X(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function QC(n,e,t){n?Ot(t,n,e):e()}function YC(n,e,t,r,i,o,s,a){let c=[],l=0,d=0,f=!1,g=()=>{f&&!c.length&&!l&&e.complete()},m=I=>l<r?v(I):c.push(I),v=I=>{o&&e.next(I),l++;let S=!1;be(t(I,d++)).subscribe(X(e,x=>{i?.(x),o?m(x):e.next(x)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<r;){let x=c.shift();s?Ot(e,s,()=>v(x)):v(x)}g()}catch(x){e.error(x)}}))};return n.subscribe(X(e,m,()=>{f=!0,g()})),()=>{a?.()}}function Ve(n,e,t=1/0){return de(e)?Ve((r,i)=>Y((o,s)=>e(r,o,i,s))(be(n(r,i))),t):(typeof e=="number"&&(t=e),re((r,i)=>YC(r,i,n,t)))}function bc(n=1/0){return Ve(Dt,n)}function ZC(){return bc(1)}function fi(...n){return ZC()(Ke(n,rr(n)))}function Cc(n){return new oe(e=>{be(n()).subscribe(e)})}function wm(...n){let e=Is(n),{args:t,keys:r}=fd(n),i=new oe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let f=!1;be(t[d]).subscribe(X(o,g=>{f||(f=!0,l--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?pd(r,a):a),o.complete())}))}});return e?i.pipe(hd(e)):i}function JC(n=0,e,t=gm){let r=-1;return e!=null&&(ed(e)?t=e:r=e),new oe(i=>{let o=dd(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function ao(...n){let e=rr(n),t=LC(n,1/0),r=n;return r.length?r.length===1?be(r[0]):bc(t)(Ke(r,e)):ht}function Qe(n,e){return re((t,r)=>{let i=0;t.subscribe(X(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Jt(n){return re((e,t)=>{let r=null,i=!1,o;r=e.subscribe(X(t,void 0,void 0,s=>{o=be(n(s,Jt(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function XC(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(X(s,d=>{let f=l++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function xr(n,e){return de(e)?Ve(n,e,1):Ve(n,1)}function Im(n,e=nr){return re((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,d=e.now();if(d<l){i=this.schedule(void 0,l-d),r.add(i);return}a()}t.subscribe(X(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function pi(n){return re((e,t)=>{let r=!1;e.subscribe(X(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ye(n){return n<=0?()=>ht:re((e,t)=>{let r=0;e.subscribe(X(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Dc(){return re((n,e)=>{n.subscribe(X(e,Mr))})}function Tc(n){return Y(()=>n)}function bm(n,e){return e?t=>fi(e.pipe(Ye(1),Dc()),t.pipe(bm(n))):Ve((t,r)=>be(n(t,r)).pipe(Ye(1),Tc(t)))}function Cm(n,e=nr){let t=JC(n,e);return bm(()=>t)}function Dm(){return re((n,e)=>{n.subscribe(X(e,t=>vm(t,e)))})}function md(n,e=Dt){return n=n??E1,re((t,r)=>{let i,o=!0;t.subscribe(X(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function E1(n,e){return n===e}function yd(n=w1){return re((e,t)=>{let r=!1;e.subscribe(X(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function w1(){return new Pr}function vd(n,e){return e?t=>t.pipe(vd((r,i)=>be(n(r,i)).pipe(Y((o,s)=>e(r,o,i,s))))):re((t,r)=>{let i=0,o=null,s=!1;t.subscribe(X(r,a=>{o||(o=X(r,void 0,()=>{o=null,s&&r.complete()}),be(n(a,i++)).subscribe(o))},()=>{s=!0,!o&&r.complete()}))})}function bs(n){return re((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Nr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qe((i,o)=>n(i,o,r)):Dt,Ye(1),t?pi(e):yd(()=>new Pr))}function _d(n,e,t,r){return re((i,o)=>{let s;!e||typeof e=="function"?s=e:{duration:t,element:s,connector:r}=e;let a=new Map,c=v=>{a.forEach(v),v(o)},l=v=>c(I=>I.error(v)),d=0,f=!1,g=new Ec(o,v=>{try{let I=n(v),S=a.get(I);if(!S){a.set(I,S=r?r():new Oe);let x=m(I,S);if(o.next(x),t){let O=X(S,()=>{S.complete(),O?.unsubscribe()},void 0,void 0,()=>a.delete(I));g.add(be(t(x)).subscribe(O))}}S.next(s?s(v):v)}catch(I){l(I)}},()=>c(v=>v.complete()),l,()=>a.clear(),()=>(f=!0,d===0));i.subscribe(g);function m(v,I){let S=new oe(x=>{d++;let O=I.subscribe(x);return()=>{O.unsubscribe(),--d===0&&f&&g.unsubscribe()}});return S.key=v,S}})}function Cs(n){return n<=0?()=>ht:re((e,t)=>{let r=[];e.subscribe(X(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Tm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qe((i,o)=>n(i,o,r)):Dt,Cs(1),t?pi(e):yd(()=>new Pr))}function Sm(){return re((n,e)=>{n.subscribe(X(e,t=>{e.next(hi.createNext(t))},()=>{e.next(hi.createComplete()),e.complete()},t=>{e.next(hi.createError(t)),e.complete()}))})}function Am(...n){let e=n.length;if(e===0)throw new Error("list of properties cannot be empty.");return Y(t=>{let r=t;for(let i=0;i<e;i++){let o=r?.[n[i]];if(typeof o<"u")r=o;else return}return r})}function gi(n,e){return re(XC(n,e,arguments.length>=2,!0))}function Rm(n={}){let{connector:e=()=>new Oe,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,d=!1,f=!1,g=()=>{a?.unsubscribe(),a=void 0},m=()=>{g(),s=c=void 0,d=f=!1},v=()=>{let I=s;m(),I?.unsubscribe()};return re((I,S)=>{l++,!f&&!d&&g();let x=c=c??e();S.add(()=>{l--,l===0&&!f&&!d&&(a=Mm(v,i))}),x.subscribe(S),!s&&l>0&&(s=new Rr({next:O=>x.next(O),error:O=>{f=!0,g(),a=Mm(m,t,O),x.error(O)},complete:()=>{d=!0,g(),a=Mm(m,r),x.complete()}}),be(I).subscribe(s))})(o)}}function Mm(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Rr({next:()=>{r.unsubscribe(),n()}});return be(e(...t)).subscribe(r)}function Pm(n){return Qe((e,t)=>n<=t)}function Ed(...n){let e=rr(n);return re((t,r)=>{(e?fi(n,t,e):fi(n,t)).subscribe(r)})}function ft(n,e){return re((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(X(r,c=>{i?.unsubscribe();let l=0,d=o++;be(n(c,d)).subscribe(i=X(r,f=>r.next(e?e(c,f,d,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function co(n){return re((e,t)=>{be(n).subscribe(X(t,()=>t.complete(),Mr)),!t.closed&&e.subscribe(t)})}function Tt(n,e,t){let r=de(n)||e||t?{next:n,error:e,complete:t}:n;return r?re((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(X(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Dt}function Sc(...n){let e=Is(n);return re((t,r)=>{let i=n.length,o=new Array(i),s=n.map(()=>!1),a=!1;for(let c=0;c<i;c++)be(n[c]).subscribe(X(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Dt))&&(s=null))},Mr));t.subscribe(X(r,c=>{if(a){let l=[c,...o];r.next(e?e(...l):l)}}))})}var I1="https://g.co/ng/security#xss",V=class extends Error{code;constructor(e,t){super(qy(e,t)),this.code=e}};function qy(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var VD=Symbol("InputSignalNode#UNSET"),b1=j(P({},am),{transformFn:void 0,applyValueToInputSignal(n,e){Hl(n,e)}});function zD(n,e){let t=Object.create(b1);t.value=n,t.transformFn=e?.transform;function r(){if(Ul(t),t.value===VD)throw new V(-950,!1);return t.value}return r[fn]=t,r}function qc(n){return{toString:n}.toString()}var wd="__parameters__";function C1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Gy(n,e,t){return qc(()=>{let r=C1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,d){let f=c.hasOwnProperty(wd)?c[wd]:Object.defineProperty(c,wd,{value:[]})[wd];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Ac=globalThis;function ze(n){for(let e in n)if(n[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function D1(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function qt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(qt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function qm(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var T1=ze({__forward_ref__:ze});function Ci(n){return n.__forward_ref__=Ci,n.toString=function(){return qt(this())},n}function Ht(n){return jD(n)?n():n}function jD(n){return typeof n=="function"&&n.hasOwnProperty(T1)&&n.__forward_ref__===Ci}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qn(n){return{providers:n.providers||[],imports:n.imports||[]}}function rh(n){return eD(n,BD)||eD(n,$D)}function UD(n){return rh(n)!==null}function eD(n,e){return n.hasOwnProperty(e)?n[e]:null}function S1(n){let e=n&&(n[BD]||n[$D]);return e||null}function tD(n){return n&&(n.hasOwnProperty(nD)||n.hasOwnProperty(A1))?n[nD]:null}var BD=ze({\u0275prov:ze}),nD=ze({\u0275inj:ze}),$D=ze({ngInjectableDef:ze}),A1=ze({ngInjectorDef:ze}),F=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function HD(n){return n&&!!n.\u0275providers}var M1=ze({\u0275cmp:ze}),R1=ze({\u0275dir:ze}),P1=ze({\u0275pipe:ze}),x1=ze({\u0275mod:ze}),Pd=ze({\u0275fac:ze}),Pc=ze({__NG_ELEMENT_ID__:ze}),rD=ze({__NG_ENV_ID__:ze});function xc(n){return typeof n=="string"?n:n==null?"":String(n)}function N1(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():xc(n)}function O1(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new V(-200,n)}function Wy(n,e){throw new V(-201,!1)}var ve=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ve||{}),Gm;function qD(){return Gm}function Xt(n){let e=Gm;return Gm=n,e}function GD(n,e,t){let r=rh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ve.Optional)return null;if(e!==void 0)return e;Wy(n,"Injector")}var k1={},Nc=k1,Wm="__NG_DI_FLAG__",xd="ngTempTokenPath",F1="ngTokenPath",L1=/\n/gm,V1="\u0275",iD="__source",As;function z1(){return As}function mi(n){let e=As;return As=n,e}function j1(n,e=ve.Default){if(As===void 0)throw new V(-203,!1);return As===null?GD(n,void 0,e):As.get(n,e&ve.Optional?null:void 0,e)}function W(n,e=ve.Default){return(qD()||j1)(Ht(n),e)}function N(n,e=ve.Default){return W(n,ih(e))}function ih(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Km(n){let e=[];for(let t=0;t<n.length;t++){let r=Ht(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=ve.Default;for(let s=0;s<r.length;s++){let a=r[s],c=U1(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function Ky(n,e){return n[Wm]=e,n.prototype[Wm]=e,n}function U1(n){return n[Wm]}function B1(n,e,t,r){let i=n[xd];throw e[iD]&&i.unshift(e[iD]),n.message=$1(`
`+n.message,i,t,r),n[F1]=i,n[xd]=null,n}function $1(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==V1?n.slice(2):n;let i=qt(e);if(Array.isArray(e))i=e.map(qt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):qt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(L1,`
  `)}`}var WD=Ky(Gy("Inject",n=>({token:n})),-1),nn=Ky(Gy("Optional"),8);var KD=Ky(Gy("SkipSelf"),4);function ho(n,e){let t=n.hasOwnProperty(Pd);return t?n[Pd]:null}function Qy(n,e){n.forEach(t=>Array.isArray(t)?Qy(t,e):e(t))}function QD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Nd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function H1(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function oh(n,e,t){let r=Gc(n,e);return r>=0?n[r|1]=t:(r=~r,H1(n,r,e,t)),r}function xm(n,e){let t=Gc(n,e);if(t>=0)return n[t|1]}function Gc(n,e){return q1(n,e,1)}function q1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Rs={},en=[],sr=new F(""),YD=new F("",-1),ZD=new F(""),Od=class{get(e,t=Nc){if(t===Nc){let r=new Error(`NullInjectorError: No provider for ${qt(e)}!`);throw r.name="NullInjectorError",r}return t}};function JD(n,e){let t=n[x1]||null;if(!t&&e===!0)throw new Error(`Type ${qt(n)} does not have '\u0275mod' property.`);return t}function fo(n){return n[M1]||null}function XD(n){return n[R1]||null}function eT(n){return n[P1]||null}function tT(n){let e=fo(n)||XD(n)||eT(n);return e!==null?e.standalone:!1}function Ft(n){return{\u0275providers:n}}function G1(...n){return{\u0275providers:nT(!0,n),\u0275fromNgModule:!0}}function nT(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Qy(e,s=>{let a=s;Qm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&rT(i,o),t}function rT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Yy(i,o=>{e(o,r)})}}function Qm(n,e,t,r){if(n=Ht(n),!n)return!1;let i=null,o=tD(n),s=!o&&fo(n);if(!o&&!s){let c=n.ngModule;if(o=tD(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Qm(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Qy(o.imports,d=>{Qm(d,e,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&rT(l,e)}if(!a){let l=ho(i)||(()=>new i);e({provide:i,useFactory:l,deps:en},i),e({provide:ZD,useValue:i,multi:!0},i),e({provide:sr,useValue:()=>W(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;Yy(c,d=>{e(d,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Yy(n,e){for(let t of n)HD(t)&&(t=t.\u0275providers),Array.isArray(t)?Yy(t,e):e(t)}var W1=ze({provide:String,useValue:ze});function iT(n){return n!==null&&typeof n=="object"&&W1 in n}function K1(n){return!!(n&&n.useExisting)}function Q1(n){return!!(n&&n.useFactory)}function Ps(n){return typeof n=="function"}function Y1(n){return!!n.useClass}var sh=new F(""),Dd={},Z1={},Nm;function Zy(){return Nm===void 0&&(Nm=new Od),Nm}var An=class{},Oc=class extends An{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Zm(e,s=>this.processProvider(s)),this.records.set(YD,Ds(void 0,this)),i.has("environment")&&this.records.set(An,Ds(void 0,this));let o=this.records.get(sh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ZD,en,ve.Self))}destroy(){Mc(this),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return Mc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Mc(this);let t=mi(this),r=Xt(void 0),i;try{return e()}finally{mi(t),Xt(r)}}get(e,t=Nc,r=ve.Default){if(Mc(this),e.hasOwnProperty(rD))return e[rD](this);r=ih(r);let i,o=mi(this),s=Xt(void 0);try{if(!(r&ve.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=nF(e)&&rh(e);l&&this.injectableDefInScope(l)?c=Ds(Ym(e),Dd):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ve.Self?Zy():this.parent;return t=r&ve.Optional&&t===Nc?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[xd]=a[xd]||[]).unshift(qt(e)),o)throw a;return B1(a,e,"R3InjectorError",this.source)}else throw a}finally{Xt(s),mi(o)}}resolveInjectorInitializers(){let e=ye(null),t=mi(this),r=Xt(void 0),i;try{let o=this.get(sr,en,ve.Self);for(let s of o)s()}finally{mi(t),Xt(r),ye(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(qt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ht(e);let t=Ps(e)?e:Ht(e&&e.provide),r=X1(e);if(!Ps(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ds(void 0,Dd,!0),i.factory=()=>Km(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ye(null);try{return t.value===Dd&&(t.value=Z1,t.value=t.factory()),typeof t.value=="object"&&t.value&&tF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ht(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ym(n){let e=rh(n),t=e!==null?e.factory:ho(n);if(t!==null)return t;if(n instanceof F)throw new V(204,!1);if(n instanceof Function)return J1(n);throw new V(204,!1)}function J1(n){if(n.length>0)throw new V(204,!1);let t=S1(n);return t!==null?()=>t.factory(n):()=>new n}function X1(n){if(iT(n))return Ds(void 0,n.useValue);{let e=oT(n);return Ds(e,Dd)}}function oT(n,e,t){let r;if(Ps(n)){let i=Ht(n);return ho(i)||Ym(i)}else if(iT(n))r=()=>Ht(n.useValue);else if(Q1(n))r=()=>n.useFactory(...Km(n.deps||[]));else if(K1(n))r=()=>W(Ht(n.useExisting));else{let i=Ht(n&&(n.useClass||n.provide));if(eF(n))r=()=>new i(...Km(n.deps));else return ho(i)||Ym(i)}return r}function Mc(n){if(n.destroyed)throw new V(205,!1)}function Ds(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function eF(n){return!!n.deps}function tF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function nF(n){return typeof n=="function"||typeof n=="object"&&n instanceof F}function Zm(n,e){for(let t of n)Array.isArray(t)?Zm(t,e):t&&HD(t)?Zm(t.\u0275providers,e):e(t)}function Qt(n,e){n instanceof Oc&&Mc(n);let t,r=mi(n),i=Xt(void 0);try{return e()}finally{mi(r),Xt(i)}}function sT(){return qD()!==void 0||z1()!=null}function Wc(n){if(!sT())throw new V(-203,!1)}function rF(n){return typeof n=="function"}var Fr=0,pe=1,ue=2,Wt=3,Bn=4,Gn=5,kc=6,kd=7,kt=8,xs=9,_i=10,yt=11,Fc=12,oD=13,js=14,$n=15,Ns=16,Ts=17,Os=18,ah=19,aT=20,yi=21,Td=22,po=23,pn=24,Kt=25,cT=1;var go=7,Fd=8,Ld=9,Gt=10,Vd=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Vd||{});function vi(n){return Array.isArray(n)&&typeof n[cT]=="object"}function Lr(n){return Array.isArray(n)&&n[cT]===!0}function uT(n){return(n.flags&4)!==0}function ch(n){return n.componentOffset>-1}function Jy(n){return(n.flags&1)===1}function Ei(n){return!!n.template}function Jm(n){return(n[ue]&512)!==0}var Xm=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function lT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Us=(()=>{let n=()=>dT;return n.ngInherit=!0,n})();function dT(n){return n.type.prototype.ngOnChanges&&(n.setInput=oF),iF}function iF(){let n=fT(this),e=n?.current;if(e){let t=n.previous;if(t===Rs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function oF(n,e,t,r,i){let o=this.declaredInputs[r],s=fT(n)||sF(n,{previous:Rs,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Xm(l&&l.currentValue,t,c===Rs),lT(n,e,i,t)}var hT="__ngSimpleChanges__";function fT(n){return n[hT]||null}function sF(n,e){return n[hT]=e}var sD=null;var ir=function(n,e,t){sD?.(n,e,t)},pT="svg",aF="math";function ar(n){for(;Array.isArray(n);)n=n[Fr];return n}function gT(n,e){return ar(e[n])}function Mn(n,e){return ar(e[n.index])}function Xy(n,e){return n.data[e]}function ev(n,e){return n[e]}function Di(n,e){let t=e[n];return vi(t)?t:t[Fr]}function tv(n){return(n[ue]&128)===128}function cF(n){return Lr(n[Wt])}function ks(n,e){return e==null?null:n[e]}function mT(n){n[Ts]=0}function nv(n){n[ue]&1024||(n[ue]|=1024,tv(n)&&Kc(n))}function uF(n,e){for(;n>0;)e=e[js],n--;return e}function uh(n){return!!(n[ue]&9216||n[pn]?.dirty)}function ey(n){n[_i].changeDetectionScheduler?.notify(9),n[ue]&64&&(n[ue]|=1024),uh(n)&&Kc(n)}function Kc(n){n[_i].changeDetectionScheduler?.notify(0);let e=mo(n);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!tv(e)));)e=mo(e)}function yT(n,e){if((n[ue]&256)===256)throw new V(911,!1);n[yi]===null&&(n[yi]=[]),n[yi].push(e)}function lF(n,e){if(n[yi]===null)return;let t=n[yi].indexOf(e);t!==-1&&n[yi].splice(t,1)}function mo(n){let e=n[Wt];return Lr(e)?e[Wt]:e}var _e={lFrame:DT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ty=!1;function dF(){return _e.lFrame.elementDepthCount}function hF(){_e.lFrame.elementDepthCount++}function fF(){_e.lFrame.elementDepthCount--}function vT(){return _e.bindingsEnabled}function pF(){return _e.skipHydrationRootTNode!==null}function gF(n){return _e.skipHydrationRootTNode===n}function mF(){_e.skipHydrationRootTNode=null}function Se(){return _e.lFrame.lView}function rn(){return _e.lFrame.tView}function Wn(n){return _e.lFrame.contextLView=n,n[kt]}function Kn(n){return _e.lFrame.contextLView=null,n}function on(){let n=_T();for(;n!==null&&n.type===64;)n=n.parent;return n}function _T(){return _e.lFrame.currentTNode}function yF(){let n=_e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Qc(n,e){let t=_e.lFrame;t.currentTNode=n,t.isParent=e}function ET(){return _e.lFrame.isParent}function vF(){_e.lFrame.isParent=!1}function wT(){return ty}function zd(n){let e=ty;return ty=n,e}function rv(){let n=_e.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function _F(){return _e.lFrame.bindingIndex}function EF(n){return _e.lFrame.bindingIndex=n}function Yc(){return _e.lFrame.bindingIndex++}function iv(n){let e=_e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function wF(){return _e.lFrame.inI18n}function IF(n,e){let t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=n,ny(e)}function bF(){return _e.lFrame.currentDirectiveIndex}function ny(n){_e.lFrame.currentDirectiveIndex=n}function CF(n){let e=_e.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function IT(n){_e.lFrame.currentQueryIndex=n}function DF(n){let e=n[pe];return e.type===2?e.declTNode:e.type===1?n[Gn]:null}function bT(n,e,t){if(t&ve.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ve.Host);)if(i=DF(o),i===null||(o=o[js],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=_e.lFrame=CT();return r.currentTNode=e,r.lView=n,!0}function ov(n){let e=CT(),t=n[pe];_e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function CT(){let n=_e.lFrame,e=n===null?null:n.child;return e===null?DT(n):e}function DT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function TT(){let n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var ST=TT;function sv(){let n=TT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function TF(n){return(_e.lFrame.contextLView=uF(n,_e.lFrame.contextLView))[kt]}function Vr(){return _e.lFrame.selectedIndex}function yo(n){_e.lFrame.selectedIndex=n}function AT(){let n=_e.lFrame;return Xy(n.tView,n.selectedIndex)}function MT(){_e.lFrame.currentNamespace=pT}function SF(){return _e.lFrame.currentNamespace}var RT=!0;function av(){return RT}function cv(n){RT=n}function AF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=dT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function uv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Sd(n,e,t){PT(n,e,3,t)}function Ad(n,e,t,r){(n[ue]&3)===t&&PT(n,e,t,r)}function Om(n,e){let t=n[ue];(t&3)===e&&(t&=16383,t+=1,n[ue]=t)}function PT(n,e,t,r){let i=r!==void 0?n[Ts]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ts]+=65536),(a<o||o==-1)&&(MF(n,t,e,c),n[Ts]=(n[Ts]&4294901760)+c+2),c++}function aD(n,e){ir(4,n,e);let t=ye(null);try{e.call(n)}finally{ye(t),ir(5,n,e)}}function MF(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ue]>>14<n[Ts]>>16&&(n[ue]&3)===e&&(n[ue]+=16384,aD(a,o)):aD(a,o)}var Ms=-1,vo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function RF(n){return n instanceof vo}function PF(n){return(n.flags&8)!==0}function xF(n){return(n.flags&16)!==0}function ry(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];OF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function NF(n){return n===3||n===4||n===6}function OF(n){return n.charCodeAt(0)===64}function Lc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?cD(n,t,i,null,e[++r]):cD(n,t,i,null,null))}}return n}function cD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var km={},iy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ih(r);let i=this.injector.get(e,km,r);return i!==km||t===km?i:this.parentInjector.get(e,t,r)}};function xT(n){return n!==Ms}function jd(n){return n&32767}function kF(n){return n>>16}function Ud(n,e){let t=kF(n),r=e;for(;t>0;)r=r[js],t--;return r}var oy=!0;function Bd(n){let e=oy;return oy=n,e}var FF=256,NT=FF-1,OT=5,LF=0,or={};function VF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Pc)&&(r=t[Pc]),r==null&&(r=t[Pc]=LF++);let i=r&NT,o=1<<i;e.data[n+(i>>OT)]|=o}function $d(n,e){let t=kT(n,e);if(t!==-1)return t;let r=e[pe];r.firstCreatePass&&(n.injectorIndex=e.length,Fm(r.data,n),Fm(e,null),Fm(r.blueprint,null));let i=lv(n,e),o=n.injectorIndex;if(xT(i)){let s=jd(i),a=Ud(i,e),c=a[pe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Fm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function kT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function lv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=jT(i),r===null)return Ms;if(t++,i=i[js],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ms}function sy(n,e,t){VF(n,e,t)}function FT(n,e,t){if(t&ve.Optional||n!==void 0)return n;Wy(e,"NodeInjector")}function LT(n,e,t,r){if(t&ve.Optional&&r===void 0&&(r=null),!(t&(ve.Self|ve.Host))){let i=n[xs],o=Xt(void 0);try{return i?i.get(e,r,t&ve.Optional):GD(e,r,t&ve.Optional)}finally{Xt(o)}}return FT(r,e,t)}function VT(n,e,t,r=ve.Default,i){if(n!==null){if(e[ue]&2048&&!(r&ve.Self)){let s=$F(n,e,t,r,or);if(s!==or)return s}let o=zT(n,e,t,r,or);if(o!==or)return o}return LT(e,t,r,i)}function zT(n,e,t,r,i){let o=UF(t);if(typeof o=="function"){if(!bT(e,n,r))return r&ve.Host?FT(i,t,r):LT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ve.Optional))Wy(t);else return s}finally{ST()}}else if(typeof o=="number"){let s=null,a=kT(n,e),c=Ms,l=r&ve.Host?e[$n][Gn]:null;for((a===-1||r&ve.SkipSelf)&&(c=a===-1?lv(n,e):e[a+8],c===Ms||!lD(r,!1)?a=-1:(s=e[pe],a=jd(c),e=Ud(c,e)));a!==-1;){let d=e[pe];if(uD(o,a,d.data)){let f=zF(a,e,t,s,r,l);if(f!==or)return f}c=e[a+8],c!==Ms&&lD(r,e[pe].data[a+8]===l)&&uD(o,a,e)?(s=d,a=jd(c),e=Ud(c,e)):a=-1}}return i}function zF(n,e,t,r,i,o){let s=e[pe],a=s.data[n+8],c=r==null?ch(a)&&oy:r!=s&&(a.type&3)!==0,l=i&ve.Host&&o===a,d=jF(a,s,t,c,l);return d!==null?Fs(e,s,d,a):or}function jF(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,d=o>>20,f=r?a:a+d,g=i?a+d:l;for(let m=f;m<g;m++){let v=s[m];if(m<c&&t===v||m>=c&&v.type===t)return m}if(i){let m=s[c];if(m&&Ei(m)&&m.type===t)return c}return null}function Fs(n,e,t,r){let i=n[t],o=e.data;if(RF(i)){let s=i;s.resolving&&O1(N1(o[t]));let a=Bd(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Xt(s.injectImpl):null,d=bT(n,r,ve.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&AF(t,o[t],e)}finally{l!==null&&Xt(l),Bd(a),s.resolving=!1,ST()}}return i}function UF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Pc)?n[Pc]:void 0;return typeof e=="number"?e>=0?e&NT:BF:e}function uD(n,e,t){let r=1<<n;return!!(t[e+(n>>OT)]&r)}function lD(n,e){return!(n&ve.Self)&&!(n&ve.Host&&e)}var lo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return VT(this._tNode,this._lView,e,ih(r),t)}};function BF(){return new lo(on(),Se())}function zr(n){return qc(()=>{let e=n.prototype.constructor,t=e[Pd]||ay(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Pd]||ay(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ay(n){return jD(n)?()=>{let e=ay(Ht(n));return e&&e()}:ho(n)}function $F(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!(s[ue]&512);){let a=zT(o,s,t,r|ve.Self,or);if(a!==or)return a;let c=o.parent;if(!c){let l=s[aT];if(l){let d=l.get(t,or,r);if(d!==or)return d}c=jT(s),s=s[js]}o=c}return i}function jT(n){let e=n[pe],t=e.type;return t===2?e.declTNode:t===1?n[Gn]:null}function dD(n,e=null,t=null,r){let i=UT(n,e,t,r);return i.resolveInjectorInitializers(),i}function UT(n,e=null,t=null,r,i=new Set){let o=[t||en,G1(n)];return r=r||(typeof n=="object"?void 0:qt(n)),new Oc(o,e||Zy(),r||null,i)}var We=class n{static THROW_IF_NOT_FOUND=Nc;static NULL=new Od;static create(e,t){if(Array.isArray(e))return dD({name:""},t,e,"");{let r=e.name??"";return dD({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:n,providedIn:"any",factory:()=>W(YD)});static __NG_ELEMENT_ID__=-1};var HF=new F("");HF.__NG_ELEMENT_ID__=n=>{let e=on();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&ve.Optional)return null;throw new V(204,!1)};var BT=!1,Ti=(()=>{class n{static __NG_ELEMENT_ID__=qF;static __NG_ENV_ID__=t=>t}return n})(),Hd=class extends Ti{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return yT(this._lView,e),()=>lF(this._lView,e)}};function qF(){return new Hd(Se())}var _o=class{},lh=new F("",{providedIn:"root",factory:()=>!1});var $T=new F(""),HT=new F(""),Si=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ct(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),dh=(()=>{class n{internalPendingTasks=N(Si);scheduler=N(_o);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(12),this.internalPendingTasks.remove(t))}}run(t){return T(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),cy=class extends Oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,sT()&&(this.destroyRef=N(Ti,{optional:!0})??void 0,this.pendingTasks=N(Si,{optional:!0})??void 0)}emit(e){let t=ye(null);try{super.next(e)}finally{ye(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof nt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},mt=cy;function Vc(...n){}function qT(n){let e,t;function r(){n=Vc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function hD(n){return queueMicrotask(()=>n()),()=>{n=Vc}}var dv="isAngularZone",qd=dv+"_ID",GF=0,De=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new mt(!1);onMicrotaskEmpty=new mt(!1);onStable=new mt(!1);onError=new mt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=BT}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,QF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,WF,Vc,Vc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},WF={};function hv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function KF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){qT(()=>{n.callbackScheduled=!1,uy(n),n.isCheckStableRunning=!0,hv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),uy(n)}function QF(n){let e=()=>{KF(n)},t=GF++;n._inner=n._inner.fork({name:"angular",properties:{[dv]:!0,[qd]:t,[qd+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(YF(c))return r.invokeTask(o,s,a,c);try{return fD(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),pD(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return fD(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!ZF(c)&&e(),pD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,uy(n),hv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function uy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function fD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pD(n){n._nesting--,hv(n)}var ly=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new mt;onMicrotaskEmpty=new mt;onStable=new mt;onError=new mt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function YF(n){return GT(n,"__ignore_ng_zone__")}function ZF(n){return GT(n,"__scheduler_tick__")}function GT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var tn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},JF=new F("",{providedIn:"root",factory:()=>{let n=N(De),e=N(tn);return t=>n.runOutsideAngular(()=>e.handleError(t))}}),dy=class{destroyed=!1;listeners=null;errorHandler=N(tn,{optional:!0});destroyRef=N(Ti);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new V(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed)throw new V(953,!1);if(this.listeners===null)return;let t=ye(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{ye(t)}}};function WT(n){return new dy}function gD(n,e){return zD(n,e)}function XF(n){return zD(VD,n)}var KT=(gD.required=XF,gD);function eL(){return hh(on(),Se())}function hh(n,e){return new bo(Mn(n,e))}var bo=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=eL}return n})();function QT(n){return(n.flags&128)===128}var YT=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(YT||{}),ZT=new Map,tL=0;function nL(){return tL++}function rL(n){ZT.set(n[ah],n)}function hy(n){ZT.delete(n[ah])}var mD="__ngContext__";function Eo(n,e){vi(e)?(n[mD]=e[ah],rL(e)):n[mD]=e}function JT(n){return eS(n[Fc])}function XT(n){return eS(n[Bn])}function eS(n){for(;n!==null&&!Lr(n);)n=n[Bn];return n}var fy;function tS(n){fy=n}function iL(){if(fy!==void 0)return fy;if(typeof document<"u")return document;throw new V(210,!1)}var fv=new F("",{providedIn:"root",factory:()=>oL}),oL="ng",pv=new F(""),Qn=new F("",{providedIn:"platform",factory:()=>"unknown"});var gv=new F(""),mv=new F("",{providedIn:"root",factory:()=>iL().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var sL="h",aL="b";var nS=!1,cL=new F("",{providedIn:"root",factory:()=>nS});var rS=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(rS||{}),iS=new F(""),yD=new Set;function Yn(n){yD.has(n)||(yD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var uL=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})();var lL=()=>null;function yv(n,e,t=!1){return lL(n,e,t)}var cr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(cr||{});var py=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${I1})`}};function Zc(n){return n instanceof py?n.changingThisBreaksApplicationSecurity:n}function oS(n){return n instanceof Function?n():n}var wi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(wi||{}),Or=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Or||{}),dL;function vv(n,e){return dL(n,e)}function Ss(n,e,t,r,i){if(r!=null){let o,s=!1;Lr(r)?o=r:vi(r)&&(s=!0,r=r[Fr]);let a=ar(r);n===0&&t!==null?i==null?uS(e,t,a):Gd(e,t,a,i||null,!0):n===1&&t!==null?Gd(e,t,a,i||null,!0):n===2?TL(e,a,s):n===3&&e.destroyNode(a),o!=null&&AL(e,n,o,t,i)}}function hL(n,e){return n.createText(e)}function fL(n,e,t){n.setValue(e,t)}function sS(n,e,t){return n.createElement(e,t)}function pL(n,e){aS(n,e),e[Fr]=null,e[Gn]=null}function gL(n,e,t,r,i,o){r[Fr]=i,r[Gn]=e,ph(n,r,t,1,i,o)}function aS(n,e){e[_i].changeDetectionScheduler?.notify(10),ph(n,e,e[yt],2,null,null)}function mL(n){let e=n[Fc];if(!e)return Lm(n[pe],n);for(;e;){let t=null;if(vi(e))t=e[Fc];else{let r=e[Gt];r&&(t=r)}if(!t){for(;e&&!e[Bn]&&e!==n;)vi(e)&&Lm(e[pe],e),e=e[Wt];e===null&&(e=n),vi(e)&&Lm(e[pe],e),t=e&&e[Bn]}e=t}}function yL(n,e,t,r){let i=Gt+r,o=t.length;r>0&&(t[i-1][Bn]=e),r<o-Gt?(e[Bn]=t[i],QD(t,Gt+r,e)):(t.push(e),e[Bn]=null),e[Wt]=t;let s=e[Ns];s!==null&&t!==s&&cS(s,e);let a=e[Os];a!==null&&a.insertView(n),ey(e),e[ue]|=128}function cS(n,e){let t=n[Ld],r=e[Wt];if(vi(r))n[ue]|=Vd.HasTransplantedViews;else{let i=r[Wt][$n];e[$n]!==i&&(n[ue]|=Vd.HasTransplantedViews)}t===null?n[Ld]=[e]:t.push(e)}function _v(n,e){let t=n[Ld],r=t.indexOf(e);t.splice(r,1)}function zc(n,e){if(n.length<=Gt)return;let t=Gt+e,r=n[t];if(r){let i=r[Ns];i!==null&&i!==n&&_v(i,r),e>0&&(n[t-1][Bn]=r[Bn]);let o=Nd(n,Gt+e);pL(r[pe],r);let s=o[Os];s!==null&&s.detachView(o[pe]),r[Wt]=null,r[Bn]=null,r[ue]&=-129}return r}function fh(n,e){if(!(e[ue]&256)){let t=e[yt];t.destroyNode&&ph(n,e,t,3,null,null),mL(e)}}function Lm(n,e){if(e[ue]&256)return;let t=ye(null);try{e[ue]&=-129,e[ue]|=256,e[pn]&&hs(e[pn]),_L(n,e),vL(n,e),e[pe].type===1&&e[yt].destroy();let r=e[Ns];if(r!==null&&Lr(e[Wt])){r!==e[Wt]&&_v(r,e);let i=e[Os];i!==null&&i.detachView(n)}hy(e)}finally{ye(t)}}function vL(n,e){let t=n.cleanup,r=e[kd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[kd]=null);let i=e[yi];if(i!==null){e[yi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[po];if(o!==null){e[po]=null;for(let s of o)s.destroy()}}function _L(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof vo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ir(4,a,c);try{c.call(a)}finally{ir(5,a,c)}}else{ir(4,i,o);try{o.call(i)}finally{ir(5,i,o)}}}}}function EL(n,e,t){return wL(n,e.parent,t)}function wL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Fr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===cr.None||o===cr.Emulated)return null}return Mn(r,t)}}function Gd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function uS(n,e,t){n.appendChild(e,t)}function vD(n,e,t,r,i){r!==null?Gd(n,e,t,r,i):uS(n,e,t)}function lS(n,e){return n.parentNode(e)}function IL(n,e){return n.nextSibling(e)}function bL(n,e,t){return DL(n,e,t)}function CL(n,e,t){return n.type&40?Mn(n,t):null}var DL=CL,_D;function Ev(n,e,t,r){let i=EL(n,r,e),o=e[yt],s=r.parent||e[Gn],a=bL(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)vD(o,i,t[c],a,!1);else vD(o,i,t,a,!1);_D!==void 0&&_D(o,r,e,t,i)}function Rc(n,e){if(e!==null){let t=e.type;if(t&3)return Mn(e,n);if(t&4)return gy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Rc(n,r);{let i=n[e.index];return Lr(i)?gy(-1,i):ar(i)}}else{if(t&128)return Rc(n,e.next);if(t&32)return vv(e,n)()||ar(n[e.index]);{let r=dS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=mo(n[$n]);return Rc(i,r)}else return Rc(n,e.next)}}}return null}function dS(n,e){if(e!==null){let r=n[$n][Gn],i=e.projection;return r.projection[i]}return null}function gy(n,e){let t=Gt+n+1;if(t<e.length){let r=e[t],i=r[pe].firstChild;if(i!==null)return Rc(r,i)}return e[go]}function TL(n,e,t){n.removeChild(null,e,t)}function wv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Eo(ar(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)wv(n,e,t.child,r,i,o,!1),Ss(e,n,i,a,o);else if(c&32){let l=vv(t,r),d;for(;d=l();)Ss(e,n,i,d,o);Ss(e,n,i,a,o)}else c&16?SL(n,e,r,t,i,o):Ss(e,n,i,a,o);t=s?t.projectionNext:t.next}}function ph(n,e,t,r,i,o){wv(t,r,n.firstChild,e,i,o,!1)}function SL(n,e,t,r,i,o){let s=t[$n],c=s[Gn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Ss(e,n,i,d,o)}else{let l=c,d=s[Wt];QT(r)&&(l.flags|=128),wv(n,e,l,d,i,o,!0)}}function AL(n,e,t,r,i){let o=t[go],s=ar(t);o!==s&&Ss(e,n,r,o,i);for(let a=Gt;a<t.length;a++){let c=t[a];ph(c[pe],c,n,e,r,o)}}function ML(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Or.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Or.Important),n.setStyle(t,r,i,o))}}function RL(n,e,t){n.setAttribute(e,"style",t)}function hS(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function fS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&ry(n,e,r),i!==null&&hS(n,e,i),o!==null&&RL(n,e,o)}function PL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var pS="ng-template";function xL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&PL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Iv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Iv(n){return n.type===4&&n.value!==pS}function NL(n,e,t){let r=n.type===4&&!t?pS:n.value;return e===r}function OL(n,e,t){let r=4,i=n.attrs,o=i!==null?LL(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Un(r)&&!Un(c))return!1;if(s&&Un(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!NL(n,c,t)||c===""&&e.length===1){if(Un(r))return!1;s=!0}}else if(r&8){if(i===null||!xL(n,i,c,t)){if(Un(r))return!1;s=!0}}else{let l=e[++a],d=kL(c,i,Iv(n),t);if(d===-1){if(Un(r))return!1;s=!0;continue}if(l!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&l!==f){if(Un(r))return!1;s=!0}}}}return Un(r)||s}function Un(n){return(n&1)===0}function kL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return VL(e,n)}function FL(n,e,t=!1){for(let r=0;r<e.length;r++)if(OL(n,e[r],t))return!0;return!1}function LL(n){for(let e=0;e<n.length;e++){let t=n[e];if(NF(t))return e}return n.length}function VL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function ED(n,e){return n?":not("+e.trim()+")":e}function zL(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Un(s)&&(e+=ED(o,i),i=""),r=s,o=o||!Un(r);t++}return i!==""&&(e+=ED(o,i)),e}function jL(n){return n.map(zL).join(",")}function UL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Un(i))break;i=o}r++}return{attrs:e,classes:t}}var Rn={};function Z(n=1){gS(rn(),Se(),Vr()+n,!1)}function gS(n,e,t,r){if(!r)if((e[ue]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Sd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ad(e,o,0,t)}yo(t)}function ie(n,e=ve.Default){let t=Se();if(t===null)return W(n,e);let r=on();return VT(r,t,Ht(n),e)}function mS(n,e,t,r,i,o){let s=ye(null);try{let a=null;i&wi.SignalBased&&(a=e[r][fn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&wi.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):lT(e,a,r,o)}finally{ye(s)}}function BL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)yo(~i);else{let o=i,s=t[++r],a=t[++r];IF(s,o);let c=e[o];a(2,c)}}}finally{yo(-1)}}function gh(n,e,t,r,i,o,s,a,c,l,d){let f=e.blueprint.slice();return f[Fr]=i,f[ue]=r|4|128|8|64|1024,(l!==null||n&&n[ue]&2048)&&(f[ue]|=2048),mT(f),f[Wt]=f[js]=n,f[kt]=t,f[_i]=s||n&&n[_i],f[yt]=a||n&&n[yt],f[xs]=c||n&&n[xs]||null,f[Gn]=o,f[ah]=nL(),f[kc]=d,f[aT]=l,f[$n]=e.type==2?n[$n]:f,f}function mh(n,e,t,r,i){let o=n.data[e];if(o===null)o=$L(n,e,t,r,i),wF()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=yF();o.injectorIndex=s===null?-1:s.injectorIndex}return Qc(o,!0),o}function $L(n,e,t,r,i){let o=_T(),s=ET(),a=s?o:o&&o.parent,c=n.data[e]=KL(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function yS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function vS(n,e,t,r,i){let o=Vr(),s=r&2;try{yo(-1),s&&e.length>Kt&&gS(n,e,Kt,!1),ir(s?2:0,i),t(r,i)}finally{yo(o),ir(s?3:1,i)}}function _S(n,e,t){if(uT(e)){let r=ye(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ye(r)}}}function ES(n,e,t){vT()&&(tV(n,e,t,Mn(t,e)),(t.flags&64)===64&&DS(n,e,t))}function wS(n,e,t=Mn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function IS(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=bv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function bv(n,e,t,r,i,o,s,a,c,l,d){let f=Kt+r,g=f+i,m=HL(f,g),v=typeof l=="function"?l():l;return m[pe]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}function HL(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Rn);return t}function qL(n,e,t,r){let o=r.get(cL,nS)||t===cr.ShadowDom,s=n.selectRootElement(e,o);return GL(s),s}function GL(n){WL(n)}var WL=()=>null;function KL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return pF()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function wD(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=wi.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?ID(r,t,l,a,c):ID(r,t,l,a)}return r}function ID(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function QL(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let d=r;d<i;d++){let f=o[d],g=t?t.get(f):null,m=g?g.inputs:null,v=g?g.outputs:null;c=wD(0,f.inputs,d,c,m),l=wD(1,f.outputs,d,l,v);let I=c!==null&&s!==null&&!Iv(e)?hV(c,d,s):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function YL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function ZL(n,e,t,r,i,o,s,a){let c=Mn(e,t),l=e.inputs,d;!a&&l!=null&&(d=l[r])?(Cv(n,t,d,r,i),ch(e)&&JL(t,e.index)):e.type&3?(r=YL(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function JL(n,e){let t=Di(e,n);t[ue]&16||(t[ue]|=64)}function bS(n,e,t,r){if(vT()){let i=r===null?null:{"":-1},o=rV(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&CS(n,e,t,s,i,a),i&&iV(t,r,i)}t.mergedAttrs=Lc(t.mergedAttrs,t.attrs)}function CS(n,e,t,r,i,o){for(let l=0;l<r.length;l++)sy($d(t,e),n,r[l].type);sV(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let d=r[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=yS(n,e,r.length,null);for(let l=0;l<r.length;l++){let d=r[l];t.mergedAttrs=Lc(t.mergedAttrs,d.hostAttrs),aV(n,t,e,c,d),oV(c,d,i),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}QL(n,t,o)}function XL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;eV(s)!=a&&s.push(a),s.push(t,r,o)}}function eV(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function tV(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;ch(t)&&cV(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||$d(t,e),Eo(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=Fs(e,n,a,t);if(Eo(l,e),s!==null&&dV(e,a-i,l,c,t,s),Ei(c)){let d=Di(t.index,e);d[kt]=Fs(e,n,a,t)}}}function DS(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=bF();try{yo(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];ny(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&nV(c,l)}}finally{yo(-1),ny(s)}}function nV(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function rV(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(FL(e,s.selectors,!1))if(r||(r=[]),Ei(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;my(n,e,c)}else r.unshift(s),my(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function my(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function iV(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}}function oV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ei(e)&&(t[""]=n)}}function sV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function aV(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ho(i.type,!0)),s=new vo(o,Ei(i),ie);n.blueprint[r]=s,t[r]=s,XL(n,e,r,yS(n,t,i.hostVars,Rn),i)}function TS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function cV(n,e,t){let r=Mn(e,n),i=IS(t),o=n[_i].rendererFactory,s=yh(n,gh(n,i,null,TS(t),r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=s}function uV(n,e,t,r,i,o){let s=Mn(n,e);lV(e[yt],s,o,n.value,t,r,i)}function lV(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?xc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function dV(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],d=s[a++],f=s[a++];mS(r,t,c,l,d,f)}}function hV(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function SS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function AS(n,e){let t=n.contentQueries;if(t!==null){let r=ye(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];IT(o),a.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function yh(n,e){return n[Fc]?n[oD][Bn]=e:n[Fc]=e,n[oD]=e,e}function yy(n,e,t){IT(0);let r=ye(null);try{e(n,t)}finally{ye(r)}}function fV(n){return n[kd]??=[]}function pV(n){return n.cleanup??=[]}function MS(n,e){let t=n[xs],r=t?t.get(tn,null):null;r&&r.handleError(e)}function Cv(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],d=n.data[s];mS(d,l,r,a,c,i)}}function RS(n,e,t){let r=gT(e,n);fL(n[yt],r,t)}function gV(n,e){let t=Di(e,n),r=t[pe];mV(r,t);let i=t[Fr];i!==null&&t[kc]===null&&(t[kc]=yv(i,t[xs])),Dv(r,t,t[kt])}function mV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Dv(n,e,t){ov(e);try{let r=n.viewQuery;r!==null&&yy(1,r,t);let i=n.template;i!==null&&vS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Os]?.finishViewCreation(n),n.staticContentQueries&&AS(n,e),n.staticViewQueries&&yy(2,n.viewQuery,t);let o=n.components;o!==null&&yV(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ue]&=-5,sv()}}function yV(n,e){for(let t=0;t<e.length;t++)gV(n,e[t])}function vh(n,e,t,r){let i=ye(null);try{let o=e.tView,a=n[ue]&4096?4096:16,c=gh(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Ns]=l;let d=n[Os];return d!==null&&(c[Os]=d.createEmbeddedView(o)),Dv(o,c,t),c}finally{ye(i)}}function PS(n,e){let t=Gt+e;if(t<n.length)return n[t]}function jc(n,e){return!e||e.firstChild===null||QT(n)}function _h(n,e,t,r=!0){let i=e[pe];if(yL(i,e,n,t),r){let s=gy(t,n),a=e[yt],c=lS(a,n[go]);c!==null&&gL(i,n[Gn],a,e,c,s)}let o=e[kc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xS(n,e){let t=zc(n,e);return t!==void 0&&fh(t[pe],t),t}function Wd(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(ar(o)),Lr(o)&&vV(o,r);let s=t.type;if(s&8)Wd(n,e,t.child,r);else if(s&32){let a=vv(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=dS(e,t);if(Array.isArray(a))r.push(...a);else{let c=mo(e[$n]);Wd(c[pe],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function vV(n,e){for(let t=Gt;t<n.length;t++){let r=n[t],i=r[pe].firstChild;i!==null&&Wd(r[pe],r,i,e)}n[go]!==n[Fr]&&e.push(n[go])}var NS=[];function _V(n){return n[pn]??EV(n)}function EV(n){let e=NS.pop()??Object.create(IV);return e.lView=n,e}function wV(n){n.lView[pn]!==n&&(n.lView=null,NS.push(n))}var IV=j(P({},to),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Kc(n.lView)},consumerOnSignalRead(){this.lView[pn]=this}});function bV(n){let e=n[pn]??Object.create(CV);return e.lView=n,e}var CV=j(P({},to),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=mo(n.lView);for(;e&&!OS(e[pe]);)e=mo(e);e&&nv(e)},consumerOnSignalRead(){this.lView[pn]=this}});function OS(n){return n.type!==2}function kS(n){if(n[po]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[po])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ue]&8192)}}var DV=100;function FS(n,e=!0,t=0){let i=n[_i].rendererFactory,o=!1;o||i.begin?.();try{TV(n,t)}catch(s){throw e&&MS(n,s),s}finally{o||i.end?.()}}function TV(n,e){let t=wT();try{zd(!0),vy(n,e);let r=0;for(;uh(n);){if(r===DV)throw new V(103,!1);r++,vy(n,1)}}finally{zd(t)}}function SV(n,e,t,r){let i=e[ue];if((i&256)===256)return;let o=!1,s=!1;ov(e);let a=!0,c=null,l=null;o||(OS(n)?(l=_V(e),c=ds(l)):mC()===null?(a=!1,l=bV(e),c=ds(l)):e[pn]&&(hs(e[pn]),e[pn]=null));try{mT(e),EF(n.bindingStartIndex),t!==null&&vS(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&Sd(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Ad(e,m,0,null),Om(e,0)}if(s||AV(e),kS(e),LS(e,0),n.contentQueries!==null&&AS(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&Sd(e,m)}else{let m=n.contentHooks;m!==null&&Ad(e,m,1),Om(e,1)}BL(n,e);let f=n.components;f!==null&&zS(e,f,0);let g=n.viewQuery;if(g!==null&&yy(2,g,r),!o)if(d){let m=n.viewCheckHooks;m!==null&&Sd(e,m)}else{let m=n.viewHooks;m!==null&&Ad(e,m,2),Om(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Td]){for(let m of e[Td])m();e[Td]=null}o||(e[ue]&=-73)}catch(d){throw o||Kc(e),d}finally{l!==null&&(vc(l,c),a&&wV(l)),sv()}}function LS(n,e){for(let t=JT(n);t!==null;t=XT(t))for(let r=Gt;r<t.length;r++){let i=t[r];VS(i,e)}}function AV(n){for(let e=JT(n);e!==null;e=XT(e)){if(!(e[ue]&Vd.HasTransplantedViews))continue;let t=e[Ld];for(let r=0;r<t.length;r++){let i=t[r];nv(i)}}}function MV(n,e,t){let r=Di(e,n);VS(r,t)}function VS(n,e){tv(n)&&vy(n,e)}function vy(n,e){let r=n[pe],i=n[ue],o=n[pn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&_c(o)),s||=!1,o&&(o.dirty=!1),n[ue]&=-9217,s)SV(r,n,r.template,n[kt]);else if(i&8192){kS(n),LS(n,1);let a=r.components;a!==null&&zS(n,a,1)}}function zS(n,e,t){for(let r=0;r<e.length;r++)MV(n,e[r],t)}function Tv(n,e){let t=wT()?64:1088;for(n[_i].changeDetectionScheduler?.notify(e);n;){n[ue]|=t;let r=mo(n);if(Jm(n)&&!r)return n;n=r}return null}var wo=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[pe];return Wd(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[kt]}get dirty(){return!!(this._lView[ue]&9280)||!!this._lView[pn]?.dirty}set context(e){this._lView[kt]=e}get destroyed(){return(this._lView[ue]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Wt];if(Lr(e)){let t=e[Fd],r=t?t.indexOf(this):-1;r>-1&&(zc(e,r),Nd(t,r))}this._attachedToViewContainer=!1}fh(this._lView[pe],this._lView)}onDestroy(e){yT(this._lView,e)}markForCheck(){Tv(this._cdRefInjectingView||this._lView,4)}markForRefresh(){nv(this._cdRefInjectingView||this._lView)}detach(){this._lView[ue]&=-129}reattach(){ey(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,FS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Jm(this._lView),t=this._lView[Ns];t!==null&&!e&&_v(t,this._lView),aS(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=Jm(this._lView),r=this._lView[Ns];r!==null&&!t&&cS(r,this._lView),ey(this._lView)}},Eh=(()=>{class n{static __NG_ELEMENT_ID__=xV}return n})(),RV=Eh,PV=class extends RV{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=vh(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new wo(i)}};function xV(){return NV(on(),Se())}function NV(n,e){return n.type&4?new PV(e,n,hh(n,e)):null}var yee=new RegExp(`^(\\d+)*(${aL}|${sL})*(.*)`);var OV=()=>null;function Uc(n,e){return OV(n,e)}var _y=class{},Kd=class{},Ey=class{resolveComponentFactory(e){throw Error(`No component factory found for ${qt(e)}.`)}},Ls=class{static NULL=new Ey},Ii=class{},Bs=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>kV()}return n})();function kV(){let n=Se(),e=on(),t=Di(e.index,n);return(vi(t)?t:n)[yt]}var FV=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>null})}return n})();function wy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=qm(i,a);else if(o==2){let c=a,l=e[++s];r=qm(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Qd=class extends Ls{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=fo(e);return new Bc(t,this.ngModule)}};function bD(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:wi.None;e?t.push({propName:s,templateName:r,isSignal:(a&wi.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function LV(n){let e=n.toLowerCase();return e==="svg"?pT:e==="math"?aF:null}var Bc=class extends Kd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,t=e.inputTransforms,r=bD(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return bD(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=jL(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ye(null);try{i=i||this.ngModule;let s=i instanceof An?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new iy(e,s):e,c=a.get(Ii,null);if(c===null)throw new V(407,!1);let l=a.get(FV,null),d=a.get(_o,null),f={rendererFactory:c,sanitizer:l,changeDetectionScheduler:d},g=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",v=r?qL(g,r,this.componentDef.encapsulation,a):sS(g,m,LV(m)),I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);let S=null;v!==null&&(S=yv(v,a,!0));let x=bv(0,null,null,1,0,null,null,null,null,null,null),O=gh(null,x,null,I,null,null,f,g,a,null,S);ov(O);let B,z,ne=null;try{let q=this.componentDef,b,_=null;q.findHostDirectiveDefs?(b=[],_=new Map,q.findHostDirectiveDefs(q,b,_),b.push(q)):b=[q];let E=VV(O,v);ne=zV(E,v,q,b,O,f,g),z=Xy(x,Kt),v&&BV(g,q,v,r),t!==void 0&&$V(z,this.ngContentSelectors,t),B=UV(ne,q,b,_,O,[HV]),Dv(x,O,null)}catch(q){throw ne!==null&&hy(ne),hy(O),q}finally{sv()}return new Iy(this.componentType,B,hh(z,O),O,z)}finally{ye(o)}}},Iy=class extends _y{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new wo(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Cv(o[pe],o,i,e,t),this.previousInputValues.set(e,t);let s=Di(this._tNode.index,o);Tv(s,1)}}get injector(){return new lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function VV(n,e){let t=n[pe],r=Kt;return n[r]=e,mh(t,r,2,"#host",null)}function zV(n,e,t,r,i,o,s){let a=i[pe];jV(r,n,e,s);let c=null;e!==null&&(c=yv(e,i[xs]));let l=o.rendererFactory.createRenderer(e,t),d=gh(i,IS(t),null,TS(t),i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&my(a,n,r.length-1),yh(i,d),i[n.index]=d}function jV(n,e,t,r){for(let i of n)e.mergedAttrs=Lc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(wy(e,e.mergedAttrs,!0),t!==null&&fS(r,t,e))}function UV(n,e,t,r,i,o){let s=on(),a=i[pe],c=Mn(s,i);CS(a,i,s,t,null,r);for(let d=0;d<t.length;d++){let f=s.directiveStart+d,g=Fs(i,a,f,s);Eo(g,i)}DS(a,i,s),c&&Eo(c,i);let l=Fs(i,a,s.directiveStart+s.componentOffset,s);if(n[kt]=i[kt]=l,o!==null)for(let d of o)d(l,e);return _S(a,s,i),l}function BV(n,e,t,r){if(r)ry(n,t,["ng-version","19.0.3"]);else{let{attrs:i,classes:o}=UL(e.selectors[0]);i&&ry(n,t,i),o&&o.length>0&&hS(n,t,o.join(" "))}}function $V(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}function HV(){let n=on();uv(Se()[pe],n)}var $s=(()=>{class n{static __NG_ELEMENT_ID__=qV}return n})();function qV(){let n=on();return WV(n,Se())}var GV=$s,jS=class extends GV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return hh(this._hostTNode,this._hostLView)}get injector(){return new lo(this._hostTNode,this._hostLView)}get parentInjector(){let e=lv(this._hostTNode,this._hostLView);if(xT(e)){let t=Ud(e,this._hostLView),r=jd(e),i=t[pe].data[r+8];return new lo(i,t)}else return new lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=CD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Gt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Uc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,jc(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!rF(e),a;if(s)a=t;else{let v=t||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let c=s?e:new Bc(fo(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let I=(s?l:this.parentInjector).get(An,null);I&&(o=I)}let d=fo(c.componentType??{}),f=Uc(this._lContainer,d?.id??null),g=f?.firstChild??null,m=c.create(l,i,g,o);return this.insertImpl(m.hostView,a,jc(this._hostTNode,f)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(cF(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Wt],l=new jS(c,c[Gn],c[Wt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return _h(s,i,o,r),e.attachToViewContainerRef(),QD(Vm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=CD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=zc(this._lContainer,t);r&&(Nd(Vm(this._lContainer),t),fh(r[pe],r))}detach(e){let t=this._adjustIndex(e,-1),r=zc(this._lContainer,t);return r&&Nd(Vm(this._lContainer),t)!=null?new wo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function CD(n){return n[Fd]}function Vm(n){return n[Fd]||(n[Fd]=[])}function WV(n,e){let t,r=e[n.index];return Lr(r)?t=r:(t=SS(r,e,null,n),e[n.index]=t,yh(e,t)),QV(t,e,n,r),new jS(t,n,e)}function KV(n,e){let t=n[yt],r=t.createComment(""),i=Mn(e,n),o=lS(t,i);return Gd(t,o,r,IL(t,i),!1),r}var QV=JV,YV=()=>!1;function ZV(n,e,t){return YV(n,e,t)}function JV(n,e,t,r){if(n[go])return;let i;t.type&8?i=ar(r):i=KV(e,t),n[go]=i}function ur(n,e){Yn("NgSignals");let t=SC(n),r=t[fn];return e?.equal&&(r.equal=e.equal),t.set=i=>Hl(r,i),t.update=i=>AC(r,i),t.asReadonly=XV.bind(t),t}function XV(){let n=this[fn];if(n.readonlyFn===void 0){let e=()=>this();e[fn]=n,n.readonlyFn=e}return n.readonlyFn}var bi=class{},$c=class{};var by=class extends bi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Qd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=JD(e);this._bootstrapComponents=oS(o.bootstrap),this._r3Injector=UT(e,t,[{provide:bi,useValue:this},{provide:Ls,useValue:this.componentFactoryResolver},...r],qt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Cy=class extends $c{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new by(this.moduleType,e,[])}};var Yd=class extends bi{injector;componentFactoryResolver=new Qd(this);instance=null;constructor(e){super();let t=new Oc([...e.providers,{provide:bi,useValue:this},{provide:Ls,useValue:this.componentFactoryResolver}],e.parent||Zy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sv(n,e,t=null){return new Yd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var ez=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=nT(!1,t.type),i=r.length>0?Sv([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(W(An))})}return n})();function Pe(n){return qc(()=>{let e=US(n),t=j(P({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===YT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(ez).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||cr.Emulated,styles:n.styles||en,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Yn("NgStandalone"),BS(t);let r=n.dependencies;return t.directiveDefs=TD(r,!1),t.pipeDefs=TD(r,!0),t.id=rz(t),t})}function tz(n){return fo(n)||XD(n)}function nz(n){return n!==null}function Zn(n){return qc(()=>({type:n.type,bootstrap:n.bootstrap||en,declarations:n.declarations||en,imports:n.imports||en,exports:n.exports||en,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function DD(n,e){if(n==null)return Rs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=wi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==wi.None?[r,a]:r,e[o]=s):t[o]=r}return t}function sn(n){return qc(()=>{let e=US(n);return BS(e),e})}function Jc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function US(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Rs,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||en,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DD(n.inputs,e),outputs:DD(n.outputs),debugInfo:null}}function BS(n){n.features?.forEach(e=>e(n))}function TD(n,e){if(!n)return null;let t=e?eT:tz;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(nz)}function rz(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function iz(n){return Object.getPrototypeOf(n.prototype).constructor}function Ai(n){let e=iz(n.type),t=!0,r=[n];for(;e;){let i;if(Ei(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Id(n.inputs),s.inputTransforms=Id(n.inputTransforms),s.declaredInputs=Id(n.declaredInputs),s.outputs=Id(n.outputs);let a=i.hostBindings;a&&uz(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&az(n,c),l&&cz(n,l),oz(n,i),D1(n.outputs,i.outputs),Ei(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Ai&&(t=!1)}}e=Object.getPrototypeOf(e)}sz(r)}function oz(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function sz(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Lc(i.hostAttrs,t=Lc(t,i.hostAttrs))}}function Id(n){return n===Rs?{}:n===en?[]:n}function az(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function cz(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function uz(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function $S(n){return dz(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function lz(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function dz(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Av(n,e,t){return n[e]=t}function Hn(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Mv(n,e,t,r){let i=Hn(n,e,t);return Hn(n,e+1,r)||i}function hz(n,e,t,r,i){let o=Mv(n,e,t,r);return Hn(n,e+2,i)||o}function fz(n){return(n.flags&32)===32}function pz(n,e,t,r,i,o,s,a,c){let l=e.consts,d=mh(e,n,4,s||null,a||null);bS(e,t,d,ks(l,c)),uv(e,d);let f=d.tView=bv(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function Dy(n,e,t,r,i,o,s,a,c,l){let d=t+Kt,f=e.firstCreatePass?pz(d,e,n,r,i,o,s,a,c):e.data[d];Qc(f,!1);let g=gz(e,n,f,t);av()&&Ev(e,n,g,f),Eo(g,n);let m=SS(g,n,g,f);return n[d]=m,yh(n,m),ZV(m,f,n),Jy(f)&&ES(e,n,f),c!=null&&wS(n,f,l),f}function rt(n,e,t,r,i,o,s,a){let c=Se(),l=rn(),d=ks(l.consts,o);return Dy(c,l,n,e,t,r,i,d,s,a),rt}var gz=mz;function mz(n,e,t,r){return cv(!0),e[yt].createComment("")}var wh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var HS=new F("");function Mi(n){return!!n&&typeof n.then=="function"}function Rv(n){return!!n&&typeof n.subscribe=="function"}var qS=new F("");var GS=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(qS,{optional:!0})??[];injector=N(We);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Qt(this.injector,i);if(Mi(o))t.push(o);else if(Rv(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WS=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>new Zd})}return n})(),Zd=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},Pv=new F("");function yz(){TC(()=>{throw new V(600,!1)})}function vz(n){return n.isBoundToModule}var _z=10;function Ez(n,e,t){try{let r=t();return Mi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Co=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(JF);afterRenderManager=N(uL);zonelessEnabled=N(lh);rootEffectScheduler=N(WS);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Oe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=N(Si).hasPendingTasks.pipe(Y(t=>!t));constructor(){N(iS,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(An);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Kd;if(!this._injector.get(GS).done){let g=!i&&tT(t),m=!1;throw new V(405,m)}let s;i?s=t:s=this._injector.get(Ls).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=vz(s)?void 0:this._injector.get(bi),c=r||s.selector,l=s.create(We.NULL,[],c,a),d=l.location.nativeElement,f=l.injector.get(HS,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Md(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(rS.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new V(101,!1);let t=ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ye(t),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ii,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let t=0;for(;this.dirtyFlags!==0&&t++<_z;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)wz(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>uh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Md(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Pv,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Md(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Md(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function wz(n,e,t,r){if(!t&&!uh(n))return;FS(n,e,t&&!r?0:1)}function Pn(n,e,t,r){let i=Se(),o=Yc();if(Hn(i,o,e)){let s=rn(),a=AT();uV(a,i,n,e,t,r)}return Pn}function KS(n,e,t,r){return Hn(n,Yc(),t)?e+xc(t)+r:Rn}function Iz(n,e,t,r,i,o){let s=_F(),a=Mv(n,s,t,i);return iv(2),a?e+xc(t)+r+xc(i)+o:Rn}function bd(n,e){return n<<17|e<<2}function Io(n){return n>>17&32767}function bz(n){return(n&2)==2}function Cz(n,e){return n&131071|e<<17}function Ty(n){return n|2}function Vs(n){return(n&131068)>>2}function zm(n,e){return n&-131069|e<<2}function Dz(n){return(n&1)===1}function Sy(n){return n|1}function Tz(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Io(s),c=Vs(s);n[r]=t;let l=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||Gc(f,d)>0)&&(l=!0)}else d=t;if(i)if(c!==0){let g=Io(n[a+1]);n[r+1]=bd(g,a),g!==0&&(n[g+1]=zm(n[g+1],r)),n[a+1]=Cz(n[a+1],r)}else n[r+1]=bd(a,0),a!==0&&(n[a+1]=zm(n[a+1],r)),a=r;else n[r+1]=bd(c,0),a===0?a=r:n[c+1]=zm(n[c+1],r),c=r;l&&(n[r+1]=Ty(n[r+1])),SD(n,d,r,!0),SD(n,d,r,!1),Sz(e,d,n,r,o),s=bd(a,c),o?e.classBindings=s:e.styleBindings=s}function Sz(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Gc(o,e)>=0&&(t[r+1]=Sy(t[r+1]))}function SD(n,e,t,r){let i=n[t+1],o=e===null,s=r?Io(i):Vs(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];Az(c,e)&&(a=!0,n[s+1]=r?Sy(l):Ty(l)),s=r?Io(l):Vs(l)}a&&(n[t+1]=r?Ty(i):Sy(i))}function Az(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Gc(n,e)>=0:!1}var pt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QS(n){return n.substring(pt.key,pt.keyEnd)}function Mz(n){return n.substring(pt.value,pt.valueEnd)}function Rz(n){return JS(n),YS(n,zs(n,0,pt.textEnd))}function YS(n,e){let t=pt.textEnd;return t===e?-1:(e=pt.keyEnd=xz(n,pt.key=e,t),zs(n,e,t))}function Pz(n){return JS(n),ZS(n,zs(n,0,pt.textEnd))}function ZS(n,e){let t=pt.textEnd,r=pt.key=zs(n,e,t);return t===r?-1:(r=pt.keyEnd=Nz(n,r,t),r=AD(n,r,t,58),r=pt.value=zs(n,r,t),r=pt.valueEnd=Oz(n,r,t),AD(n,r,t,59))}function JS(n){pt.key=0,pt.keyEnd=0,pt.value=0,pt.valueEnd=0,pt.textEnd=n.length}function zs(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function xz(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Nz(n,e,t){let r;for(;e<t&&((r=n.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function AD(n,e,t,r){return e=zs(n,e,t),e<t&&e++,e}function Oz(n,e,t){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<t;){let c=n.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=MD(n,c,s,t):e===s-4&&o===85&&i===82&&r===76&&c===40?a=s=MD(n,41,s,t):c>32&&(a=s),o=i,i=r,r=c&-33}return a}function MD(n,e,t,r){let i=-1,o=t;for(;o<r;){let s=n.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function ke(n,e,t){let r=Se(),i=Yc();if(Hn(r,i,e)){let o=rn(),s=AT();ZL(o,s,r,n,e,r[yt],t,!1)}return ke}function Ay(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Cv(n,t,o[s],s,r)}function Ih(n,e,t){return eA(n,e,t,!1),Ih}function vt(n,e){return eA(n,e,null,!0),vt}function XS(n){tA(iA,kz,n,!1)}function kz(n,e){for(let t=Pz(e);t>=0;t=ZS(e,t))iA(n,QS(e),Mz(e))}function Fz(n,e){for(let t=Rz(e);t>=0;t=YS(e,t))oh(n,QS(e),!0)}function eA(n,e,t,r){let i=Se(),o=rn(),s=iv(2);if(o.firstUpdatePass&&rA(o,n,s,r),e!==Rn&&Hn(i,s,e)){let a=o.data[Vr()];oA(o,a,i,i[yt],n,i[s+1]=$z(e,t),r,s)}}function tA(n,e,t,r){let i=rn(),o=iv(2);i.firstUpdatePass&&rA(i,null,o,r);let s=Se();if(t!==Rn&&Hn(s,o,t)){let a=i.data[Vr()];if(sA(a,r)&&!nA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=qm(c,t||"")),Ay(i,a,s,t,r)}else Bz(i,a,s,s[yt],s[o+1],s[o+1]=Uz(n,e,t),r,o)}}function nA(n,e){return e>=n.expandoStartIndex}function rA(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Vr()],s=nA(n,t);sA(o,r)&&e===null&&!s&&(e=!1),e=Lz(i,o,e,r),Tz(i,o,e,t,s,r)}}function Lz(n,e,t,r){let i=CF(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=jm(null,n,e,t,r),t=Hc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=jm(i,n,e,t,r),o===null){let c=Vz(n,e,r);c!==void 0&&Array.isArray(c)&&(c=jm(null,n,e,c[1],r),c=Hc(c,e.attrs,r),zz(n,e,r,c))}else o=jz(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Vz(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Vs(r)!==0)return n[Io(r)]}function zz(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Io(i)]=r}function jz(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Hc(r,s,t)}return Hc(r,e.attrs,t)}function jm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Hc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Hc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),oh(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Uz(n,e,t){if(t==null||t==="")return en;let r=[],i=Zc(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function iA(n,e,t){oh(n,e,Zc(t))}function Bz(n,e,t,r,i,o,s,a){i===Rn&&(i=en);let c=0,l=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let g=c<i.length?i[c+1]:void 0,m=l<o.length?o[l+1]:void 0,v=null,I;d===f?(c+=2,l+=2,g!==m&&(v=f,I=m)):f===null||d!==null&&d<f?(c+=2,v=d):(l+=2,v=f,I=m),v!==null&&oA(n,e,t,r,v,I,s,a),d=c<i.length?i[c]:null,f=l<o.length?o[l]:null}}function oA(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],d=Dz(l)?RD(c,e,t,i,Vs(l),s):void 0;if(!Jd(d)){Jd(o)||bz(l)&&(o=RD(c,null,t,i,a,s));let f=gT(Vr(),t);ML(r,s,f,i,o)}}function RD(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),d=l?c[1]:c,f=d===null,g=t[i+1];g===Rn&&(g=f?en:void 0);let m=f?xm(g,r):d===r?g:void 0;if(l&&!Jd(m)&&(m=xm(c,r)),Jd(m)&&(a=m,s))return a;let v=n[i+1];i=s?Io(v):Vs(v)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=xm(c,r))}return a}function Jd(n){return n!==void 0}function $z(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=qt(Zc(n)))),n}function sA(n,e){return(n.flags&(e?8:16))!==0}function xn(n,e,t){let r=Se(),i=KS(r,n,e,t);tA(oh,Fz,i,!0)}var My=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Um(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function Hz(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=n.at(o),d=e[o],f=Um(o,l,o,d,t);if(f!==0){f<0&&n.updateValue(o,d),o++;continue}let g=n.at(s),m=e[c],v=Um(s,g,c,m,t);if(v!==0){v<0&&n.updateValue(s,m),s--,c--;continue}let I=t(o,l),S=t(s,g),x=t(o,d);if(Object.is(x,S)){let O=t(c,m);Object.is(O,I)?(n.swap(o,s),n.updateValue(s,m),c--,s--):n.move(s,o),n.updateValue(o,d),o++;continue}if(r??=new Xd,i??=xD(n,o,s,t),Ry(n,r,o,x))n.updateValue(o,d),o++,s++;else if(i.has(x))r.set(I,n.detach(o)),s--;else{let O=n.create(o,e[o]);n.attach(o,O),o++,s++}}for(;o<=c;)PD(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let d=n.at(o),f=l.value,g=Um(o,d,o,f,t);if(g!==0)g<0&&n.updateValue(o,f),o++,l=c.next();else{r??=new Xd,i??=xD(n,o,s,t);let m=t(o,f);if(Ry(n,r,o,m))n.updateValue(o,f),o++,s++,l=c.next();else if(!i.has(m))n.attach(o,n.create(o,f)),o++,s++,l=c.next();else{let v=t(o,d);r.set(v,n.detach(o)),s--}}}for(;!l.done;)PD(n,r,t,n.length,l.value),l=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function Ry(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function PD(n,e,t,r,i){if(Ry(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function xD(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Xd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Jn(n,e){Yn("NgControlFlow");let t=Se(),r=Yc(),i=t[r]!==Rn?t[r]:-1,o=i!==-1?eh(t,Kt+i):void 0,s=0;if(Hn(t,r,n)){let a=ye(null);try{if(o!==void 0&&xS(o,s),n!==-1){let c=Kt+n,l=eh(t,c),d=Oy(t[pe],c),f=Uc(l,d.tView.ssrId),g=vh(t,d,e,{dehydratedView:f});_h(l,g,s,jc(d,f))}}finally{ye(a)}}else if(o!==void 0){let a=PS(o,s);a!==void 0&&(a[kt]=e)}}var Py=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Gt}};function aA(n,e){return e}var xy=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Hs(n,e,t,r,i,o,s,a,c,l,d,f,g){Yn("NgControlFlow");let m=Se(),v=rn(),I=c!==void 0,S=Se(),x=a?s.bind(S[$n][kt]):s,O=new xy(I,x);S[Kt+n]=O,Dy(m,v,n+1,e,t,r,i,ks(v.consts,o)),I&&Dy(m,v,n+2,c,l,d,f,ks(v.consts,g))}var Ny=class extends My{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Gt}at(e){return this.getLView(e)[kt].$implicit}attach(e,t){let r=t[kc];this.needsIndexUpdate||=e!==this.length,_h(this.lContainer,t,e,jc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,qz(this.lContainer,e)}create(e,t){let r=Uc(this.lContainer,this.templateTNode.tView.ssrId),i=vh(this.hostLView,this.templateTNode,new Py(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){fh(e[pe],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[kt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[kt].$index=e}getLView(e){return Gz(this.lContainer,e)}};function qs(n){let e=ye(null),t=Vr();try{let r=Se(),i=r[pe],o=r[t],s=t+1,a=eh(r,s);if(o.liveCollection===void 0){let l=Oy(i,s);o.liveCollection=new Ny(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(Hz(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Yc(),d=c.length===0;if(Hn(r,l,d)){let f=t+2,g=eh(r,f);if(d){let m=Oy(i,f),v=Uc(g,m.tView.ssrId),I=vh(r,m,void 0,{dehydratedView:v});_h(g,I,0,jc(m,v))}else xS(g,0)}}}finally{ye(e)}}function eh(n,e){return n[e]}function qz(n,e){return zc(n,e)}function Gz(n,e){return PS(n,e)}function Oy(n,e){return Xy(n,e)}function Wz(n,e,t,r,i,o){let s=e.consts,a=ks(s,i),c=mh(e,n,2,r,a);return bS(e,t,c,ks(s,o)),c.attrs!==null&&wy(c,c.attrs,!1),c.mergedAttrs!==null&&wy(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function $(n,e,t,r){let i=Se(),o=rn(),s=Kt+n,a=i[yt],c=o.firstCreatePass?Wz(s,o,i,e,t,r):o.data[s],l=Kz(o,i,c,a,e,n);i[s]=l;let d=Jy(c);return Qc(c,!0),fS(a,l,c),!fz(c)&&av()&&Ev(o,i,l,c),dF()===0&&Eo(l,i),hF(),d&&(ES(o,i,c),_S(o,c,i)),r!==null&&wS(i,c),$}function H(){let n=on();ET()?vF():(n=n.parent,Qc(n,!1));let e=n;gF(e)&&mF(),fF();let t=rn();return t.firstCreatePass&&(uv(t,n),uT(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&PF(e)&&Ay(t,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xF(e)&&Ay(t,e,Se(),e.stylesWithoutHost,!1),H}function Ee(n,e,t,r){return $(n,e,t,r),H(),Ee}var Kz=(n,e,t,r,i,o)=>(cv(!0),sS(r,i,SF()));function lr(){return Se()}var uo=void 0;function Qz(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var Yz=["en",[["a","p"],["AM","PM"],uo],[["AM","PM"],uo,uo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uo,"{1} 'at' {0}",uo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Qz],Bm={};function bh(n){let e=Zz(n),t=ND(e);if(t)return t;let r=e.split("-")[0];if(t=ND(r),t)return t;if(r==="en")return Yz;throw new V(701,!1)}function ND(n){return n in Bm||(Bm[n]=Ac.ng&&Ac.ng.common&&Ac.ng.common.locales&&Ac.ng.common.locales[n]),Bm[n]}var Do=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Do||{});function Zz(n){return n.toLowerCase().replace(/_/g,"-")}var th="en-US",Jz="USD";var Xz=th;function ej(n){typeof n=="string"&&(Xz=n.toLowerCase().replace(/_/g,"-"))}var tj=(n,e,t)=>{};function Fe(n,e,t,r){let i=Se(),o=rn(),s=on();return rj(o,i,i[yt],s,n,e,r),Fe}function nj(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[kd],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function rj(n,e,t,r,i,o,s){let a=Jy(r),l=n.firstCreatePass&&pV(n),d=e[kt],f=fV(e),g=!0;if(r.type&3||s){let I=Mn(r,e),S=s?s(I):I,x=f.length,O=s?z=>s(ar(z[r.index])):r.index,B=null;if(!s&&a&&(B=nj(n,e,i,r.index)),B!==null){let z=B.__ngLastListenerFn__||B;z.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,g=!1}else{o=kD(r,e,d,o),tj(I,i,o);let z=t.listen(S,i,o);f.push(o,z),l&&l.push(i,O,x,x+1)}}else o=kD(r,e,d,o);let m=r.outputs,v;if(g&&m!==null&&(v=m[i])){let I=v.length;if(I)for(let S=0;S<I;S+=2){let x=v[S],O=v[S+1],ne=e[x][O].subscribe(o),q=f.length;f.push(o,ne),l&&l.push(i,r.index,q,-(q+1))}}}function OD(n,e,t,r){let i=ye(null);try{return ir(6,e,t),t(r)!==!1}catch(o){return MS(n,o),!1}finally{ir(7,e,t),ye(i)}}function kD(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Di(n.index,e):e;Tv(s,5);let a=OD(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=OD(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Ue(n=1){return TF(n)}function ij(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function ae(n,e=""){let t=Se(),r=rn(),i=n+Kt,o=r.firstCreatePass?mh(r,i,1,e,null):r.data[i],s=oj(r,t,o,e,n);t[i]=s,av()&&Ev(r,t,s,o),Qc(o,!1)}var oj=(n,e,t,r,i)=>(cv(!0),hL(e[yt],r));function xv(n){return Yt("",n,""),xv}function Yt(n,e,t){let r=Se(),i=KS(r,n,e,t);return i!==Rn&&RS(r,Vr(),i),Yt}function Xc(n,e,t,r,i){let o=Se(),s=Iz(o,n,e,t,r,i);return s!==Rn&&RS(o,Vr(),s),Xc}function sj(n,e,t){let r=rn();if(r.firstCreatePass){let i=Ei(n);ky(t,r.data,r.blueprint,i,!0),ky(e,r.data,r.blueprint,i,!1)}}function ky(n,e,t,r,i){if(n=Ht(n),Array.isArray(n))for(let o=0;o<n.length;o++)ky(n[o],e,t,r,i);else{let o=rn(),s=Se(),a=on(),c=Ps(n)?n:Ht(n.provide),l=oT(n),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(Ps(n)||!n.multi){let m=new vo(l,i,ie),v=Hm(c,e,i?d:d+g,f);v===-1?(sy($d(a,s),o,c),$m(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[v]=m,s[v]=m)}else{let m=Hm(c,e,d+g,f),v=Hm(c,e,d,d+g),I=m>=0&&t[m],S=v>=0&&t[v];if(i&&!S||!i&&!I){sy($d(a,s),o,c);let x=uj(i?cj:aj,t.length,i,r,l);!i&&S&&(t[v].providerFactory=x),$m(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(x),s.push(x)}else{let x=cA(t[i?v:m],l,!i&&r);$m(o,n,m>-1?m:v,x)}!i&&r&&S&&t[v].componentProviders++}}}function $m(n,e,t,r){let i=Ps(e),o=Y1(e);if(i||o){let c=(o?Ht(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(t);d===-1?l.push(t,[r,c]):l[d+1].push(r,c)}else l.push(t,c)}}}function cA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Hm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function aj(n,e,t,r){return Fy(this.multi,[])}function cj(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Fs(t,t[pe],this.providerFactory.index,r);o=a.slice(0,s),Fy(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Fy(i,o);return o}function Fy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function uj(n,e,t,r,i){let o=new vo(n,t,ie);return o.multi=[],o.index=e,o.componentProviders=0,cA(o,i,r&&!t),o}function Gs(n,e=[]){return t=>{t.providersResolver=(r,i)=>sj(r,i?i(n):n,e)}}function Nv(n,e){let t=n[e];return t===Rn?void 0:t}function lj(n,e,t,r,i,o){let s=e+t;return Hn(n,s,i)?Av(n,s+1,o?r.call(o,i):r(i)):Nv(n,s+1)}function dj(n,e,t,r,i,o,s){let a=e+t;return Mv(n,a,i,o)?Av(n,a+2,s?r.call(s,i,o):r(i,o)):Nv(n,a+2)}function hj(n,e,t,r,i,o,s,a){let c=e+t;return hz(n,c,i,o,s)?Av(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):Nv(n,c+3)}function Be(n,e){let t=rn(),r,i=n+Kt;t.firstCreatePass?(r=fj(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ho(r.type,!0)),s,a=Xt(ie);try{let c=Bd(!1),l=o();return Bd(c),ij(t,Se(),i,l),l}finally{Xt(a)}}function fj(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function it(n,e,t){let r=n+Kt,i=Se(),o=ev(i,r);return kv(i,r)?lj(i,rv(),e,o.transform,t,o):o.transform(t)}function uA(n,e,t,r){let i=n+Kt,o=Se(),s=ev(o,i);return kv(o,i)?dj(o,rv(),e,s.transform,t,r,s):s.transform(t,r)}function Ov(n,e,t,r,i){let o=n+Kt,s=Se(),a=ev(s,o);return kv(s,o)?hj(s,rv(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function kv(n,e){return n[pe].data[e].pure}var kr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},lA=new kr("19.0.3"),Ly=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Fv=(()=>{class n{compileModuleSync(t){return new Cy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=JD(t),o=oS(i.declarations).reduce((s,a)=>{let c=fo(a);return c&&s.push(new Bc(c)),s},[]);return new Ly(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pj=(()=>{class n{zone=N(De);changeDetectionScheduler=N(_o);applicationRef=N(Co);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gj=new F("",{factory:()=>!1});function dA({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De(j(P({},fA()),{scheduleInRootZone:t})),[{provide:De,useFactory:n},{provide:sr,multi:!0,useFactory:()=>{let r=N(pj,{optional:!0});return()=>r.initialize()}},{provide:sr,multi:!0,useFactory:()=>{let r=N(mj);return()=>{r.initialize()}}},e===!0?{provide:$T,useValue:!0}:[],{provide:HT,useValue:t??BT}]}function hA(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=dA({ngZoneFactory:()=>{let i=fA(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Yn("NgZone_CoalesceEvent"),new De(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Ft([{provide:gj,useValue:!0},{provide:lh,useValue:!1},r])}function fA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var mj=(()=>{class n{subscription=new nt;initialized=!1;zone=N(De);pendingTasks=N(Si);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yj=(()=>{class n{appRef=N(Co);taskService=N(Si);ngZone=N(De);zonelessEnabled=N(lh);tracing=N(iS,{optional:!0});disableScheduling=N($T,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new nt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(HT,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ly||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?hD:qT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vj(){return typeof $localize<"u"&&$localize.locale||th}var eu=new F("",{providedIn:"root",factory:()=>N(eu,ve.Optional|ve.SkipSelf)||vj()}),pA=new F("",{providedIn:"root",factory:()=>Jz});var Vy=new F("");function Cd(n){return!n.moduleRef}function _j(n){let e=Cd(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{Cd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(tn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Cd(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Vy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Vy);s.add(o),n.moduleRef.onDestroy(()=>{Md(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Ez(r,t,()=>{let o=e.get(GS);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(eu,th);if(ej(s||th),Cd(n)){let a=e.get(Co);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return Ej(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function Ej(n,e){let t=n.injector.get(Co);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new V(-403,!1);e.push(n)}var Rd=null;function wj(n=[],e){return We.create({name:e,providers:[{provide:sh,useValue:"platform"},{provide:Vy,useValue:new Set([()=>Rd=null])},...n]})}function Ij(n=[]){if(Rd)return Rd;let e=wj(n);return Rd=e,yz(),bj(e),e}function bj(n){let e=n.get(pv,null);Qt(n,()=>{e?.forEach(t=>t())})}function To(){return!1}var Ri=(()=>{class n{static __NG_ELEMENT_ID__=Cj}return n})();function Cj(n){return Dj(on(),Se(),(n&16)===16)}function Dj(n,e,t){if(ch(n)&&!t){let r=Di(n.index,e);return new wo(r,r)}else if(n.type&175){let r=e[$n];return new wo(r,e)}return null}var zy=class{constructor(){}supports(e){return $S(e)}create(e){return new jy(e)}},Tj=(n,e)=>e,jy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Tj}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<FD(r,i,o)?t:r,a=FD(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,d=c-i;if(l!=d){for(let g=0;g<l;g++){let m=g<o.length?o[g]:o[g]=0,v=m+g;d<=v&&v<l&&(o[g]=m+1)}let f=s.previousIndex;o[f]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!$S(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,lz(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Uy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new nh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Uy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},By=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},nh=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new By,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function FD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function LD(){return new Lv([new zy])}var Lv=(()=>{class n{factories;static \u0275prov=G({token:n,providedIn:"root",factory:LD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||LD()),deps:[[n,new KD,new nn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function gA(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=Ij(r),o=[dA({}),{provide:_o,useExisting:yj},...t||[]],s=new Yd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return _j({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Nn(n,e){Yn("NgSignals");let t=bC(n);return e?.equal&&(t[fn].equal=e.equal),t}function an(n){let e=ye(null);try{return n()}finally{ye(e)}}var mA=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Sj}return n})();function Sj(){return new mA(Se(),on())}var Aj=!1,Mj=(()=>{class n extends Zd{pendingTasks=N(Si);taskId=null;schedule(t){super.schedule(t),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),$y=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(e,t,r,i,o,s){this.scheduler=e,this.effectFn=t,this.zone=r,this.injector=o,this.watcher=MC(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(tn,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Rj(){}function yA(n,e){Yn("NgSignals"),!e?.injector&&Wc(Rj);let t=e?.injector??N(We),r=e?.manualCleanup!==!0?t.get(Ti):null,i=new $y(t.get(Mj),n,typeof Zone>"u"?null:Zone.current,r,t,e?.allowSignalWrites??!1),o=t.get(Ri,null,{optional:!0});return!o||!(o._lView[ue]&8)?i.watcher.notify():(o._lView[Td]??=[]).push(i.watcher.notify),i}var Pj=Aj;var Hy=class{[fn];constructor(e){this[fn]=e}destroy(){this[fn].destroy()}};function Ch(n,e){if(Pj)return yA(n,e);Yn("NgSignals"),!e?.injector&&Wc(Ch);let t=e?.injector??N(We),r=e?.manualCleanup!==!0?t.get(Ti):null,i,o=t.get(mA,null,{optional:!0}),s=t.get(_o);return o!==null&&!e?.forceRoot?(i=Oj(o.view,s,n),r instanceof Hd&&r._lView===o.view&&(r=null)):i=kj(n,t.get(WS),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Hy(i)}var vA=j(P({},to),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,onDestroyFn:Vc,run(){if(this.dirty=!1,this.hasRun&&!_c(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=ds(this),t=zd(!1);try{this.maybeCleanup(),this.fn(n)}finally{zd(t),vc(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),xj=j(P({},vA),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){hs(this),this.onDestroyFn(),this.maybeCleanup()}}),Nj=j(P({},vA),{consumerMarkedDirty(){this.view[ue]|=8192,Kc(this.view),this.notifier.notify(14)},destroy(){hs(this),this.onDestroyFn(),this.maybeCleanup(),this.view[po]?.delete(this)}});function Oj(n,e,t){let r=Object.create(Nj);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[po]??=new Set,n[po].add(r),r.consumerMarkedDirty(r),r}function kj(n,e,t){let r=Object.create(xj);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(13),r}var TA=null;function jr(){return TA}function SA(n){TA??=n}var Dh=class{};var cn=new F(""),AA=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>N(Vj),providedIn:"platform"})}return n})();var Vj=(()=>{class n extends AA{_location;_history;_doc=N(cn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jr().getBaseHref(this._doc)}onPopState(t){let r=jr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=jr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function MA(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function _A(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function So(n){return n&&n[0]!=="?"?"?"+n:n}var Ah=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>N(RA),providedIn:"root"})}return n})(),zj=new F(""),RA=(()=>{class n extends Ah{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(cn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return MA(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+So(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+So(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+So(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(AA),W(zj,8))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nu=(()=>{class n{_subject=new Oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Bj(_A(EA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+So(r))}normalize(t){return n.stripTrailingSlash(Uj(this._basePath,EA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+So(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+So(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=So;static joinWithSlash=MA;static stripTrailingSlash=_A;static \u0275fac=function(r){return new(r||n)(W(Ah))};static \u0275prov=G({token:n,factory:()=>jj(),providedIn:"root"})}return n})();function jj(){return new nu(W(Ah))}function Uj(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function EA(n){return n.replace(/\/index.html$/,"")}function Bj(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var PA={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Hv=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Hv||{});var On={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ws(n,e){let t=bh(n),r=t[Do.NumberSymbols][e];if(typeof r>"u"){if(e===On.CurrencyDecimal)return t[Do.NumberSymbols][On.Decimal];if(e===On.CurrencyGroup)return t[Do.NumberSymbols][On.Group]}return r}function xA(n,e){return bh(n)[Do.NumberFormats][e]}function $j(n){return bh(n)[Do.Currencies]}function Hj(n,e,t="en"){let r=$j(t)[n]||PA[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var qj=2;function Gj(n){let e,t=PA[n];return t&&(e=t[2]),typeof e=="number"?e:qj}var Wj=/^(\d+)?\.((\d+)(-(\d+))?)?$/,wA=22,Th=".",tu="0",Kj=";",Qj=",",Vv="#",IA="\xA4";function NA(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=Ws(t,On.Infinity);else{let l=Xj(n);s&&(l=Jj(l));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(o){let O=o.match(Wj);if(O===null)throw new Error(`${o} is not a valid digit info`);let B=O[1],z=O[3],ne=O[5];B!=null&&(d=zv(B)),z!=null&&(f=zv(z)),ne!=null?g=zv(ne):z!=null&&f>g&&(g=f)}e2(l,f,g);let m=l.digits,v=l.integerLen,I=l.exponent,S=[];for(c=m.every(O=>!O);v<d;v++)m.unshift(0);for(;v<0;v++)m.unshift(0);v>0?S=m.splice(v,m.length):(S=m,m=[0]);let x=[];for(m.length>=e.lgSize&&x.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)x.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&x.unshift(m.join("")),a=x.join(Ws(t,r)),S.length&&(a+=Ws(t,i)+S.join("")),I&&(a+=Ws(t,On.Exponential)+"+"+I)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function Yj(n,e,t,r,i){let o=xA(e,Hv.Currency),s=OA(o,Ws(e,On.MinusSign));return s.minFrac=Gj(r),s.maxFrac=s.minFrac,NA(n,s,e,On.CurrencyGroup,On.CurrencyDecimal,i).replace(IA,t).replace(IA,"").trim()}function Zj(n,e,t){let r=xA(e,Hv.Decimal),i=OA(r,Ws(e,On.MinusSign));return NA(n,i,e,On.Group,On.Decimal,t)}function OA(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Kj),i=r[0],o=r[1],s=i.indexOf(Th)!==-1?i.split(Th):[i.substring(0,i.lastIndexOf(tu)+1),i.substring(i.lastIndexOf(tu)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(Vv));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===tu?t.minFrac=t.maxFrac=d+1:f===Vv?t.maxFrac=d+1:t.posSuf+=f}let l=a.split(Qj);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,f=o.indexOf(Vv);t.negPre=o.substring(0,f).replace(/'/g,""),t.negSuf=o.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function Jj(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function Xj(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Th))>-1&&(e=e.replace(Th,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===tu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===tu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>wA&&(r=r.splice(0,wA-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function e2(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let f=s;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let f=1;f<s;f++)r[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,d=r.reduceRight(function(f,g,m,v){return g=g+f,v[m]=g<10?g:g-10,c&&(v[m]===0&&m>=l?v.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function zv(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function kA(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var jv=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},dr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new jv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),bA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);bA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ie($s),ie(Eh),ie(Lv))};static \u0275dir=sn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function bA(n,e){n.context.$implicit=e.item}var Mh=(()=>{class n{_viewContainer;_context=new Uv;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){CA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){CA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ie($s),ie(Eh))};static \u0275dir=sn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Uv=class{$implicit=null;ngIf=null};function CA(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${qt(e)}'.`)}function Rh(n,e){return new V(2100,!1)}var Bv=class{createSubscription(e,t){return an(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){an(()=>e.unsubscribe())}},$v=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},t2=new $v,n2=new Bv,hr=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Mi(t))return t2;if(Rv(t))return n2;throw Rh(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(ie(Ri,16))};static \u0275pipe=Jc({name:"async",type:n,pure:!1})}return n})();var r2=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Pi=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw Rh(n,t);return t.replace(r2,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Jc({name:"titlecase",type:n,pure:!0})}return n})();var FA=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!VA(t))return null;i||=this._locale;try{let o=zA(t);return Zj(o,i,r)}catch(o){throw Rh(n,o.message)}}static \u0275fac=function(r){return new(r||n)(ie(eu,16))};static \u0275pipe=Jc({name:"number",type:n,pure:!0})}return n})();var LA=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!VA(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=Hj(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=zA(t);return Yj(c,s,a,r,o)}catch(c){throw Rh(n,c.message)}}static \u0275fac=function(r){return new(r||n)(ie(eu,16),ie(pA,16))};static \u0275pipe=Jc({name:"currency",type:n,pure:!0})}return n})();function VA(n){return!(n==null||n===""||n!==n)}function zA(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Je=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Zn({type:n});static \u0275inj=qn({})}return n})(),qv="browser",i2="server";function Gv(n){return n===qv}function Wv(n){return n===i2}var Sh=class{};var Qv=class extends Dh{supportsDOMEvents=!0},Yv=class n extends Qv{static makeCurrent(){SA(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=o2();return t==null?null:s2(t)}resetBaseElement(){ru=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return kA(document.cookie,e)}},ru=null;function o2(){return ru=ru||document.querySelector("base"),ru?ru.getAttribute("href"):null}function s2(n){return new URL(n,document.baseURI).pathname}var a2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Zv=new F(""),HA=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(W(Zv),W(De))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Ph=class{_doc;constructor(e){this._doc=e}manager},Jv="ng-app-id";function jA(n){for(let e of n)e.remove()}function UA(n,e){let t=e.createElement("style");return t.textContent=n,t}function c2(n,e,t){let r=n.head?.querySelectorAll(`style[${Jv}="${e}"]`);if(r)for(let i of r)i.textContent&&(i.removeAttribute(Jv),t.set(i.textContent,{usage:0,elements:[i]}))}function Xv(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var qA=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Wv(o),c2(t,r,this.inline),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,UA);r?.forEach(i=>this.addUsage(i,this.external,Xv))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(jA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])jA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,UA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Xv(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Jv,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(W(cn),W(fv),W(mv,8),W(Qn))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Kv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},t_=/%COMP%/g,GA="%COMP%",u2=`_nghost-${GA}`,l2=`_ngcontent-${GA}`,d2=!0,h2=new F("",{providedIn:"root",factory:()=>d2});function f2(n){return l2.replace(t_,n)}function p2(n){return u2.replace(t_,n)}function WA(n,e){return e.map(t=>t.replace(t_,n))}var xh=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.platformIsServer=Wv(a),this.defaultRenderer=new iu(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cr.ShadowDom&&(r=j(P({},r),{encapsulation:cr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Nh?i.applyToHost(t):i instanceof ou&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case cr.Emulated:o=new Nh(c,l,r,this.appId,d,s,a,f);break;case cr.ShadowDom:return new e_(c,l,t,r,s,a,this.nonce,f);default:o=new ou(c,l,r,d,s,a,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(r){return new(r||n)(W(HA),W(qA),W(fv),W(h2),W(cn),W(Qn),W(De),W(mv))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),iu=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Kv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(BA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(BA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Kv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Kv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Or.DashCase|Or.Important)?e.style.setProperty(t,r,i&Or.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Or.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=jr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function BA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var e_=class extends iu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=WA(i.id,i.styles);for(let f of l){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}let d=i.getExternalStyles?.();if(d)for(let f of d){let g=Xv(f,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ou=class extends iu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?WA(c,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Nh=class extends ou{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=f2(l),this.hostAttr=p2(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},g2=(()=>{class n extends Ph{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||n)(W(cn))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),$A=["alt","control","meta","shift"],m2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},v2=(()=>{class n extends Ph{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),$A.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=m2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),$A.forEach(s=>{if(s!==i){let a=y2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(W(cn))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function KA(n,e){return gA(P({rootComponent:n},_2(e)))}function _2(n){return{appProviders:[...C2,...n?.providers??[]],platformProviders:b2}}function E2(){Yv.makeCurrent()}function w2(){return new tn}function I2(){return tS(document),document}var b2=[{provide:Qn,useValue:qv},{provide:pv,useValue:E2,multi:!0},{provide:cn,useFactory:I2,deps:[]}];var C2=[{provide:sh,useValue:"root"},{provide:tn,useFactory:w2,deps:[]},{provide:Zv,useClass:g2,multi:!0,deps:[cn,De,Qn]},{provide:Zv,useClass:v2,multi:!0,deps:[cn]},xh,qA,HA,{provide:Ii,useExisting:xh},{provide:Sh,useClass:a2,deps:[]},[]];var QA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(W(cn))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ZA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},T2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},JA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,m=l&63;c||(m=64,s||(g=64)),r.push(t[d],t[f],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ZA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):T2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||f==null)throw new r_;let g=o<<2|a>>4;if(r.push(g),l!==64){let m=a<<4&240|l>>2;if(r.push(m),f!==64){let v=l<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},r_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},S2=function(n){let e=ZA(n);return JA.encodeByteArray(e,!0)},su=function(n){return S2(n).replace(/\./g,"")},o_=function(n){try{return JA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function A2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var M2=()=>A2().__FIREBASE_DEFAULTS__,R2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},P2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&o_(n[1]);return e&&JSON.parse(e)},kh=()=>{try{return M2()||R2()||P2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},XA=n=>{var e,t;return(t=(e=kh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},eM=n=>{let e=XA(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},s_=()=>{var n;return(n=kh())===null||n===void 0?void 0:n.config},tM=n=>{var e;return(e=kh())===null||e===void 0?void 0:e[`_${n}`]};var Oh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function nM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[su(JSON.stringify(t)),su(JSON.stringify(s)),""].join(".")}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function x2(){var n;let e=(n=kh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fh(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sM(){return!x2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function au(){try{return typeof indexedDB=="object"}catch{return!1}}function Lh(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function aM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var N2="FirebaseError",Lt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=N2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gn.prototype.create)}},gn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?O2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Lt(i,a,r)}};function O2(n,e){return n.replace(k2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var k2=/\{\$([^}]+)}/g;function Ni(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(YA(o)&&YA(s)){if(!Ni(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function YA(n){return n!==null&&typeof n=="object"}function a_(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cM(n,e){let t=new i_(n,e);return t.subscribe.bind(t)}var i_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");F2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=n_),i.error===void 0&&(i.error=n_),i.complete===void 0&&(i.complete=n_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function F2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function n_(){}var L2=1e3,V2=2,z2=4*60*60*1e3,j2=.5;function c_(n,e=L2,t=V2){let r=e*Math.pow(t,n),i=Math.round(j2*r*(Math.random()-.5)*2);return Math.min(z2,r+i)}function _t(n){return n&&n._delegate?n._delegate:n}var Et=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ao="[DEFAULT]";var u_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Oh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B2(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function U2(n){return n===Ao?void 0:n}function B2(n){return n.instantiationMode==="EAGER"}var Vh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new u_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var $2=[],Ie=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ie||{}),H2={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},q2=Ie.INFO,G2={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},W2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=G2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fr=class{constructor(e){this.name=e,this._logLevel=q2,this._logHandler=W2,this._userLogHandler=null,$2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}};var K2=(n,e)=>e.some(t=>n instanceof t),uM,lM;function Q2(){return uM||(uM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y2(){return lM||(lM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var dM=new WeakMap,d_=new WeakMap,hM=new WeakMap,l_=new WeakMap,f_=new WeakMap;function Z2(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(pr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&dM.set(t,n)}).catch(()=>{}),f_.set(e,n),e}function J2(n){if(d_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});d_.set(n,e)}var h_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return d_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||hM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function fM(n){h_=n(h_)}function X2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(zh(this),e,...t);return hM.set(r,e.sort?e.sort():[e]),pr(r)}:Y2().includes(n)?function(...e){return n.apply(zh(this),e),pr(dM.get(this))}:function(...e){return pr(n.apply(zh(this),e))}}function eU(n){return typeof n=="function"?X2(n):(n instanceof IDBTransaction&&J2(n),K2(n,Q2())?new Proxy(n,h_):n)}function pr(n){if(n instanceof IDBRequest)return Z2(n);if(l_.has(n))return l_.get(n);let e=eU(n);return e!==n&&(l_.set(n,e),f_.set(e,n)),e}var zh=n=>f_.get(n);function jh(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=pr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(pr(s.result),c.oldVersion,c.newVersion,pr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var tU=["get","getKey","getAll","getAllKeys","count"],nU=["put","add","delete","clear"],p_=new Map;function pM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(p_.get(e))return p_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=nU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tU.includes(t)))return;let o=function(s,...a){return T(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return p_.set(e,o),o}fM(n=>j(P({},n),{get:(e,t,r)=>pM(e,t)||n.get(e,t,r),has:(e,t)=>!!pM(e,t)||n.has(e,t)}));var m_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function rU(n){let e=n.getComponent();return e?.type==="VERSION"}var y_="@firebase/app",gM="0.10.17";var Ur=new fr("@firebase/app"),iU="@firebase/app-compat",oU="@firebase/analytics-compat",sU="@firebase/analytics",aU="@firebase/app-check-compat",cU="@firebase/app-check",uU="@firebase/auth",lU="@firebase/auth-compat",dU="@firebase/database",hU="@firebase/data-connect",fU="@firebase/database-compat",pU="@firebase/functions",gU="@firebase/functions-compat",mU="@firebase/installations",yU="@firebase/installations-compat",vU="@firebase/messaging",_U="@firebase/messaging-compat",EU="@firebase/performance",wU="@firebase/performance-compat",IU="@firebase/remote-config",bU="@firebase/remote-config-compat",CU="@firebase/storage",DU="@firebase/storage-compat",TU="@firebase/firestore",SU="@firebase/vertexai",AU="@firebase/firestore-compat",MU="firebase",RU="11.1.0";var v_="[DEFAULT]",PU={[y_]:"fire-core",[iU]:"fire-core-compat",[sU]:"fire-analytics",[oU]:"fire-analytics-compat",[cU]:"fire-app-check",[aU]:"fire-app-check-compat",[uU]:"fire-auth",[lU]:"fire-auth-compat",[dU]:"fire-rtdb",[hU]:"fire-data-connect",[fU]:"fire-rtdb-compat",[pU]:"fire-fn",[gU]:"fire-fn-compat",[mU]:"fire-iid",[yU]:"fire-iid-compat",[vU]:"fire-fcm",[_U]:"fire-fcm-compat",[EU]:"fire-perf",[wU]:"fire-perf-compat",[IU]:"fire-rc",[bU]:"fire-rc-compat",[CU]:"fire-gcs",[DU]:"fire-gcs-compat",[TU]:"fire-fst",[AU]:"fire-fst-compat",[SU]:"fire-vertex","fire-js":"fire-js",[MU]:"fire-js-all"};var cu=new Map,xU=new Map,__=new Map;function mM(n,e){try{n.container.addComponent(e)}catch(t){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function un(n){let e=n.name;if(__.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;__.set(e,n);for(let t of cu.values())mM(t,n);for(let t of xU.values())mM(t,n);return!0}function Br(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ks(n){return n.settings!==void 0}var NU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new gn("app","Firebase",NU);var E_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Et("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}};var Qs=RU;function b_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:v_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Oi.create("bad-app-name",{appName:String(i)});if(t||(t=s_()),!t)throw Oi.create("no-options");let o=cu.get(i);if(o){if(Ni(t,o.options)&&Ni(r,o.config))return o;throw Oi.create("duplicate-app",{appName:i})}let s=new Vh(i);for(let c of __.values())s.addComponent(c);let a=new E_(t,r,s);return cu.set(i,a),a}function ki(n=v_){let e=cu.get(n);if(!e&&n===v_&&s_())return b_();if(!e)throw Oi.create("no-app",{appName:n});return e}function Uh(){return Array.from(cu.values())}function $e(n,e,t){var r;let i=(r=PU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(a.join(" "));return}un(new Et(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var OU="firebase-heartbeat-database",kU=1,uu="firebase-heartbeat-store",g_=null;function EM(){return g_||(g_=jh(OU,kU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Oi.create("idb-open",{originalErrorMessage:n.message})})),g_}function FU(n){return T(this,null,function*(){try{let t=(yield EM()).transaction(uu),r=yield t.objectStore(uu).get(wM(n));return yield t.done,r}catch(e){if(e instanceof Lt)Ur.warn(e.message);else{let t=Oi.create("idb-get",{originalErrorMessage:e?.message});Ur.warn(t.message)}}})}function yM(n,e){return T(this,null,function*(){try{let r=(yield EM()).transaction(uu,"readwrite");yield r.objectStore(uu).put(e,wM(n)),yield r.done}catch(t){if(t instanceof Lt)Ur.warn(t.message);else{let r=Oi.create("idb-set",{originalErrorMessage:t?.message});Ur.warn(r.message)}}})}function wM(n){return`${n.name}!${n.options.appId}`}var LU=1024,VU=30*24*60*60*1e3,w_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new I_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vM();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=VU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ur.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=vM(),{heartbeatsToSend:r,unsentEntries:i}=zU(this._heartbeatsCache.heartbeats),o=su(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ur.warn(t),""}})}};function vM(){return new Date().toISOString().substring(0,10)}function zU(n,e=LU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),_M(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),_M(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var I_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return au()?Lh().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield FU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function _M(n){return su(JSON.stringify({version:2,heartbeats:n})).length}function jU(n){un(new Et("platform-logger",e=>new m_(e),"PRIVATE")),un(new Et("heartbeat",e=>new w_(e),"PRIVATE")),$e(y_,gM,n),$e(y_,gM,"esm2017"),$e("fire-js","")}jU("");var UU="firebase",BU="11.1.0";$e(UU,BU,"app");function lu(n,e){let t=!e?.manualCleanup;t&&!e?.injector&&Wc(lu);let r=t?e?.injector?.get(Ti)??N(Ti):null,i=$U(e?.equal),o;e?.requireSync?o=ur({kind:0},{equal:i}):o=ur({kind:1,value:e?.initialValue},{equal:i});let s=n.subscribe({next:a=>o.set({kind:1,value:a}),error:a=>{if(e?.rejectErrors)throw a;o.set({kind:2,error:a})}});if(e?.requireSync&&o().kind===0)throw new V(601,!1);return r?.onDestroy(s.unsubscribe.bind(s)),Nn(()=>{let a=o();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new V(601,!1)}},{equal:e?.equal})}function $U(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}function C_(n){n===void 0&&(Wc(C_),n=N(We));let e=n.get(dh);return t=>new oe(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Fi=new kr("ANGULARFIRE2_VERSION");function hu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ro=(n,e)=>{let t=e?[e]:Uh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},du=class{constructor(){return Ro(HU)}},HU="app-check",Bh=class{zone;delegate;constructor(e,t=oo){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Li=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(De);this.outsideAngular=t.runOutsideAngular(()=>new Bh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Bh(typeof Zone>"u"?void 0:Zone.current,nr))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qU(){return N(Li)}var IM=!1;function D_(n,e){To()&&(console.warn(`Firebase API called outside injection context: ${e}(${n.name})`),IM||(IM=!0,console.error("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")))}function GU(n){let e;try{e=N(De)}catch{D_(n,"runOutsideAngular")}return e?e.runOutsideAngular(()=>n()):n()}function Mo(n){let e;try{e=N(De)}catch{D_(n,"run")}return e?e.run(()=>n()):n()}var WU=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Qt(t,()=>Mo(()=>n.apply(void 0,r)))),$r=(n,e)=>function(){let t,r=arguments,i,o,s;try{i=qU(),o=N(dh),s=N(We)}catch{return D_(n,"\u0275zoneWrap"),n.apply(this,r)}for(let c=0;c<arguments.length;c++)typeof r[c]=="function"&&(e&&(t||=Mo(()=>o.add())),r[c]=WU(r[c],t,s));let a=GU(()=>n.apply(this,r));return e?a instanceof oe?a.pipe(li(i.outsideAngular),Sn(i.insideAngular),C_(s)):a instanceof Promise?Mo(()=>new Promise((c,l)=>{o.run(()=>a).then(d=>Qt(s,()=>Mo(()=>c(d))),d=>Qt(s,()=>Mo(()=>l(d))))})):typeof a=="function"&&t?function(){return setTimeout(t,0),a.apply(this,arguments)}:Mo(()=>a):a instanceof oe?a.pipe(li(i.outsideAngular),Sn(i.insideAngular)):Mo(()=>a)};var Hr=class{constructor(e){return e}},Po=class{constructor(){return Uh()}};function KU(n){return n&&n.length===1?n[0]:new Hr(ki())}var T_=new F("angularfire2._apps"),QU={provide:Hr,useFactory:KU,deps:[[new nn,T_]]},YU={provide:Po,deps:[[new nn,T_]]};function ZU(n){return(e,t)=>{let r=t.get(Qn);$e("angularfire",Fi.full,"core"),$e("angularfire",Fi.full,"app"),$e("angular",lA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Hr(i)}}function bM(n,...e){return Ft([QU,YU,{provide:T_,useFactory:ZU(n),multi:!0,deps:[De,We,Li,...e]}])}var CM=$r(b_,!0);var ge="primary",Mu=Symbol("RouteTitle"),P_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ta(n){return new P_(n)}function JU(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function XU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gr(n[t],e[t]))return!1;return!0}function gr(n,e){let t=n?x_(n):void 0,r=e?x_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!xM(n[i],e[i]))return!1;return!0}function x_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function NM(n){return n.length>0?n[n.length-1]:null}function Vi(n){return _m(n)?n:Mi(n)?Ke(Promise.resolve(n)):se(n)}var eB={exact:kM,subset:FM},OM={exact:tB,subset:nB,ignored:()=>!0};function DM(n,e,t){return eB[t.paths](n.root,e.root,t.matrixParams)&&OM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function tB(n,e){return gr(n,e)}function kM(n,e,t){if(!No(n.segments,e.segments)||!qh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!kM(n.children[r],e.children[r],t))return!1;return!0}function nB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xM(n[t],e[t]))}function FM(n,e,t){return LM(n,e,e.segments,t)}function LM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!No(i,t)||e.hasChildren()||!qh(i,t,r))}else if(n.segments.length===t.length){if(!No(n.segments,t)||!qh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!FM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!No(n.segments,i)||!qh(n.segments,i,r)||!n.children[ge]?!1:LM(n.children[ge],e,o,r)}}function qh(n,e,t){return e.every((r,i)=>OM[t](n[i].parameters,r.parameters))}var Gr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new xe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ta(this.queryParams),this._queryParamMap}toString(){return oB.serialize(this)}},xe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gh(this)}},xo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ta(this.parameters),this._parameterMap}toString(){return zM(this)}};function rB(n,e){return No(n,e)&&n.every((t,r)=>gr(t.parameters,e[r].parameters))}function No(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function iB(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ge&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ge&&(t=t.concat(e(i,r)))}),t}var iE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new _u,providedIn:"root"})}return n})(),_u=class{parse(e){let t=new O_(e);return new Gr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${fu(e.root,!0)}`,r=cB(e.queryParams),i=typeof e.fragment=="string"?`#${sB(e.fragment)}`:"";return`${t}${r}${i}`}},oB=new _u;function Gh(n){return n.segments.map(e=>zM(e)).join("/")}function fu(n,e){if(!n.hasChildren())return Gh(n);if(e){let t=n.children[ge]?fu(n.children[ge],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ge&&r.push(`${i}:${fu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=iB(n,(r,i)=>i===ge?[fu(n.children[ge],!1)]:[`${i}:${fu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ge]!=null?`${Gh(n)}/${t[0]}`:`${Gh(n)}/(${t.join("//")})`}}function VM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $h(n){return VM(n).replace(/%3B/gi,";")}function sB(n){return encodeURI(n)}function N_(n){return VM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wh(n){return decodeURIComponent(n)}function TM(n){return Wh(n.replace(/\+/g,"%20"))}function zM(n){return`${N_(n.path)}${aB(n.parameters)}`}function aB(n){return Object.entries(n).map(([e,t])=>`;${N_(e)}=${N_(t)}`).join("")}function cB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${$h(t)}=${$h(i)}`).join("&"):`${$h(t)}=${$h(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var uB=/^[^\/()?;#]+/;function S_(n){let e=n.match(uB);return e?e[0]:""}var lB=/^[^\/()?;=#]+/;function dB(n){let e=n.match(lB);return e?e[0]:""}var hB=/^[^=?&#]+/;function fB(n){let e=n.match(hB);return e?e[0]:""}var pB=/^[^&#]+/;function gB(n){let e=n.match(pB);return e?e[0]:""}var O_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ge]=new xe(e,t)),r}parseSegment(){let e=S_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new xo(Wh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=dB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=S_(this.remaining);i&&(r=i,this.capture(r))}e[Wh(t)]=Wh(r)}parseQueryParam(e){let t=fB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=gB(this.remaining);s&&(r=s,this.capture(r))}let i=TM(t),o=TM(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=S_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ge);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ge]:new xe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function jM(n){return n.segments.length>0?new xe([],{[ge]:n}):n}function UM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=UM(i);if(r===ge&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new xe(n.segments,e);return mB(t)}function mB(n){if(n.numberOfChildren===1&&n.children[ge]){let e=n.children[ge];return new xe(n.segments.concat(e.segments),e.children)}return n}function Eu(n){return n instanceof Gr}function yB(n,e,t=null,r=null){let i=BM(n);return $M(i,e,t,r)}function BM(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new xe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=jM(r);return e??i}function $M(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return A_(i,i,i,t,r);let o=vB(e);if(o.toRoot())return A_(i,i,new xe([],{}),t,r);let s=_B(o,i,n),a=s.processChildren?mu(s.segmentGroup,s.index,o.commands):qM(s.segmentGroup,s.index,o.commands);return A_(i,s.segmentGroup,a,t,r)}function Kh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function wu(n){return typeof n=="object"&&n!=null&&n.outlets}function A_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;n===e?s=t:s=HM(n,e,t);let a=jM(UM(s));return new Gr(a,o,i)}function HM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=HM(o,e,t)}),new xe(n.segments,r)}var Qh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Kh(r[0]))throw new V(4003,!1);let i=r.find(wu);if(i&&i!==NM(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function vB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Qh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Qh(t,e,r)}var Js=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function _B(n,e,t){if(n.isAbsolute)return new Js(e,!0,0);if(!t)return new Js(e,!1,NaN);if(t.parent===null)return new Js(t,!0,0);let r=Kh(n.commands[0])?0:1,i=t.segments.length-1+r;return EB(t,i,n.numberOfDoubleDots)}function EB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Js(r,!1,i-o)}function wB(n){return wu(n[0])?n[0].outlets:{[ge]:n}}function qM(n,e,t){if(n??=new xe([],{}),n.segments.length===0&&n.hasChildren())return mu(n,e,t);let r=IB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new xe(n.segments.slice(0,r.pathIndex),{});return o.children[ge]=new xe(n.segments.slice(r.pathIndex),n.children),mu(o,0,i)}else return r.match&&i.length===0?new xe(n.segments,{}):r.match&&!n.hasChildren()?k_(n,e,t):r.match?mu(n,0,i):k_(n,e,t)}function mu(n,e,t){if(t.length===0)return new xe(n.segments,{});{let r=wB(t),i={};if(Object.keys(r).some(o=>o!==ge)&&n.children[ge]&&n.numberOfChildren===1&&n.children[ge].segments.length===0){let o=mu(n.children[ge],e,t);return new xe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new xe(n.segments,i)}}function IB(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(wu(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!AM(c,l,s))return o;r+=2}else{if(!AM(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function k_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(wu(o)){let c=bB(o.outlets);return new xe(r,c)}if(i===0&&Kh(t[0])){let c=n.segments[e];r.push(new xo(c.path,SM(t[0]))),i++;continue}let s=wu(o)?o.outlets[ge]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Kh(a)?(r.push(new xo(s,SM(a))),i+=2):(r.push(new xo(s,{})),i++)}return new xe(r,{})}function bB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=k_(new xe([],{}),0,r))}),e}function SM(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function AM(n,e,t){return n==t.path&&gr(e,t.parameters)}var yu="imperative",St=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(St||{}),kn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Iu=class extends kn{type=St.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Oo=class extends kn{urlAfterRedirects;type=St.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(vn||{}),F_=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(F_||{}),qr=class extends kn{reason;code;type=St.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ko=class extends kn{reason;code;type=St.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},bu=class extends kn{error;target;type=St.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yh=class extends kn{urlAfterRedirects;state;type=St.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},L_=class extends kn{urlAfterRedirects;state;type=St.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},V_=class extends kn{urlAfterRedirects;state;shouldActivate;type=St.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},z_=class extends kn{urlAfterRedirects;state;type=St.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},j_=class extends kn{urlAfterRedirects;state;type=St.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},U_=class{route;type=St.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},B_=class{route;type=St.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$_=class{snapshot;type=St.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},H_=class{snapshot;type=St.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},q_=class{snapshot;type=St.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},G_=class{snapshot;type=St.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Cu=class{},na=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function CB(n,e){return n.providers&&!n._injector&&(n._injector=Sv(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Xn(n){return n.outlet||ge}function DB(n,e){let t=n.filter(r=>Xn(r)===e);return t.push(...n.filter(r=>Xn(r)!==e)),t}function Ru(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var W_=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ru(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new rf(this.rootInjector)}},rf=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new W_(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(W(An))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=K_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=K_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Q_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Q_(e,this._root).map(t=>t.value)}};function K_(n,e){if(n===e.value)return e;for(let t of e.children){let r=K_(n,t);if(r)return r}return null}function Q_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Q_(n,t);if(r.length)return r.unshift(e),r}return[]}var yn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Zs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Jh=class extends Zh{snapshot;constructor(e,t){super(e),this.snapshot=t,oE(this,e)}toString(){return this.snapshot.toString()}};function GM(n){let e=TB(n),t=new ct([new xo("",{})]),r=new ct({}),i=new ct({}),o=new ct({}),s=new ct(""),a=new ra(t,r,o,s,i,ge,n,e.root);return a.snapshot=e.root,new Jh(new yn(a,[]),e)}function TB(n){let e={},t={},r={},i="",o=new Xs([],e,r,i,t,ge,n,null,{});return new ef("",new yn(o,[]))}var ra=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Y(l=>l[Mu]))??se(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>ta(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>ta(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:P(P({},e.params),n.params),data:P(P({},e.data),n.data),resolve:P(P(P(P({},n.data),e.data),i?.data),n._resolvedData)}:r={params:P({},n.params),data:P({},n.data),resolve:P(P({},n.data),n._resolvedData??{})},i&&KM(i)&&(r.resolve[Mu]=i.title),r}var Xs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Mu]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ta(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ta(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ef=class extends Zh{url;constructor(e,t){super(t),this.url=e,oE(this,t)}toString(){return WM(this._root)}};function oE(n,e){e.value._routerState=n,e.children.forEach(t=>oE(n,t))}function WM(n){let e=n.children.length>0?` { ${n.children.map(WM).join(", ")} } `:"";return`${n.value}${e}`}function M_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),gr(e.params,t.params)||n.paramsSubject.next(t.params),XU(e.url,t.url)||n.urlSubject.next(t.url),gr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Y_(n,e){let t=gr(n.params,e.params)&&rB(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Y_(n.parent,e.parent))}function KM(n){return typeof n.title=="string"||n.title===null}var SB=new F(""),sE=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ge;activateEvents=new mt;deactivateEvents=new mt;attachEvents=new mt;detachEvents=new mt;routerOutletData=KT(void 0);parentContexts=N(rf);location=N($s);changeDetector=N(Ri);inputBinder=N(aE,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Z_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=sn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Us]})}return n})(),Z_=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ra?this.route:e===rf?this.childContexts:e===SB?this.outletData:this.parent.get(e,t)}},aE=new F("");function AB(n,e,t){let r=Du(n,e._root,t?t._root:void 0);return new Jh(r,e)}function Du(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=MB(n,e,t);return new yn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Du(n,a)),s}}let r=RB(e.value),i=e.children.map(o=>Du(n,o));return new yn(r,i)}}function MB(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Du(n,r,i);return Du(n,r)})}function RB(n){return new ra(new ct(n.url),new ct(n.params),new ct(n.queryParams),new ct(n.fragment),new ct(n.data),n.outlet,n.component,n)}var Tu=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},QM="ngNavigationCancelingError";function tf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Eu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=YM(!1,vn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function YM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[QM]=!0,t.cancellationCode=e,t}function PB(n){return ZM(n)&&Eu(n.url)}function ZM(n){return!!n&&n[QM]}var xB=(n,e,t,r)=>Y(i=>(new J_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),J_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),M_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Zs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Zs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Zs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Zs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new G_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new H_(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(M_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),M_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},nf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ea=class{component;route;constructor(e,t){this.component=e,this.route=t}};function NB(n,e,t){let r=n._root,i=e?e._root:null;return pu(r,i,t,[r.value])}function OB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function oa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!UD(n)?n:e.get(n):r}function pu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zs(e);return n.children.forEach(s=>{kB(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>vu(a,t.getContext(s),i)),i}function kB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=FB(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new nf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pu(n,e,a?a.children:null,r,i):pu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ea(a.outlet.component,s))}else s&&vu(e,a,i),i.canActivateChecks.push(new nf(r)),o.component?pu(n,null,a?a.children:null,r,i):pu(n,null,t,r,i);return i}function FB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!No(n.url,e.url);case"pathParamsOrQueryParamsChange":return!No(n.url,e.url)||!gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Y_(n,e)||!gr(n.queryParams,e.queryParams);case"paramsChange":default:return!Y_(n,e)}}function vu(n,e,t){let r=Zs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?vu(s,e.children.getContext(o),t):vu(s,null,t):vu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ea(e.outlet.component,i)):t.canDeactivateChecks.push(new ea(null,i)):t.canDeactivateChecks.push(new ea(null,i))}function Pu(n){return typeof n=="function"}function LB(n){return typeof n=="boolean"}function VB(n){return n&&Pu(n.canLoad)}function zB(n){return n&&Pu(n.canActivate)}function jB(n){return n&&Pu(n.canActivateChild)}function UB(n){return n&&Pu(n.canDeactivate)}function BB(n){return n&&Pu(n.canMatch)}function JM(n){return n instanceof Pr||n?.name==="EmptyError"}var Hh=Symbol("INITIAL_VALUE");function ia(){return ft(n=>gd(n.map(e=>e.pipe(Ye(1),Ed(Hh)))).pipe(Y(e=>{for(let t of e)if(t!==!0){if(t===Hh)return Hh;if(t===!1||$B(t))return t}return!0}),Qe(e=>e!==Hh),Ye(1)))}function $B(n){return Eu(n)||n instanceof Tu}function HB(n,e){return Ve(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?se(j(P({},t),{guardsResult:!0})):qB(s,r,i,n).pipe(Ve(a=>a&&LB(a)?GB(r,o,n,e):se(a)),Y(a=>j(P({},t),{guardsResult:a})))})}function qB(n,e,t,r){return Ke(n).pipe(Ve(i=>ZB(i.component,i.route,t,e,r)),Nr(i=>i!==!0,!0))}function GB(n,e,t,r){return Ke(e).pipe(xr(i=>fi(KB(i.route.parent,r),WB(i.route,r),YB(n,i.path,t),QB(n,i.route,t))),Nr(i=>i!==!0,!0))}function WB(n,e){return n!==null&&e&&e(new q_(n)),se(!0)}function KB(n,e){return n!==null&&e&&e(new $_(n)),se(!0)}function QB(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return se(!0);let i=r.map(o=>Cc(()=>{let s=Ru(e)??t,a=oa(o,s),c=zB(a)?a.canActivate(e,n):Qt(s,()=>a(e,n));return Vi(c).pipe(Nr())}));return se(i).pipe(ia())}function YB(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>OB(s)).filter(s=>s!==null).map(s=>Cc(()=>{let a=s.guards.map(c=>{let l=Ru(s.node)??t,d=oa(c,l),f=jB(d)?d.canActivateChild(r,n):Qt(l,()=>d(r,n));return Vi(f).pipe(Nr())});return se(a).pipe(ia())}));return se(o).pipe(ia())}function ZB(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return se(!0);let s=o.map(a=>{let c=Ru(e)??i,l=oa(a,c),d=UB(l)?l.canDeactivate(n,e,t,r):Qt(c,()=>l(n,e,t,r));return Vi(d).pipe(Nr())});return se(s).pipe(ia())}function JB(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return se(!0);let o=i.map(s=>{let a=oa(s,n),c=VB(a)?a.canLoad(e,t):Qt(n,()=>a(e,t));return Vi(c)});return se(o).pipe(ia(),XM(r))}function XM(n){return Ql(Tt(e=>{if(typeof e!="boolean")throw tf(n,e)}),Y(e=>e===!0))}function XB(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return se(!0);let o=i.map(s=>{let a=oa(s,n),c=BB(a)?a.canMatch(e,t):Qt(n,()=>a(e,t));return Vi(c)});return se(o).pipe(ia(),XM(r))}var Su=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Au=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ys(n){return di(new Su(n))}function e$(n){return di(new V(4e3,!1))}function t$(n){return di(YM(!1,vn.GuardRejected))}var X_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return se(r);if(i.numberOfChildren>1||!i.children[ge])return e$(`${e.redirectTo}`);i=i.children[ge]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:d,url:f,outlet:g,params:m,data:v,title:I}=i,S=Qt(o,()=>a({params:m,data:v,queryParams:c,fragment:l,routeConfig:d,url:f,outlet:g,title:I}));if(S instanceof Gr)throw new Au(S);t=S}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Au(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Gr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new xe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},eE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function n$(n,e,t,r,i){let o=eR(n,e,t);return o.matched?(r=CB(e,r),XB(r,e,t,i).pipe(Y(s=>s===!0?o:P({},eE)))):se(o)}function eR(n,e,t){if(e.path==="**")return r$(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?P({},eE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||JU)(t,n,e);if(!i)return P({},eE);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?P(P({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function r$(n){return{matched:!0,parameters:n.length>0?NM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function MM(n,e,t,r){return t.length>0&&s$(n,t,r)?{segmentGroup:new xe(e,o$(r,new xe(t,n.children))),slicedSegments:[]}:t.length===0&&a$(n,t,r)?{segmentGroup:new xe(n.segments,i$(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xe(n.segments,n.children),slicedSegments:t}}function i$(n,e,t,r){let i={};for(let o of t)if(of(n,e,o)&&!r[Xn(o)]){let s=new xe([],{});i[Xn(o)]=s}return P(P({},r),i)}function o$(n,e){let t={};t[ge]=e;for(let r of n)if(r.path===""&&Xn(r)!==ge){let i=new xe([],{});t[Xn(r)]=i}return t}function s$(n,e,t){return t.some(r=>of(n,e,r)&&Xn(r)!==ge)}function a$(n,e,t){return t.some(r=>of(n,e,r))}function of(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function c$(n,e,t){return e.length===0&&!n.children[t]}var tE=class{};function u$(n,e,t,r,i,o,s="emptyOnly"){return new nE(n,e,t,r,i,s,o).recognize()}var l$=31,nE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new X_(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=MM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:t,rootSnapshot:r})=>{let i=new yn(r,t),o=new ef("",i),s=yB(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Xs([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ge,t).pipe(Y(r=>({children:r,rootSnapshot:t})),Jt(r=>{if(r instanceof Au)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Su?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Y(s=>s instanceof yn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ke(o).pipe(xr(s=>{let a=r.children[s],c=DB(t,s);return this.processSegmentGroup(e,c,a,s,i)}),gi((s,a)=>(s.push(...a),s)),pi(null),Tm(),Ve(s=>{if(s===null)return Ys(r);let a=tR(s);return d$(a),se(a)}))}processSegment(e,t,r,i,o,s,a){return Ke(t).pipe(xr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Jt(l=>{if(l instanceof Su)return se(null);throw l}))),Nr(c=>!!c),Jt(c=>{if(JM(c))return c$(r,i,o)?se(new tE):Ys(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Xn(r)!==s&&(s===ge||!of(i,o,r))?Ys(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ys(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=eR(t,i,o);if(!c)return Ys(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>l$&&(this.allowRedirects=!1));let m=new Xs(o,l,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,RM(i),Xn(i),i.component??i._loadedComponent??null,i,PM(i)),v=Xh(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(v.params),m.data=Object.freeze(v.data);let I=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e);return this.applyRedirects.lineralizeSegments(i,I).pipe(Ve(S=>this.processSegment(e,r,t,S.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=n$(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ft(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ft(({routes:l})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:m}=c,v=new Xs(g,f,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,RM(r),Xn(r),r.component??r._loadedComponent??null,r,PM(r)),I=Xh(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(I.params),v.data=Object.freeze(I.data);let{segmentGroup:S,slicedSegments:x}=MM(t,g,m,l);if(x.length===0&&S.hasChildren())return this.processChildren(d,l,S,v).pipe(Y(B=>new yn(v,B)));if(l.length===0&&x.length===0)return se(new yn(v,[]));let O=Xn(r)===o;return this.processSegment(d,l,S,x,O?ge:o,!0,v).pipe(Y(B=>new yn(v,B instanceof yn?[B]:[])))}))):Ys(t)))}getChildConfig(e,t,r){return t.children?se({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?se({routes:t._loadedRoutes,injector:t._loadedInjector}):JB(e,t,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,t).pipe(Tt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):t$(t))):se({routes:[],injector:e})}};function d$(n){n.sort((e,t)=>e.value.outlet===ge?-1:t.value.outlet===ge?1:e.value.outlet.localeCompare(t.value.outlet))}function h$(n){let e=n.value.routeConfig;return e&&e.path===""}function tR(n){let e=[],t=new Set;for(let r of n){if(!h$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=tR(r.children);e.push(new yn(r.value,i))}return e.filter(r=>!t.has(r))}function RM(n){return n.data||{}}function PM(n){return n.resolve||{}}function f$(n,e,t,r,i,o){return Ve(s=>u$(n,e,t,r,s.extractedUrl,i,o).pipe(Y(({state:a,tree:c})=>j(P({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function p$(n,e){return Ve(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return se(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of nR(c))s.add(l);let a=0;return Ke(s).pipe(xr(c=>o.has(c)?g$(c,r,n,e):(c.data=Xh(c,c.parent,n).resolve,se(void 0))),Tt(()=>a++),Cs(1),Ve(c=>a===s.size?se(t):ht))})}function nR(n){let e=n.children.map(t=>nR(t)).flat();return[n,...e]}function g$(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!KM(i)&&(o[Mu]=i.title),m$(o,n,e,r).pipe(Y(s=>(n._resolvedData=s,n.data=Xh(n,n.parent,t).resolve,null)))}function m$(n,e,t,r){let i=x_(n);if(i.length===0)return se({});let o={};return Ke(i).pipe(Ve(s=>y$(n[s],e,t,r).pipe(Nr(),Tt(a=>{if(a instanceof Tu)throw tf(new _u,a);o[s]=a}))),Cs(1),Tc(o),Jt(s=>JM(s)?ht:di(s)))}function y$(n,e,t,r){let i=Ru(e)??r,o=oa(n,i),s=o.resolve?o.resolve(e,t):Qt(i,()=>o(e,t));return Vi(s)}function R_(n){return ft(e=>{let t=n(e);return t?Ke(t).pipe(Y(()=>e)):se(e)})}var rR=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ge);return r}getResolvedTitleForRoute(t){return t.data[Mu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>N(v$),providedIn:"root"})}return n})(),v$=(()=>{class n extends rR{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(W(QA))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cE=new F("",{providedIn:"root",factory:()=>({})}),_$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,i){r&1&&Ee(0,"router-outlet")},dependencies:[sE],encapsulation:2})}return n})();function uE(n){let e=n.children&&n.children.map(uE),t=e?j(P({},n),{children:e}):P({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ge&&(t.component=_$),t}var lE=new F(""),E$=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(Fv);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return se(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Vi(t.loadComponent()).pipe(Y(iR),Tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),bs(()=>{this.componentLoaders.delete(t)})),i=new ys(r,()=>new Oe).pipe(ms());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=w$(r,this.compiler,t,this.onLoadEndListener).pipe(bs(()=>{this.childrenLoaders.delete(r)})),s=new ys(o,()=>new Oe).pipe(ms());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function w$(n,e,t,r){return Vi(n.loadChildren()).pipe(Y(iR),Ve(i=>i instanceof $c||Array.isArray(i)?se(i):Ke(e.compileModuleAsync(i))),Y(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(lE,[],{optional:!0,self:!0}).flat()),{routes:s.map(uE),injector:o}}))}function I$(n){return n&&typeof n=="object"&&"default"in n}function iR(n){return I$(n)?n.default:n}var dE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>N(b$),providedIn:"root"})}return n})(),b$=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),C$=new F("");var D$=new F(""),T$=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Oe;transitionAbortSubject=new Oe;configLoader=N(E$);environmentInjector=N(An);urlSerializer=N(iE);rootContexts=N(rf);location=N(nu);inputBindingEnabled=N(aE,{optional:!0})!==null;titleStrategy=N(rR);options=N(cE,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(dE);createViewTransition=N(C$,{optional:!0});navigationErrorHandler=N(D$,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>se(void 0);rootComponentType=null;constructor(){let t=i=>this.events.next(new U_(i)),r=i=>this.events.next(new B_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(j(P(P({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new ct({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:yu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qe(o=>o.id!==0),Y(o=>j(P({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ft(o=>{let s=!1,a=!1;return se(o).pipe(ft(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",vn.SupersededByNewNavigation),ht;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?j(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&d!=="reload"){let f="";return this.events.next(new ko(c.id,this.urlSerializer.serialize(c.rawUrl),f,F_.IgnoredSameUrlNavigation)),c.resolve(!1),ht}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return se(c).pipe(ft(f=>{let g=this.transitions?.getValue();return this.events.next(new Iu(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),g!==this.transitions?.getValue()?ht:Promise.resolve(f)}),f$(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Tt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=j(P({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let g=new Yh(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:g,source:m,restoredState:v,extras:I}=c,S=new Iu(f,this.urlSerializer.serialize(g),m,v);this.events.next(S);let x=GM(this.rootComponentType).snapshot;return this.currentTransition=o=j(P({},c),{targetSnapshot:x,urlAfterRedirects:g,extras:j(P({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,se(o)}else{let f="";return this.events.next(new ko(c.id,this.urlSerializer.serialize(c.extractedUrl),f,F_.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ht}}),Tt(c=>{let l=new L_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Y(c=>(this.currentTransition=o=j(P({},c),{guards:NB(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),HB(this.environmentInjector,c=>this.events.next(c)),Tt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw tf(this.urlSerializer,c.guardsResult);let l=new V_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Qe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",vn.GuardRejected),!1)),R_(c=>{if(c.guards.canActivateChecks.length)return se(c).pipe(Tt(l=>{let d=new z_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ft(l=>{let d=!1;return se(l).pipe(p$(this.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",vn.NoDataFromResolver)}}))}),Tt(l=>{let d=new j_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),R_(c=>{let l=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Tt(g=>{d.component=g}),Y(()=>{})));for(let g of d.children)f.push(...l(g));return f};return gd(l(c.targetSnapshot.root)).pipe(pi(null),Ye(1))}),R_(()=>this.afterPreactivation()),ft(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?Ke(d).pipe(Y(()=>o)):se(o)}),Y(c=>{let l=AB(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=j(P({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Tt(()=>{this.events.next(new Cu)}),xB(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ye(1),Tt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Oo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),co(this.transitionAbortSubject.pipe(Tt(c=>{throw c}))),bs(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",vn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jt(c=>{if(a=!0,ZM(c))this.events.next(new qr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),PB(c)?this.events.next(new na(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new bu(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=Qt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(d instanceof Tu){let{message:f,cancellationCode:g}=tf(this.urlSerializer,d);this.events.next(new qr(o.id,this.urlSerializer.serialize(o.extractedUrl),f,g)),this.events.next(new na(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(l),c}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return ht}))}))}cancelNavigationTransition(t,r,i){let o=new qr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function S$(n){return n!==yu}var A$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>N(M$),providedIn:"root"})}return n})(),rE=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},M$=(()=>{class n extends rE{static \u0275fac=(()=>{let t;return function(i){return(t||(t=zr(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>N(R$),providedIn:"root"})}return n})(),R$=(()=>{class n extends oR{location=N(nu);urlSerializer=N(iE);options=N(cE,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=N(dE);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Gr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=GM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Iu)this.stateMemento=this.createStateMemento();else if(t instanceof ko)this.rawUrlTree=r.initialUrl;else if(t instanceof Yh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Cu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof qr&&(t.code===vn.GuardRejected||t.code===vn.NoDataFromResolver)?this.restoreHistory(r):t instanceof bu?this.restoreHistory(r,!0):t instanceof Oo&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Gr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=P(P({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=P(P({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zr(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(gu||{});function P$(n,e){n.events.pipe(Qe(t=>t instanceof Oo||t instanceof qr||t instanceof bu||t instanceof ko),Y(t=>t instanceof Oo||t instanceof ko?gu.COMPLETE:(t instanceof qr?t.code===vn.Redirect||t.code===vn.SupersededByNewNavigation:!1)?gu.REDIRECTING:gu.FAILED),Qe(t=>t!==gu.REDIRECTING),Ye(1)).subscribe(()=>{e()})}var x$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},N$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(wh);stateManager=N(oR);options=N(cE,{optional:!0})||{};pendingTasks=N(Si);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(T$);urlSerializer=N(iE);location=N(nu);urlHandlingStrategy=N(dE);_events=new Oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(A$);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(lE,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(aE,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new nt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qr&&r.code!==vn.Redirect&&r.code!==vn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Oo)this.navigated=!0;else if(r instanceof na){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=P({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||S$(i.source)},s);this.scheduleNavigation(a,yu,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}k$(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=P({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(uE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=i?i.snapshot:this.routerState.snapshot.root;f=BM(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return $M(f,t,d,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Eu(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yu,null,r)}navigate(t,r={skipLocationChange:!1}){return O$(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=P({},x$):r===!1?i=P({},N$):i=r,Eu(t))return DM(this.currentUrlTree,t,i);let o=this.parseUrl(t);return DM(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,g)=>{a=f,c=g});let d=this.pendingTasks.add();return P$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function O$(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}function k$(n){return!(n instanceof Cu)&&!(n instanceof na)}var F$=new F("");function sR(n,...e){return Ft([{provide:lE,multi:!0,useValue:n},[],{provide:ra,useFactory:L$,deps:[Vt]},{provide:Pv,multi:!0,useFactory:V$},e.map(t=>t.\u0275providers)])}function L$(n){return n.routerState.root}function V$(){let n=N(We);return e=>{let t=n.get(Co);if(e!==t.components[0])return;let r=n.get(Vt),i=n.get(z$);n.get(j$)===1&&r.initialNavigation(),n.get(U$,null,ve.Optional)?.setUpPreloading(),n.get(F$,null,ve.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var z$=new F("",{factory:()=>new Oe}),j$=new F("",{providedIn:"root",factory:()=>1});var U$=new F("");var uR="@firebase/installations",gE="0.6.11";var lR=1e4,dR=`w:${gE}`,hR="FIS_v2",B$="https://firebaseinstallations.googleapis.com/v1",$$=60*60*1e3,H$="installations",q$="Installations";var G$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Lo=new gn(H$,q$,G$);function fR(n){return n instanceof Lt&&n.code.includes("request-failed")}function pR({projectId:n}){return`${B$}/projects/${n}/installations`}function gR(n){return{token:n.token,requestStatus:2,expiresIn:K$(n.expiresIn),creationTime:Date.now()}}function mR(n,e){return T(this,null,function*(){let r=(yield e.json()).error;return Lo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function yR({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function W$(n,{refreshToken:e}){let t=yR(n);return t.append("Authorization",Q$(e)),t}function vR(n){return T(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function K$(n){return Number(n.replace("s","000"))}function Q$(n){return`${hR} ${n}`}function Y$(r,i){return T(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=pR(n),s=yR(n),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}let c={fid:t,authVersion:hR,appId:n.appId,sdkVersion:dR},l={method:"POST",headers:s,body:JSON.stringify(c)},d=yield vR(()=>fetch(o,l));if(d.ok){let f=yield d.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:gR(f.authToken)}}else throw yield mR("Create Installation",d)})}function _R(n){return new Promise(e=>{setTimeout(e,n)})}function Z$(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var J$=/^[cdef][\w-]{21}$/,pE="";function X$(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=eH(n);return J$.test(t)?t:pE}catch{return pE}}function eH(n){return Z$(n).substr(0,22)}function af(n){return`${n.appName}!${n.appId}`}var ER=new Map;function wR(n,e){let t=af(n);IR(t,e),tH(t,e)}function IR(n,e){let t=ER.get(n);if(t)for(let r of t)r(e)}function tH(n,e){let t=nH();t&&t.postMessage({key:n,fid:e}),rH()}var Fo=null;function nH(){return!Fo&&"BroadcastChannel"in self&&(Fo=new BroadcastChannel("[Firebase] FID Change"),Fo.onmessage=n=>{IR(n.data.key,n.data.fid)}),Fo}function rH(){ER.size===0&&Fo&&(Fo.close(),Fo=null)}var iH="firebase-installations-database",oH=1,Vo="firebase-installations-store",hE=null;function mE(){return hE||(hE=jh(iH,oH,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Vo)}}})),hE}function sf(n,e){return T(this,null,function*(){let t=af(n),i=(yield mE()).transaction(Vo,"readwrite"),o=i.objectStore(Vo),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&wR(n,e.fid),e})}function bR(n){return T(this,null,function*(){let e=af(n),r=(yield mE()).transaction(Vo,"readwrite");yield r.objectStore(Vo).delete(e),yield r.done})}function cf(n,e){return T(this,null,function*(){let t=af(n),i=(yield mE()).transaction(Vo,"readwrite"),o=i.objectStore(Vo),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&wR(n,a.fid),a})}function yE(n){return T(this,null,function*(){let e,t=yield cf(n.appConfig,r=>{let i=sH(r),o=aH(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===pE?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function sH(n){let e=n||{fid:X$(),registrationStatus:0};return CR(e)}function aH(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Lo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=cH(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uH(n)}:{installationEntry:e}}function cH(n,e){return T(this,null,function*(){try{let t=yield Y$(n,e);return sf(n.appConfig,t)}catch(t){throw fR(t)&&t.customData.serverCode===409?yield bR(n.appConfig):yield sf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function uH(n){return T(this,null,function*(){let e=yield aR(n.appConfig);for(;e.registrationStatus===1;)yield _R(100),e=yield aR(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield yE(n);return r||t}return e})}function aR(n){return cf(n,e=>{if(!e)throw Lo.create("installation-not-found");return CR(e)})}function CR(n){return lH(n)?{fid:n.fid,registrationStatus:0}:n}function lH(n){return n.registrationStatus===1&&n.registrationTime+lR<Date.now()}function dH(r,i){return T(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=hH(n,t),s=W$(n,t),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}let c={installation:{sdkVersion:dR,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},d=yield vR(()=>fetch(o,l));if(d.ok){let f=yield d.json();return gR(f)}else throw yield mR("Generate Auth Token",d)})}function hH(n,{fid:e}){return`${pR(n)}/${e}/authTokens:generate`}function vE(n,e=!1){return T(this,null,function*(){let t,r=yield cf(n.appConfig,o=>{if(!DR(o))throw Lo.create("not-registered");let s=o.authToken;if(!e&&gH(s))return o;if(s.requestStatus===1)return t=fH(n,e),o;{if(!navigator.onLine)throw Lo.create("app-offline");let a=yH(o);return t=pH(n,a),a}});return t?yield t:r.authToken})}function fH(n,e){return T(this,null,function*(){let t=yield cR(n.appConfig);for(;t.authToken.requestStatus===1;)yield _R(100),t=yield cR(n.appConfig);let r=t.authToken;return r.requestStatus===0?vE(n,e):r})}function cR(n){return cf(n,e=>{if(!DR(e))throw Lo.create("not-registered");let t=e.authToken;return vH(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function pH(n,e){return T(this,null,function*(){try{let t=yield dH(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield sf(n.appConfig,r),t}catch(t){if(fR(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield bR(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield sf(n.appConfig,r)}throw t}})}function DR(n){return n!==void 0&&n.registrationStatus===2}function gH(n){return n.requestStatus===2&&!mH(n)}function mH(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+$$}function yH(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function vH(n){return n.requestStatus===1&&n.requestTime+lR<Date.now()}function _H(n){return T(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield yE(e);return r?r.catch(console.error):vE(e).catch(console.error),t.fid})}function EH(n,e=!1){return T(this,null,function*(){let t=n;return yield wH(t),(yield vE(t,e)).token})}function wH(n){return T(this,null,function*(){let{registrationPromise:e}=yield yE(n);e&&(yield e)})}function IH(n){if(!n||!n.options)throw fE("App Configuration");if(!n.name)throw fE("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw fE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function fE(n){return Lo.create("missing-app-config-values",{valueName:n})}var TR="installations",bH="installations-internal",CH=n=>{let e=n.getProvider("app").getImmediate(),t=IH(e),r=Br(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},DH=n=>{let e=n.getProvider("app").getImmediate(),t=Br(e,TR).getImmediate();return{getId:()=>_H(t),getToken:i=>EH(t,i)}};function TH(){un(new Et(TR,CH,"PUBLIC")),un(new Et(bH,DH,"PRIVATE"))}TH();$e(uR,gE);$e(uR,gE,"esm2017");var uf="analytics",SH="firebase_id",AH="origin",MH=60*1e3,RH="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",DE="https://www.googletagmanager.com/gtag/js";var ln=new fr("@firebase/analytics");var PH={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new gn("analytics","Analytics",PH);function xH(n){if(!n.startsWith(DE)){let e=_n.create("invalid-gtag-resource",{gtagURL:n});return ln.warn(e.message),""}return n}function NR(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function NH(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function OH(n,e){let t=NH("firebase-js-sdk-policy",{createScriptURL:xH}),r=document.createElement("script"),i=`${DE}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function kH(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function FH(n,e,t,r,i,o){return T(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let c=(yield NR(t)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){ln.error(a)}n("config",i,o)})}function LH(n,e,t,r,i){return T(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield NR(t);for(let c of s){let l=a.find(f=>f.measurementId===c),d=l&&e[l.appId];if(d)o.push(d);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){ln.error(o)}})}function VH(n,e,t,r){function i(o,...s){return T(this,null,function*(){try{if(o==="event"){let[a,c]=s;yield LH(n,e,t,a,c)}else if(o==="config"){let[a,c]=s;yield FH(n,e,t,r,a,c)}else if(o==="consent"){let[a,c]=s;n("consent",a,c)}else if(o==="get"){let[a,c,l]=s;n("get",a,c,l)}else if(o==="set"){let[a]=s;n("set",a)}else n(o,...s)}catch(a){ln.error(a)}})}return i}function zH(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=VH(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function jH(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(DE)&&t.src.includes(n))return t;return null}var UH=30,BH=1e3,EE=class{constructor(e={},t=BH){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},OR=new EE;function $H(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function HH(n){return T(this,null,function*(){var e;let{appId:t,apiKey:r}=n,i={method:"GET",headers:$H(r)},o=RH.replace("{app-id}",t),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let c=yield s.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function qH(r){return T(this,arguments,function*(n,e=OR,t){let{appId:i,apiKey:o,measurementId:s}=n.options;if(!i)throw _n.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw _n.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new wE;return setTimeout(()=>T(this,null,function*(){c.abort()}),t!==void 0?t:MH),kR({appId:i,apiKey:o,measurementId:s},a,c,e)})}function kR(o,s,a){return T(this,arguments,function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=OR){var c;let{appId:l,measurementId:d}=n;try{yield GH(r,e)}catch(f){if(d)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:d};throw f}try{let f=yield HH(n);return i.deleteThrottleMetadata(l),f}catch(f){let g=f;if(!WH(g)){if(i.deleteThrottleMetadata(l),d)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:l,measurementId:d};throw f}let m=Number((c=g?.customData)===null||c===void 0?void 0:c.httpStatus)===503?c_(t,i.intervalMillis,UH):c_(t,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return i.setThrottleMetadata(l,v),ln.debug(`Calling attemptFetch again in ${m} millis`),kR(n,v,r,i)}})}function GH(n,e){return new Promise((t,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WH(n){if(!(n instanceof Lt)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var wE=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var IE;function KH(n,e,t,r,i){return T(this,null,function*(){if(i&&i.global){n("event",t,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});n("event",t,s)}})}var bE;function QH(n){bE=n}function YH(n){IE=n}function ZH(){return T(this,null,function*(){if(au())try{yield Lh()}catch(n){return ln.warn(_n.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return ln.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function JH(n,e,t,r,i,o,s){return T(this,null,function*(){var a;let c=qH(n);c.then(m=>{t[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>ln.error(m)),e.push(c);let l=ZH().then(m=>{if(m)return r.getId()}),[d,f]=yield Promise.all([c,l]);jH(o)||OH(o,d.measurementId),bE&&(i("consent","default",bE),QH(void 0)),i("js",new Date);let g=(a=s?.config)!==null&&a!==void 0?a:{};return g[AH]="firebase",g.update=!0,f!=null&&(g[SH]=f),i("config",d.measurementId,g),IE&&(i("set",IE),YH(void 0)),d.measurementId})}var CE=class{constructor(e){this.app=e}_delete(){return delete xu[this.app.options.appId],Promise.resolve()}},xu={},SR=[],AR={},_E="dataLayer",XH="gtag",MR,FR,RR=!1;function eq(){let n=[];if(Fh()&&n.push("This is a browser extension environment."),aM()||n.push("Cookies are not available."),n.length>0){let e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=_n.create("invalid-analytics-context",{errorInfo:e});ln.warn(t.message)}}function tq(n,e,t){eq();let r=n.options.appId;if(!r)throw _n.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(xu[r]!=null)throw _n.create("already-exists",{id:r});if(!RR){kH(_E);let{wrappedGtag:o,gtagCore:s}=zH(xu,SR,AR,_E,XH);FR=o,MR=s,RR=!0}return xu[r]=JH(n,SR,AR,e,MR,_E,t),new CE(n)}function LR(n=ki()){n=_t(n);let e=Br(n,uf);return e.isInitialized()?e.getImmediate():VR(n)}function VR(n,e={}){let t=Br(n,uf);if(t.isInitialized()){let i=t.getImmediate();if(Ni(e,t.getOptions()))return i;throw _n.create("already-initialized")}return t.initialize({options:e})}function zR(n,e,t,r){n=_t(n),KH(FR,xu[n.app.options.appId],e,t,r).catch(i=>ln.error(i))}var PR="@firebase/analytics",xR="0.10.10";function nq(){un(new Et(uf,(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return tq(r,i,t)},"PUBLIC")),un(new Et("analytics-internal",n,"PRIVATE")),$e(PR,xR),$e(PR,xR,"esm2017");function n(e){try{let t=e.getProvider(uf).getImmediate();return{logEvent:(r,i,o)=>zR(t,r,i,o)}}catch(t){throw _n.create("interop-component-reg-failed",{reason:t})}}}nq();function WR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var KR=WR,QR=new gn("auth","Firebase",WR());var ff=new fr("@firebase/auth");function iq(n,...e){ff.logLevel<=Ie.WARN&&ff.warn(`Auth (${Qs}): ${n}`,...e)}function df(n,...e){ff.logLevel<=Ie.ERROR&&ff.error(`Auth (${Qs}): ${n}`,...e)}function jR(n,...e){throw LE(n,...e)}function FE(n,...e){return LE(n,...e)}function YR(n,e,t){let r=Object.assign(Object.assign({},KR()),{[e]:t});return new gn("auth","Firebase",r).create(e,{appName:n.name})}function hf(n){return YR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return QR.create(n,...e)}function Re(n,e,...t){if(!n)throw LE(e,...t)}function Nu(n){let e="INTERNAL ASSERTION FAILED: "+n;throw df(e),new Error(e)}function pf(n,e){n||Nu(e)}function oq(){return UR()==="http:"||UR()==="https:"}function UR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function sq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oq()||Fh()||"connection"in navigator)?navigator.onLine:!0}function aq(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var jo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,pf(t>e,"Short delay should be less than long delay!"),this.isMobile=rM()||oM()}get(){return sq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function cq(n,e){pf(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var gf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var uq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lq=new jo(3e4,6e4);function ZR(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function _f(o,s,a,c){return T(this,arguments,function*(n,e,t,r,i={}){return JR(n,i,()=>T(this,null,function*(){let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});let f=a_(Object.assign({key:n.config.apiKey},d)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},l);return iM()||(m.referrerPolicy="no-referrer"),gf.fetch()(XR(n,n.config.apiHost,t,f),m)}))})}function JR(n,e,t){return T(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},uq),e);try{let i=new AE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw lf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw lf(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw lf(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw YR(n,d,l);jR(n,d)}}catch(i){if(i instanceof Lt)throw i;jR(n,"network-request-failed",{message:String(i)})}})}function XR(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?cq(n.config,i):`${n.config.apiScheme}://${i}`}var AE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(FE(this.auth,"network-request-failed")),lq.get())})}};function lf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=FE(n,e,r);return i.customData._tokenResponse=t,i}function dq(n,e){return T(this,null,function*(){return _f(n,"POST","/v1/accounts:delete",e)})}function eP(n,e){return T(this,null,function*(){return _f(n,"POST","/v1/accounts:lookup",e)})}function Ou(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function VE(n,e=!1){return T(this,null,function*(){let t=_t(n),r=yield t.getIdToken(e),i=tP(r);Re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ou(TE(i.auth_time)),issuedAtTime:Ou(TE(i.iat)),expirationTime:Ou(TE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function TE(n){return Number(n)*1e3}function tP(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{let i=o_(t);return i?JSON.parse(i):(df("Failed to decode base64 JWT payload"),null)}catch(i){return df("Caught error parsing JWT payload as JSON",i?.toString()),null}}function BR(n){let e=tP(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ME(n,e,t=!1){return T(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Lt&&hq(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function hq({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var RE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),t)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Fu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function mf(n){return T(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield ME(n,eP(t,{idToken:r}));Re(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?nP(o.providerUserInfo):[],a=fq(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,d=c?l:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Fu(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function zE(n){return T(this,null,function*(){let e=_t(n);yield mf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function fq(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nP(n){return n.map(e=>{var{providerId:t}=e,r=ym(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function pq(n,e){return T(this,null,function*(){let t=yield JR(n,{},()=>T(this,null,function*(){let r=a_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=XR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gf.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function gq(n,e){return T(this,null,function*(){return _f(n,"POST","/v2/accounts:revokeToken",ZR(n,e))})}var ku=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");let t=BR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return T(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield pq(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Re(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Nu("not implemented")}};function zi(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Lu=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=ym(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let t=yield ME(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return VE(this,e)}reload(){return zE(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield mf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(Ks(this.auth.app))return Promise.reject(hf(this.auth));let e=yield this.getIdToken();return yield ME(this,dq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=t.photoURL)!==null&&s!==void 0?s:void 0,I=(a=t.tenantId)!==null&&a!==void 0?a:void 0,S=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,x=(l=t.createdAt)!==null&&l!==void 0?l:void 0,O=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:B,emailVerified:z,isAnonymous:ne,providerData:q,stsTokenManager:b}=t;Re(B&&b,e,"internal-error");let _=ku.fromJSON(this.name,b);Re(typeof B=="string",e,"internal-error"),zi(f,e.name),zi(g,e.name),Re(typeof z=="boolean",e,"internal-error"),Re(typeof ne=="boolean",e,"internal-error"),zi(m,e.name),zi(v,e.name),zi(I,e.name),zi(S,e.name),zi(x,e.name),zi(O,e.name);let E=new n({uid:B,auth:e,email:g,emailVerified:z,displayName:f,isAnonymous:ne,photoURL:v,phoneNumber:m,tenantId:I,stsTokenManager:_,createdAt:x,lastLoginAt:O});return q&&Array.isArray(q)&&(E.providerData=q.map(C=>Object.assign({},C))),S&&(E._redirectEventId=S),E}static _fromIdTokenResponse(e,t,r=!1){return T(this,null,function*(){let i=new ku;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield mf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return T(this,null,function*(){let i=t.users[0];Re(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?nP(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ku;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Fu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var $R=new Map;function zo(n){pf(n instanceof Function,"Expected a class definition");let e=$R.get(n);return e?(pf(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$R.set(n,e),e)}var mq=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(t,r){return T(this,null,function*(){this.storage[t]=r})}_get(t){return T(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return T(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),PE=mq;function SE(n,e,t){return`firebase:${n}:${e}:${t}`}var yf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=SE(this.userKey,i.apiKey,o),this.fullPersistenceKey=SE("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Lu._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return T(this,null,function*(){if(!t.length)return new n(zo(PE),e,r);let i=(yield Promise.all(t.map(l=>T(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||zo(PE),s=SE(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let d=yield l._get(s);if(d){let f=Lu._fromJSON(e,d);l!==o&&(a=f),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>T(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function HR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Eq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Iq(e))return"Blackberry";if(bq(e))return"Webos";if(vq(e))return"Safari";if((e.includes("chrome/")||_q(e))&&!e.includes("edge/"))return"Chrome";if(wq(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function yq(n=mn()){return/firefox\//i.test(n)}function vq(n=mn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _q(n=mn()){return/crios\//i.test(n)}function Eq(n=mn()){return/iemobile/i.test(n)}function wq(n=mn()){return/android/i.test(n)}function Iq(n=mn()){return/blackberry/i.test(n)}function bq(n=mn()){return/webos/i.test(n)}function rP(n,e=[]){let t;switch(n){case"Browser":t=HR(mn());break;case"Worker":t=`${HR(mn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qs}/${r}`}var xE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Cq(t){return T(this,arguments,function*(n,e={}){return _f(n,"GET","/v2/passwordPolicy",ZR(n,e))})}var Dq=6,NE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Dq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var OE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vf(this),this.idTokenSubscription=new vf(this),this.beforeStateQueue=new xE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zo(t)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield yf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let t=yield eP(this,{idToken:e}),r=yield Lu._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var t;if(Ks(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield mf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=aq()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(Ks(this.app))return Promise.reject(hf(this));let t=e?_t(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return T(this,null,function*(){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return Ks(this.app)?Promise.reject(hf(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ks(this.app)?Promise.reject(hf(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(zo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield Cq(this),t=new NE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield gq(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&zo(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=yield yf.create(this,[zo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return T(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&iq(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Tq(n){return _t(n)}var vf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=cM(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Sq={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Aq(n){Sq=n}function Mq(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Rq(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(zo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var cre=Mq("rcb"),ure=new jo(3e4,6e4);var lre=new jo(2e3,1e4);var dre=10*60*1e3;var hre=new jo(3e4,6e4);var fre=new jo(5e3,15e3);var pre=encodeURIComponent("fac");var qR="@firebase/auth",GR="1.8.1";var kE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Pq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xq(n){un(new Et("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Re(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rP(n)},l=new OE(r,i,o,c);return Rq(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),un(new Et("auth-internal",e=>{let t=Tq(e.getProvider("auth").getImmediate());return(r=>new kE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(qR,GR,Pq(n)),$e(qR,GR,"esm2017")}var Nq=5*60,gre=tM("authIdTokenMaxAge")||Nq;function Oq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Aq({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=FE("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Oq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xq("Browser");var N4="auth";var Ef=class{constructor(){return Ro(N4)}};var Vu=class{constructor(e){return e}},iP="analytics",jE=class{constructor(){return Ro(iP)}};var oP=$r(LR,!0);var Iie=Math.floor(Math.random()*(2**32-1))-2**31;var UE=new F("angularfire2.analytics-instances");function O4(n,e,t){if(!Gv(t))return null;let r=hu(iP,n,e);return r&&new Vu(r)}function k4(n){return(e,t,r)=>{if(!Gv(r))return null;let i=e.runOutsideAngular(()=>n(t));return new Vu(i)}}var F4={provide:jE,deps:[[new nn,UE]]},L4={provide:Vu,useFactory:O4,deps:[[new nn,UE],Hr,Qn]};function sP(n,...e){return $e("angularfire",Fi.full,"analytics"),Ft([L4,F4,{provide:UE,useFactory:k4(n),multi:!0,deps:[De,We,Qn,Li,Po,...e]}])}var aP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cP={};var ji,BE;(function(){var n;function e(b,_){function E(){}E.prototype=_.prototype,b.D=_.prototype,b.prototype=new E,b.prototype.constructor=b,b.C=function(C,D,M){for(var w=Array(arguments.length-2),Dn=2;Dn<arguments.length;Dn++)w[Dn-2]=arguments[Dn];return _.prototype[D].apply(C,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,_,E){E||(E=0);var C=Array(16);if(typeof _=="string")for(var D=0;16>D;++D)C[D]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(D=0;16>D;++D)C[D]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=b.g[0],E=b.g[1],D=b.g[2];var M=b.g[3],w=_+(M^E&(D^M))+C[0]+3614090360&4294967295;_=E+(w<<7&4294967295|w>>>25),w=M+(D^_&(E^D))+C[1]+3905402710&4294967295,M=_+(w<<12&4294967295|w>>>20),w=D+(E^M&(_^E))+C[2]+606105819&4294967295,D=M+(w<<17&4294967295|w>>>15),w=E+(_^D&(M^_))+C[3]+3250441966&4294967295,E=D+(w<<22&4294967295|w>>>10),w=_+(M^E&(D^M))+C[4]+4118548399&4294967295,_=E+(w<<7&4294967295|w>>>25),w=M+(D^_&(E^D))+C[5]+1200080426&4294967295,M=_+(w<<12&4294967295|w>>>20),w=D+(E^M&(_^E))+C[6]+2821735955&4294967295,D=M+(w<<17&4294967295|w>>>15),w=E+(_^D&(M^_))+C[7]+4249261313&4294967295,E=D+(w<<22&4294967295|w>>>10),w=_+(M^E&(D^M))+C[8]+1770035416&4294967295,_=E+(w<<7&4294967295|w>>>25),w=M+(D^_&(E^D))+C[9]+2336552879&4294967295,M=_+(w<<12&4294967295|w>>>20),w=D+(E^M&(_^E))+C[10]+4294925233&4294967295,D=M+(w<<17&4294967295|w>>>15),w=E+(_^D&(M^_))+C[11]+2304563134&4294967295,E=D+(w<<22&4294967295|w>>>10),w=_+(M^E&(D^M))+C[12]+1804603682&4294967295,_=E+(w<<7&4294967295|w>>>25),w=M+(D^_&(E^D))+C[13]+4254626195&4294967295,M=_+(w<<12&4294967295|w>>>20),w=D+(E^M&(_^E))+C[14]+2792965006&4294967295,D=M+(w<<17&4294967295|w>>>15),w=E+(_^D&(M^_))+C[15]+1236535329&4294967295,E=D+(w<<22&4294967295|w>>>10),w=_+(D^M&(E^D))+C[1]+4129170786&4294967295,_=E+(w<<5&4294967295|w>>>27),w=M+(E^D&(_^E))+C[6]+3225465664&4294967295,M=_+(w<<9&4294967295|w>>>23),w=D+(_^E&(M^_))+C[11]+643717713&4294967295,D=M+(w<<14&4294967295|w>>>18),w=E+(M^_&(D^M))+C[0]+3921069994&4294967295,E=D+(w<<20&4294967295|w>>>12),w=_+(D^M&(E^D))+C[5]+3593408605&4294967295,_=E+(w<<5&4294967295|w>>>27),w=M+(E^D&(_^E))+C[10]+38016083&4294967295,M=_+(w<<9&4294967295|w>>>23),w=D+(_^E&(M^_))+C[15]+3634488961&4294967295,D=M+(w<<14&4294967295|w>>>18),w=E+(M^_&(D^M))+C[4]+3889429448&4294967295,E=D+(w<<20&4294967295|w>>>12),w=_+(D^M&(E^D))+C[9]+568446438&4294967295,_=E+(w<<5&4294967295|w>>>27),w=M+(E^D&(_^E))+C[14]+3275163606&4294967295,M=_+(w<<9&4294967295|w>>>23),w=D+(_^E&(M^_))+C[3]+4107603335&4294967295,D=M+(w<<14&4294967295|w>>>18),w=E+(M^_&(D^M))+C[8]+1163531501&4294967295,E=D+(w<<20&4294967295|w>>>12),w=_+(D^M&(E^D))+C[13]+2850285829&4294967295,_=E+(w<<5&4294967295|w>>>27),w=M+(E^D&(_^E))+C[2]+4243563512&4294967295,M=_+(w<<9&4294967295|w>>>23),w=D+(_^E&(M^_))+C[7]+1735328473&4294967295,D=M+(w<<14&4294967295|w>>>18),w=E+(M^_&(D^M))+C[12]+2368359562&4294967295,E=D+(w<<20&4294967295|w>>>12),w=_+(E^D^M)+C[5]+4294588738&4294967295,_=E+(w<<4&4294967295|w>>>28),w=M+(_^E^D)+C[8]+2272392833&4294967295,M=_+(w<<11&4294967295|w>>>21),w=D+(M^_^E)+C[11]+1839030562&4294967295,D=M+(w<<16&4294967295|w>>>16),w=E+(D^M^_)+C[14]+4259657740&4294967295,E=D+(w<<23&4294967295|w>>>9),w=_+(E^D^M)+C[1]+2763975236&4294967295,_=E+(w<<4&4294967295|w>>>28),w=M+(_^E^D)+C[4]+1272893353&4294967295,M=_+(w<<11&4294967295|w>>>21),w=D+(M^_^E)+C[7]+4139469664&4294967295,D=M+(w<<16&4294967295|w>>>16),w=E+(D^M^_)+C[10]+3200236656&4294967295,E=D+(w<<23&4294967295|w>>>9),w=_+(E^D^M)+C[13]+681279174&4294967295,_=E+(w<<4&4294967295|w>>>28),w=M+(_^E^D)+C[0]+3936430074&4294967295,M=_+(w<<11&4294967295|w>>>21),w=D+(M^_^E)+C[3]+3572445317&4294967295,D=M+(w<<16&4294967295|w>>>16),w=E+(D^M^_)+C[6]+76029189&4294967295,E=D+(w<<23&4294967295|w>>>9),w=_+(E^D^M)+C[9]+3654602809&4294967295,_=E+(w<<4&4294967295|w>>>28),w=M+(_^E^D)+C[12]+3873151461&4294967295,M=_+(w<<11&4294967295|w>>>21),w=D+(M^_^E)+C[15]+530742520&4294967295,D=M+(w<<16&4294967295|w>>>16),w=E+(D^M^_)+C[2]+3299628645&4294967295,E=D+(w<<23&4294967295|w>>>9),w=_+(D^(E|~M))+C[0]+4096336452&4294967295,_=E+(w<<6&4294967295|w>>>26),w=M+(E^(_|~D))+C[7]+1126891415&4294967295,M=_+(w<<10&4294967295|w>>>22),w=D+(_^(M|~E))+C[14]+2878612391&4294967295,D=M+(w<<15&4294967295|w>>>17),w=E+(M^(D|~_))+C[5]+4237533241&4294967295,E=D+(w<<21&4294967295|w>>>11),w=_+(D^(E|~M))+C[12]+1700485571&4294967295,_=E+(w<<6&4294967295|w>>>26),w=M+(E^(_|~D))+C[3]+2399980690&4294967295,M=_+(w<<10&4294967295|w>>>22),w=D+(_^(M|~E))+C[10]+4293915773&4294967295,D=M+(w<<15&4294967295|w>>>17),w=E+(M^(D|~_))+C[1]+2240044497&4294967295,E=D+(w<<21&4294967295|w>>>11),w=_+(D^(E|~M))+C[8]+1873313359&4294967295,_=E+(w<<6&4294967295|w>>>26),w=M+(E^(_|~D))+C[15]+4264355552&4294967295,M=_+(w<<10&4294967295|w>>>22),w=D+(_^(M|~E))+C[6]+2734768916&4294967295,D=M+(w<<15&4294967295|w>>>17),w=E+(M^(D|~_))+C[13]+1309151649&4294967295,E=D+(w<<21&4294967295|w>>>11),w=_+(D^(E|~M))+C[4]+4149444226&4294967295,_=E+(w<<6&4294967295|w>>>26),w=M+(E^(_|~D))+C[11]+3174756917&4294967295,M=_+(w<<10&4294967295|w>>>22),w=D+(_^(M|~E))+C[2]+718787259&4294967295,D=M+(w<<15&4294967295|w>>>17),w=E+(M^(D|~_))+C[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+M&4294967295}r.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var E=_-this.blockSize,C=this.B,D=this.h,M=0;M<_;){if(D==0)for(;M<=E;)i(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<_;)if(C[D++]=b.charCodeAt(M++),D==this.blockSize){i(this,C),D=0;break}}else for(;M<_;)if(C[D++]=b[M++],D==this.blockSize){i(this,C),D=0;break}}this.h=D,this.o+=_},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var E=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=E&255,E/=256;for(this.u(b),b=Array(16),_=E=0;4>_;++_)for(var C=0;32>C;C+=8)b[E++]=this.g[_]>>>C&255;return b};function o(b,_){var E=a;return Object.prototype.hasOwnProperty.call(E,b)?E[b]:E[b]=_(b)}function s(b,_){this.h=_;for(var E=[],C=!0,D=b.length-1;0<=D;D--){var M=b[D]|0;C&&M==_||(E[D]=M,C=!1)}this.g=E}var a={};function c(b){return-128<=b&&128>b?o(b,function(_){return new s([_|0],0>_?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return S(l(-b));for(var _=[],E=1,C=0;b>=E;C++)_[C]=b/E|0,E*=4294967296;return new s(_,0)}function d(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return S(d(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(_,8)),C=f,D=0;D<b.length;D+=8){var M=Math.min(8,b.length-D),w=parseInt(b.substring(D,D+M),_);8>M?(M=l(Math.pow(_,M)),C=C.j(M).add(l(w))):(C=C.j(E),C=C.add(l(w)))}return C}var f=c(0),g=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(I(this))return-S(this).m();for(var b=0,_=1,E=0;E<this.g.length;E++){var C=this.i(E);b+=(0<=C?C:4294967296+C)*_,_*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(v(this))return"0";if(I(this))return"-"+S(this).toString(b);for(var _=l(Math.pow(b,6)),E=this,C="";;){var D=z(E,_).g;E=x(E,D.j(_));var M=((0<E.g.length?E.g[0]:E.h)>>>0).toString(b);if(E=D,v(E))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function v(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function I(b){return b.h==-1}n.l=function(b){return b=x(this,b),I(b)?-1:v(b)?0:1};function S(b){for(var _=b.g.length,E=[],C=0;C<_;C++)E[C]=~b.g[C];return new s(E,~b.h).add(g)}n.abs=function(){return I(this)?S(this):this},n.add=function(b){for(var _=Math.max(this.g.length,b.g.length),E=[],C=0,D=0;D<=_;D++){var M=C+(this.i(D)&65535)+(b.i(D)&65535),w=(M>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);C=w>>>16,M&=65535,w&=65535,E[D]=w<<16|M}return new s(E,E[E.length-1]&-2147483648?-1:0)};function x(b,_){return b.add(S(_))}n.j=function(b){if(v(this)||v(b))return f;if(I(this))return I(b)?S(this).j(S(b)):S(S(this).j(b));if(I(b))return S(this.j(S(b)));if(0>this.l(m)&&0>b.l(m))return l(this.m()*b.m());for(var _=this.g.length+b.g.length,E=[],C=0;C<2*_;C++)E[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<b.g.length;D++){var M=this.i(C)>>>16,w=this.i(C)&65535,Dn=b.i(D)>>>16,ri=b.i(D)&65535;E[2*C+2*D]+=w*ri,O(E,2*C+2*D),E[2*C+2*D+1]+=M*ri,O(E,2*C+2*D+1),E[2*C+2*D+1]+=w*Dn,O(E,2*C+2*D+1),E[2*C+2*D+2]+=M*Dn,O(E,2*C+2*D+2)}for(C=0;C<_;C++)E[C]=E[2*C+1]<<16|E[2*C];for(C=_;C<2*_;C++)E[C]=0;return new s(E,0)};function O(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function B(b,_){this.g=b,this.h=_}function z(b,_){if(v(_))throw Error("division by zero");if(v(b))return new B(f,f);if(I(b))return _=z(S(b),_),new B(S(_.g),S(_.h));if(I(_))return _=z(b,S(_)),new B(S(_.g),_.h);if(30<b.g.length){if(I(b)||I(_))throw Error("slowDivide_ only works with positive integers.");for(var E=g,C=_;0>=C.l(b);)E=ne(E),C=ne(C);var D=q(E,1),M=q(C,1);for(C=q(C,2),E=q(E,2);!v(C);){var w=M.add(C);0>=w.l(b)&&(D=D.add(E),M=w),C=q(C,1),E=q(E,1)}return _=x(b,D.j(_)),new B(D,_)}for(D=f;0<=b.l(_);){for(E=Math.max(1,Math.floor(b.m()/_.m())),C=Math.ceil(Math.log(E)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=l(E),w=M.j(_);I(w)||0<w.l(b);)E-=C,M=l(E),w=M.j(_);v(M)&&(M=g),D=D.add(M),b=x(b,w)}return new B(D,b)}n.A=function(b){return z(this,b).h},n.and=function(b){for(var _=Math.max(this.g.length,b.g.length),E=[],C=0;C<_;C++)E[C]=this.i(C)&b.i(C);return new s(E,this.h&b.h)},n.or=function(b){for(var _=Math.max(this.g.length,b.g.length),E=[],C=0;C<_;C++)E[C]=this.i(C)|b.i(C);return new s(E,this.h|b.h)},n.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),E=[],C=0;C<_;C++)E[C]=this.i(C)^b.i(C);return new s(E,this.h^b.h)};function ne(b){for(var _=b.g.length+1,E=[],C=0;C<_;C++)E[C]=b.i(C)<<1|b.i(C-1)>>>31;return new s(E,b.h)}function q(b,_){var E=_>>5;_%=32;for(var C=b.g.length-E,D=[],M=0;M<C;M++)D[M]=0<_?b.i(M+E)>>>_|b.i(M+E+1)<<32-_:b.i(M+E);return new s(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,BE=cP.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=d,ji=cP.Integer=s}).apply(typeof aP<"u"?aP:typeof self<"u"?self:typeof window<"u"?window:{});var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wr={};var $E,V4,aa,HE,zu,If,qE,GE,WE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,p){return u==Array.prototype||u==Object.prototype||(u[h]=p.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wf=="object"&&wf];for(var h=0;h<u.length;++h){var p=u[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(u,h){if(h)e:{var p=r;u=u.split(".");for(var y=0;y<u.length-1;y++){var A=u[y];if(!(A in p))break e;p=p[A]}u=u[u.length-1],y=p[u],h=h(y),h!=y&&h!=null&&e(p,u,{configurable:!0,writable:!0,value:h})}}function o(u,h){u instanceof String&&(u+="");var p=0,y=!1,A={next:function(){if(!y&&p<u.length){var R=p++;return{value:h(R,u[R]),done:!1}}return y=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(u){return u||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function l(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,p){return u.call.apply(u.bind,arguments)}function f(u,h,p){if(!u)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,y),u.apply(h,A)}}return function(){return u.apply(h,arguments)}}function g(u,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function m(u,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),u.apply(this,y)}}function v(u,h){function p(){}p.prototype=h.prototype,u.aa=h.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(y,A,R){for(var U=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)U[Le-2]=arguments[Le];return h.prototype[A].apply(y,U)}}function I(u){let h=u.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=u[y];return p}return[]}function S(u,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(c(y)){let A=u.length||0,R=y.length||0;u.length=A+R;for(let U=0;U<R;U++)u[A+U]=y[U]}else u.push(y)}}class x{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function O(u){return/^[\s\xa0]*$/.test(u)}function B(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function z(u){return z[" "](u),u}z[" "]=function(){};var ne=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function q(u,h,p){for(let y in u)h.call(p,u[y],y,u)}function b(u,h){for(let p in u)h.call(void 0,u[p],p,u)}function _(u){let h={};for(let p in u)h[p]=u[p];return h}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,h){let p,y;for(let A=1;A<arguments.length;A++){y=arguments[A];for(p in y)u[p]=y[p];for(let R=0;R<E.length;R++)p=E[R],Object.prototype.hasOwnProperty.call(y,p)&&(u[p]=y[p])}}function D(u){var h=1;u=u.split(":");let p=[];for(;0<h&&u.length;)p.push(u.shift()),h--;return u.length&&p.push(u.join(":")),p}function M(u){a.setTimeout(()=>{throw u},0)}function w(){var u=we;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class Dn{constructor(){this.h=this.g=null}add(h,p){let y=ri.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var ri=new x(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ee=!1,we=new Dn,at=()=>{let u=a.Promise.resolve(void 0);J=()=>{u.then(Tn)}};var Tn=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){M(p)}var h=ri;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}ee=!1};function Xe(){this.s=this.s,this.C=this.C}Xe.prototype.s=!1,Xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function He(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var qe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return u}();function ii(u,h){if(He.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,y=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(ne){e:{try{z(h.nodeName);var A=!0;break e}catch{}A=!1}A||(h=null)}}else p=="mouseover"?h=u.fromElement:p=="mouseout"&&(h=u.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Mg[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ii.aa.h.call(this)}}v(ii,He);var Mg={2:"touch",3:"pen",4:"mouse"};ii.prototype.h=function(){ii.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),Dr=0;function Zt(u,h,p,y,A){this.listener=u,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=A,this.key=++Dr,this.da=this.fa=!1}function Tr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function oi(u){this.src=u,this.g={},this.h=0}oi.prototype.add=function(u,h,p,y,A){var R=u.toString();u=this.g[R],u||(u=this.g[R]=[],this.h++);var U=Pg(u,h,y,A);return-1<U?(h=u[U],p||(h.fa=!1)):(h=new Zt(h,this.src,R,!!y,A),h.fa=p,u.push(h)),h};function Rg(u,h){var p=h.type;if(p in u.g){var y=u.g[p],A=Array.prototype.indexOf.call(y,h,void 0),R;(R=0<=A)&&Array.prototype.splice.call(y,A,1),R&&(Tr(h),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Pg(u,h,p,y){for(var A=0;A<u.length;++A){var R=u[A];if(!R.da&&R.listener==h&&R.capture==!!p&&R.ha==y)return A}return-1}var xg="closure_lm_"+(1e6*Math.random()|0),Ng={};function h0(u,h,p,y,A){if(y&&y.once)return p0(u,h,p,y,A);if(Array.isArray(h)){for(var R=0;R<h.length;R++)h0(u,h[R],p,y,A);return null}return p=Lg(p),u&&u[et]?u.K(h,p,l(y)?!!y.capture:!!y,A):f0(u,h,p,!1,y,A)}function f0(u,h,p,y,A,R){if(!h)throw Error("Invalid event type");var U=l(A)?!!A.capture:!!A,Le=kg(u);if(Le||(u[xg]=Le=new oi(u)),p=Le.add(h,p,y,U,R),p.proxy)return p;if(y=pk(),p.proxy=y,y.src=u,y.listener=p,u.addEventListener)qe||(A=U),A===void 0&&(A=!1),u.addEventListener(h.toString(),y,A);else if(u.attachEvent)u.attachEvent(m0(h.toString()),y);else if(u.addListener&&u.removeListener)u.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function pk(){function u(p){return h.call(u.src,u.listener,p)}let h=gk;return u}function p0(u,h,p,y,A){if(Array.isArray(h)){for(var R=0;R<h.length;R++)p0(u,h[R],p,y,A);return null}return p=Lg(p),u&&u[et]?u.L(h,p,l(y)?!!y.capture:!!y,A):f0(u,h,p,!0,y,A)}function g0(u,h,p,y,A){if(Array.isArray(h))for(var R=0;R<h.length;R++)g0(u,h[R],p,y,A);else y=l(y)?!!y.capture:!!y,p=Lg(p),u&&u[et]?(u=u.i,h=String(h).toString(),h in u.g&&(R=u.g[h],p=Pg(R,p,y,A),-1<p&&(Tr(R[p]),Array.prototype.splice.call(R,p,1),R.length==0&&(delete u.g[h],u.h--)))):u&&(u=kg(u))&&(h=u.g[h.toString()],u=-1,h&&(u=Pg(h,p,y,A)),(p=-1<u?h[u]:null)&&Og(p))}function Og(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[et])Rg(h.i,u);else{var p=u.type,y=u.proxy;h.removeEventListener?h.removeEventListener(p,y,u.capture):h.detachEvent?h.detachEvent(m0(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=kg(h))?(Rg(p,u),p.h==0&&(p.src=null,h[xg]=null)):Tr(u)}}}function m0(u){return u in Ng?Ng[u]:Ng[u]="on"+u}function gk(u,h){if(u.da)u=!0;else{h=new ii(h,this);var p=u.listener,y=u.ha||u.src;u.fa&&Og(u),u=p.call(y,h)}return u}function kg(u){return u=u[xg],u instanceof oi?u:null}var Fg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lg(u){return typeof u=="function"?u:(u[Fg]||(u[Fg]=function(h){return u.handleEvent(h)}),u[Fg])}function Pt(){Xe.call(this),this.i=new oi(this),this.M=this,this.F=null}v(Pt,Xe),Pt.prototype[et]=!0,Pt.prototype.removeEventListener=function(u,h,p,y){g0(this,u,h,p,y)};function Bt(u,h){var p,y=u.F;if(y)for(p=[];y;y=y.F)p.push(y);if(u=u.M,y=h.type||h,typeof h=="string")h=new He(h,u);else if(h instanceof He)h.target=h.target||u;else{var A=h;h=new He(y,u),C(h,A)}if(A=!0,p)for(var R=p.length-1;0<=R;R--){var U=h.g=p[R];A=Cl(U,y,!0,h)&&A}if(U=h.g=u,A=Cl(U,y,!0,h)&&A,A=Cl(U,y,!1,h)&&A,p)for(R=0;R<p.length;R++)U=h.g=p[R],A=Cl(U,y,!1,h)&&A}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var p=u.g[h],y=0;y<p.length;y++)Tr(p[y]);delete u.g[h],u.h--}}this.F=null},Pt.prototype.K=function(u,h,p,y){return this.i.add(String(u),h,!1,p,y)},Pt.prototype.L=function(u,h,p,y){return this.i.add(String(u),h,!0,p,y)};function Cl(u,h,p,y){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var A=!0,R=0;R<h.length;++R){var U=h[R];if(U&&!U.da&&U.capture==p){var Le=U.listener,Ct=U.ha||U.src;U.fa&&Rg(u.i,U),A=Le.call(Ct,y)!==!1&&A}}return A&&!y.defaultPrevented}function y0(u,h,p){if(typeof u=="function")p&&(u=g(u,p));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function v0(u){u.g=y0(()=>{u.g=null,u.i&&(u.i=!1,v0(u))},u.l);let h=u.h;u.h=null,u.m.apply(null,h)}class mk extends Xe{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:v0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nc(u){Xe.call(this),this.h=u,this.g={}}v(nc,Xe);var _0=[];function E0(u){q(u.g,function(h,p){this.g.hasOwnProperty(p)&&Og(h)},u),u.g={}}nc.prototype.N=function(){nc.aa.N.call(this),E0(this)},nc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vg=a.JSON.stringify,yk=a.JSON.parse,vk=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function zg(){}zg.prototype.h=null;function w0(u){return u.h||(u.h=u.i())}function I0(){}var rc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jg(){He.call(this,"d")}v(jg,He);function Ug(){He.call(this,"c")}v(Ug,He);var Zi={},b0=null;function Dl(){return b0=b0||new Pt}Zi.La="serverreachability";function C0(u){He.call(this,Zi.La,u)}v(C0,He);function ic(u){let h=Dl();Bt(h,new C0(h))}Zi.STAT_EVENT="statevent";function D0(u,h){He.call(this,Zi.STAT_EVENT,u),this.stat=h}v(D0,He);function $t(u){let h=Dl();Bt(h,new D0(h,u))}Zi.Ma="timingevent";function T0(u,h){He.call(this,Zi.Ma,u),this.size=h}v(T0,He);function oc(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function sc(){this.g=!0}sc.prototype.xa=function(){this.g=!1};function _k(u,h,p,y,A,R){u.info(function(){if(u.g)if(R)for(var U="",Le=R.split("&"),Ct=0;Ct<Le.length;Ct++){var Me=Le[Ct].split("=");if(1<Me.length){var xt=Me[0];Me=Me[1];var Nt=xt.split("_");U=2<=Nt.length&&Nt[1]=="type"?U+(xt+"="+Me+"&"):U+(xt+"=redacted&")}}else U=null;else U=R;return"XMLHTTP REQ ("+y+") [attempt "+A+"]: "+h+`
`+p+`
`+U})}function Ek(u,h,p,y,A,R,U){u.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+A+"]: "+h+`
`+p+`
`+R+" "+U})}function as(u,h,p,y){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+Ik(u,p)+(y?" "+y:"")})}function wk(u,h){u.info(function(){return"TIMEOUT: "+h})}sc.prototype.info=function(){};function Ik(u,h){if(!u.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var y=p[u];if(!(2>y.length)){var A=y[1];if(Array.isArray(A)&&!(1>A.length)){var R=A[0];if(R!="noop"&&R!="stop"&&R!="close")for(var U=1;U<A.length;U++)A[U]=""}}}}return Vg(p)}catch{return h}}var Tl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},S0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bg;function Sl(){}v(Sl,zg),Sl.prototype.g=function(){return new XMLHttpRequest},Sl.prototype.i=function(){return{}},Bg=new Sl;function si(u,h,p,y){this.j=u,this.i=h,this.l=p,this.R=y||1,this.U=new nc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new A0}function A0(){this.i=null,this.g="",this.h=!1}var M0={},$g={};function Hg(u,h,p){u.L=1,u.v=Pl(Sr(h)),u.m=p,u.P=!0,R0(u,null)}function R0(u,h){u.F=Date.now(),Al(u),u.A=Sr(u.v);var p=u.A,y=u.R;Array.isArray(y)||(y=[String(y)]),H0(p.i,"t",y),u.C=0,p=u.j.J,u.h=new A0,u.g=cC(u.j,p?h:null,!u.m),0<u.O&&(u.M=new mk(g(u.Y,u,u.g),u.O)),h=u.U,p=u.g,y=u.ca;var A="readystatechange";Array.isArray(A)||(A&&(_0[0]=A.toString()),A=_0);for(var R=0;R<A.length;R++){var U=h0(p,A[R],y||h.handleEvent,!1,h.h||h);if(!U)break;h.g[U.key]=U}h=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),ic(),_k(u.i,u.u,u.A,u.l,u.R,u.m)}si.prototype.ca=function(u){u=u.target;let h=this.M;h&&Ar(u)==3?h.j():this.Y(u)},si.prototype.Y=function(u){try{if(u==this.g)e:{let Nt=Ar(this.g);var h=this.g.Ba();let ls=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Z0(this.g)))){this.J||Nt!=4||h==7||(h==8||0>=ls?ic(3):ic(2)),qg(this);var p=this.g.Z();this.X=p;t:if(P0(this)){var y=Z0(this.g);u="";var A=y.length,R=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),ac(this);var U="";break t}this.h.i=new a.TextDecoder}for(h=0;h<A;h++)this.h.h=!0,u+=this.h.i.decode(y[h],{stream:!(R&&h==A-1)});y.length=0,this.h.g+=u,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=p==200,Ek(this.i,this.u,this.A,this.l,this.R,Nt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Ct=this.g;if((Le=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Le)){var Me=Le;break t}}Me=null}if(p=Me)as(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gg(this,p);else{this.o=!1,this.s=3,$t(12),Ji(this),ac(this);break e}}if(this.P){p=!0;let zn;for(;!this.J&&this.C<U.length;)if(zn=bk(this,U),zn==$g){Nt==4&&(this.s=4,$t(14),p=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==M0){this.s=4,$t(15),as(this.i,this.l,U,"[Invalid Chunk]"),p=!1;break}else as(this.i,this.l,zn,null),Gg(this,zn);if(P0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||U.length!=0||this.h.h||(this.s=1,$t(16),p=!1),this.o=this.o&&p,!p)as(this.i,this.l,U,"[Invalid Chunked Response]"),Ji(this),ac(this);else if(0<U.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Jg(xt),xt.M=!0,$t(11))}}else as(this.i,this.l,U,null),Gg(this,U);Nt==4&&Ji(this),this.o&&!this.J&&(Nt==4?iC(this.j,this):(this.o=!1,Al(this)))}else jk(this.g),p==400&&0<U.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Ji(this),ac(this)}}}catch{}finally{}};function P0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bk(u,h){var p=u.C,y=h.indexOf(`
`,p);return y==-1?$g:(p=Number(h.substring(p,y)),isNaN(p)?M0:(y+=1,y+p>h.length?$g:(h=h.slice(y,y+p),u.C=y+p,h)))}si.prototype.cancel=function(){this.J=!0,Ji(this)};function Al(u){u.S=Date.now()+u.I,x0(u,u.I)}function x0(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=oc(g(u.ba,u),h)}function qg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}si.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(wk(this.i,this.A),this.L!=2&&(ic(),$t(17)),Ji(this),this.s=2,ac(this)):x0(this,this.S-u)};function ac(u){u.j.G==0||u.J||iC(u.j,u)}function Ji(u){qg(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,E0(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function Gg(u,h){try{var p=u.j;if(p.G!=0&&(p.g==u||Wg(p.h,u))){if(!u.K&&Wg(p.h,u)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var A=y;if(A[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Fl(p),Ol(p);else break e;Zg(p),$t(18)}}else p.za=A[1],0<p.za-p.T&&37500>A[2]&&p.F&&p.v==0&&!p.C&&(p.C=oc(g(p.Za,p),6e3));if(1>=k0(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else eo(p,11)}else if((u.K||p.g==u)&&Fl(p),!O(h))for(A=p.Da.g.parse(h),h=0;h<A.length;h++){let Me=A[h];if(p.T=Me[0],Me=Me[1],p.G==2)if(Me[0]=="c"){p.K=Me[1],p.ia=Me[2];let xt=Me[3];xt!=null&&(p.la=xt,p.j.info("VER="+p.la));let Nt=Me[4];Nt!=null&&(p.Aa=Nt,p.j.info("SVER="+p.Aa));let ls=Me[5];ls!=null&&typeof ls=="number"&&0<ls&&(y=1.5*ls,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let zn=u.g;if(zn){let Vl=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vl){var R=y.h;R.g||Vl.indexOf("spdy")==-1&&Vl.indexOf("quic")==-1&&Vl.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Kg(R,R.h),R.h=null))}if(y.D){let Xg=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xg&&(y.ya=Xg,Ge(y.I,y.D,Xg))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var U=u;if(y.qa=aC(y,y.J?y.ia:null,y.W),U.K){F0(y.h,U);var Le=U,Ct=y.L;Ct&&(Le.I=Ct),Le.B&&(qg(Le),Al(Le)),y.g=U}else nC(y);0<p.i.length&&kl(p)}else Me[0]!="stop"&&Me[0]!="close"||eo(p,7);else p.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?eo(p,7):Yg(p):Me[0]!="noop"&&p.l&&p.l.ta(Me),p.v=0)}}ic(4)}catch{}}var Ck=class{constructor(u,h){this.g=u,this.map=h}};function N0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function O0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function k0(u){return u.h?1:u.g?u.g.size:0}function Wg(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function Kg(u,h){u.g?u.g.add(h):u.h=h}function F0(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}N0.prototype.cancel=function(){if(this.i=L0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function L0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(let p of u.g.values())h=h.concat(p.D);return h}return I(u.i)}function Dk(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var h=[],p=u.length,y=0;y<p;y++)h.push(u[y]);return h}h=[],p=0;for(y in u)h[p++]=u[y];return h}function Tk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var h=[];u=u.length;for(var p=0;p<u;p++)h.push(p);return h}h=[],p=0;for(let y in u)h[p++]=y;return h}}}function V0(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var p=Tk(u),y=Dk(u),A=y.length,R=0;R<A;R++)h.call(void 0,y[R],p&&p[R],u)}var z0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sk(u,h){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var y=u[p].indexOf("="),A=null;if(0<=y){var R=u[p].substring(0,y);A=u[p].substring(y+1)}else R=u[p];h(R,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Xi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Xi){this.h=u.h,Ml(this,u.j),this.o=u.o,this.g=u.g,Rl(this,u.s),this.l=u.l;var h=u.i,p=new lc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),j0(this,p),this.m=u.m}else u&&(h=String(u).match(z0))?(this.h=!1,Ml(this,h[1]||"",!0),this.o=cc(h[2]||""),this.g=cc(h[3]||"",!0),Rl(this,h[4]),this.l=cc(h[5]||"",!0),j0(this,h[6]||"",!0),this.m=cc(h[7]||"")):(this.h=!1,this.i=new lc(null,this.h))}Xi.prototype.toString=function(){var u=[],h=this.j;h&&u.push(uc(h,U0,!0),":");var p=this.g;return(p||h=="file")&&(u.push("//"),(h=this.o)&&u.push(uc(h,U0,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(uc(p,p.charAt(0)=="/"?Rk:Mk,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",uc(p,xk)),u.join("")};function Sr(u){return new Xi(u)}function Ml(u,h,p){u.j=p?cc(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function Rl(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function j0(u,h,p){h instanceof lc?(u.i=h,Nk(u.i,u.h)):(p||(h=uc(h,Pk)),u.i=new lc(h,u.h))}function Ge(u,h,p){u.i.set(h,p)}function Pl(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function cc(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function uc(u,h,p){return typeof u=="string"?(u=encodeURI(u).replace(h,Ak),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ak(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var U0=/[#\/\?@]/g,Mk=/[#\?:]/g,Rk=/[#\?]/g,Pk=/[#\?@]/g,xk=/#/g;function lc(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function ai(u){u.g||(u.g=new Map,u.h=0,u.i&&Sk(u.i,function(h,p){u.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=lc.prototype,n.add=function(u,h){ai(this),this.i=null,u=cs(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(h),this.h+=1,this};function B0(u,h){ai(u),h=cs(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function $0(u,h){return ai(u),h=cs(u,h),u.g.has(h)}n.forEach=function(u,h){ai(this),this.g.forEach(function(p,y){p.forEach(function(A){u.call(h,A,y,this)},this)},this)},n.na=function(){ai(this);let u=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let A=u[y];for(let R=0;R<A.length;R++)p.push(h[y])}return p},n.V=function(u){ai(this);let h=[];if(typeof u=="string")$0(this,u)&&(h=h.concat(this.g.get(cs(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)h=h.concat(u[p])}return h},n.set=function(u,h){return ai(this),this.i=null,u=cs(this,u),$0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},n.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function H0(u,h,p){B0(u,h),0<p.length&&(u.i=null,u.g.set(cs(u,h),I(p)),u.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let R=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var A=R;U[y]!==""&&(A+="="+encodeURIComponent(String(U[y]))),u.push(A)}}return this.i=u.join("&")};function cs(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function Nk(u,h){h&&!u.j&&(ai(u),u.i=null,u.g.forEach(function(p,y){var A=y.toLowerCase();y!=A&&(B0(this,y),H0(this,A,p))},u)),u.j=h}function Ok(u,h){let p=new sc;if(a.Image){let y=new Image;y.onload=m(ci,p,"TestLoadImage: loaded",!0,h,y),y.onerror=m(ci,p,"TestLoadImage: error",!1,h,y),y.onabort=m(ci,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=m(ci,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=u}else h(!1)}function kk(u,h){let p=new sc,y=new AbortController,A=setTimeout(()=>{y.abort(),ci(p,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:y.signal}).then(R=>{clearTimeout(A),R.ok?ci(p,"TestPingServer: ok",!0,h):ci(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(A),ci(p,"TestPingServer: error",!1,h)})}function ci(u,h,p,y,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),y(p)}catch{}}function Fk(){this.g=new vk}function Lk(u,h,p){let y=p||"";try{V0(u,function(A,R){let U=A;l(A)&&(U=Vg(A)),h.push(y+R+"="+encodeURIComponent(U))})}catch(A){throw h.push(y+"type="+encodeURIComponent("_badmap")),A}}function dc(u){this.l=u.Ub||null,this.j=u.eb||!1}v(dc,zg),dc.prototype.g=function(){return new xl(this.l,this.j)},dc.prototype.i=function(u){return function(){return u}}({});function xl(u,h){Pt.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(xl,Pt),n=xl.prototype,n.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,fc(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hc(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fc(this)),this.g&&(this.readyState=3,fc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;q0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function q0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?hc(this):fc(this),this.readyState==3&&q0(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,hc(this))},n.Qa=function(u){this.g&&(this.response=u,hc(this))},n.ga=function(){this.g&&hc(this)};function hc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,fc(u)}n.setRequestHeader=function(u,h){this.u.append(u,h)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=h.next();return u.join(`\r
`)};function fc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function G0(u){let h="";return q(u,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function Qg(u,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=G0(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ge(u,h,p))}function tt(u){Pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(tt,Pt);var Vk=/^https?$/i,zk=["POST","PUT"];n=tt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bg.g(),this.v=this.o?w0(this.o):w0(Bg),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(R){W0(this,R);return}if(u=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var A in y)p.set(A,y[A]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let R of y.keys())p.set(R,y.get(R));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(R=>R.toLowerCase()=="content-type"),A=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zk,h,void 0))||y||A||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,U]of p)this.g.setRequestHeader(R,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Y0(this),this.u=!0,this.g.send(u),this.u=!1}catch(R){W0(this,R)}};function W0(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,K0(u),Nl(u)}function K0(u){u.A||(u.A=!0,Bt(u,"complete"),Bt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Bt(this,"complete"),Bt(this,"abort"),Nl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nl(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Q0(this):this.bb())},n.bb=function(){Q0(this)};function Q0(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Ar(u)!=4||u.Z()!=2)){if(u.u&&Ar(u)==4)y0(u.Ea,0,u);else if(Bt(u,"readystatechange"),Ar(u)==4){u.h=!1;try{let U=u.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=U===0){var A=String(u.D).match(z0)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),y=!Vk.test(A?A.toLowerCase():"")}p=y}if(p)Bt(u,"complete"),Bt(u,"success");else{u.m=6;try{var R=2<Ar(u)?u.g.statusText:""}catch{R=""}u.l=R+" ["+u.Z()+"]",K0(u)}}finally{Nl(u)}}}}function Nl(u,h){if(u.g){Y0(u);let p=u.g,y=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||Bt(u,"ready");try{p.onreadystatechange=y}catch{}}}function Y0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Ar(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),yk(h)}};function Z0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function jk(u){let h={};u=(u.g&&2<=Ar(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<u.length;y++){if(O(u[y]))continue;var p=D(u[y]);let A=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let R=h[A]||[];h[A]=R,R.push(p)}b(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pc(u,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||h}function J0(u){this.Aa=0,this.i=[],this.j=new sc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pc("baseRetryDelayMs",5e3,u),this.cb=pc("retryDelaySeedMs",1e4,u),this.Wa=pc("forwardChannelMaxRetries",2,u),this.wa=pc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new N0(u&&u.concurrentRequestLimit),this.Da=new Fk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=J0.prototype,n.la=8,n.G=1,n.connect=function(u,h,p,y){$t(0),this.W=u,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=aC(this,null,this.W),kl(this)};function Yg(u){if(X0(u),u.G==3){var h=u.U++,p=Sr(u.I);if(Ge(p,"SID",u.K),Ge(p,"RID",h),Ge(p,"TYPE","terminate"),gc(u,p),h=new si(u,u.j,h),h.L=2,h.v=Pl(Sr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=cC(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Al(h)}sC(u)}function Ol(u){u.g&&(Jg(u),u.g.cancel(),u.g=null)}function X0(u){Ol(u),u.u&&(a.clearTimeout(u.u),u.u=null),Fl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function kl(u){if(!O0(u.h)&&!u.s){u.s=!0;var h=u.Ga;J||at(),ee||(J(),ee=!0),we.add(h,u),u.B=0}}function Uk(u,h){return k0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=oc(g(u.Ga,u,h),oC(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let A=new si(this,this.j,u),R=this.o;if(this.S&&(R?(R=_(R),C(R,this.S)):R=this.S),this.m!==null||this.O||(A.H=R,R=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=tC(this,A,h),p=Sr(this.I),Ge(p,"RID",u),Ge(p,"CVER",22),this.D&&Ge(p,"X-HTTP-Session-Id",this.D),gc(this,p),R&&(this.O?h="headers="+encodeURIComponent(String(G0(R)))+"&"+h:this.m&&Qg(p,this.m,R)),Kg(this.h,A),this.Ua&&Ge(p,"TYPE","init"),this.P?(Ge(p,"$req",h),Ge(p,"SID","null"),A.T=!0,Hg(A,p,null)):Hg(A,p,h),this.G=2}}else this.G==3&&(u?eC(this,u):this.i.length==0||O0(this.h)||eC(this))};function eC(u,h){var p;h?p=h.l:p=u.U++;let y=Sr(u.I);Ge(y,"SID",u.K),Ge(y,"RID",p),Ge(y,"AID",u.T),gc(u,y),u.m&&u.o&&Qg(y,u.m,u.o),p=new si(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),h&&(u.i=h.D.concat(u.i)),h=tC(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Kg(u.h,p),Hg(p,y,h)}function gc(u,h){u.H&&q(u.H,function(p,y){Ge(h,y,p)}),u.l&&V0({},function(p,y){Ge(h,y,p)})}function tC(u,h,p){p=Math.min(u.i.length,p);var y=u.l?g(u.l.Na,u.l,u):null;e:{var A=u.i;let R=-1;for(;;){let U=["count="+p];R==-1?0<p?(R=A[0].g,U.push("ofs="+R)):R=0:U.push("ofs="+R);let Le=!0;for(let Ct=0;Ct<p;Ct++){let Me=A[Ct].g,xt=A[Ct].map;if(Me-=R,0>Me)R=Math.max(0,A[Ct].g-100),Le=!1;else try{Lk(xt,U,"req"+Me+"_")}catch{y&&y(xt)}}if(Le){y=U.join("&");break e}}}return u=u.i.splice(0,p),h.D=u,y}function nC(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;J||at(),ee||(J(),ee=!0),we.add(h,u),u.v=0}}function Zg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=oc(g(u.Fa,u),oC(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,rC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=oc(g(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Ol(this),rC(this))};function Jg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function rC(u){u.g=new si(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=Sr(u.qa);Ge(h,"RID","rpc"),Ge(h,"SID",u.K),Ge(h,"AID",u.T),Ge(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(h,"TO",u.ja),Ge(h,"TYPE","xmlhttp"),gc(u,h),u.m&&u.o&&Qg(h,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Pl(Sr(h)),p.m=null,p.P=!0,R0(p,u)}n.Za=function(){this.C!=null&&(this.C=null,Ol(this),Zg(this),$t(19))};function Fl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function iC(u,h){var p=null;if(u.g==h){Fl(u),Jg(u),u.g=null;var y=2}else if(Wg(u.h,h))p=h.D,F0(u.h,h),y=1;else return;if(u.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var A=u.B;y=Dl(),Bt(y,new T0(y,p)),kl(u)}else nC(u);else if(A=h.s,A==3||A==0&&0<h.X||!(y==1&&Uk(u,h)||y==2&&Zg(u)))switch(p&&0<p.length&&(h=u.h,h.i=h.i.concat(p)),A){case 1:eo(u,5);break;case 4:eo(u,10);break;case 3:eo(u,6);break;default:eo(u,2)}}}function oC(u,h){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*h}function eo(u,h){if(u.j.info("Error code "+h),h==2){var p=g(u.fb,u),y=u.Xa;let A=!y;y=new Xi(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ml(y,"https"),Pl(y),A?Ok(y.toString(),p):kk(y.toString(),p)}else $t(2);u.G=0,u.l&&u.l.sa(h),sC(u),X0(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function sC(u){if(u.G=0,u.ka=[],u.l){let h=L0(u.h);(h.length!=0||u.i.length!=0)&&(S(u.ka,h),S(u.ka,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.ra()}}function aC(u,h,p){var y=p instanceof Xi?Sr(p):new Xi(p);if(y.g!="")h&&(y.g=h+"."+y.g),Rl(y,y.s);else{var A=a.location;y=A.protocol,h=h?h+"."+A.hostname:A.hostname,A=+A.port;var R=new Xi(null);y&&Ml(R,y),h&&(R.g=h),A&&Rl(R,A),p&&(R.l=p),y=R}return p=u.D,h=u.ya,p&&h&&Ge(y,p,h),Ge(y,"VER",u.la),gc(u,y),y}function cC(u,h,p){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new tt(new dc({eb:p})):new tt(u.pa),h.Ha(u.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function uC(){}n=uC.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ll(){}Ll.prototype.g=function(u,h){return new hn(u,h)};function hn(u,h){Pt.call(this),this.g=new J0(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!O(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!O(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new us(this)}v(hn,Pt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Yg(this.g)},hn.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Vg(u),u=p);h.i.push(new Ck(h.Ya++,u)),h.G==3&&kl(h)},hn.prototype.N=function(){this.g.l=null,delete this.j,Yg(this.g),delete this.g,hn.aa.N.call(this)};function lC(u){jg.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(let p in h){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}v(lC,jg);function dC(){Ug.call(this),this.status=1}v(dC,Ug);function us(u){this.g=u}v(us,uC),us.prototype.ua=function(){Bt(this.g,"a")},us.prototype.ta=function(u){Bt(this.g,new lC(u))},us.prototype.sa=function(u){Bt(this.g,new dC)},us.prototype.ra=function(){Bt(this.g,"b")},Ll.prototype.createWebChannel=Ll.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,WE=Wr.createWebChannelTransport=function(){return new Ll},GE=Wr.getStatEventTarget=function(){return Dl()},qE=Wr.Event=Zi,If=Wr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tl.NO_ERROR=0,Tl.TIMEOUT=8,Tl.HTTP_ERROR=6,zu=Wr.ErrorCode=Tl,S0.COMPLETE="complete",HE=Wr.EventType=S0,I0.EventType=rc,rc.OPEN="a",rc.CLOSE="b",rc.ERROR="c",rc.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,aa=Wr.WebChannel=I0,V4=Wr.FetchXmlHttpFactory=dc,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,$E=Wr.XhrIo=tt}).apply(typeof wf<"u"?wf:typeof self<"u"?self:typeof window<"u"?window:{});var uP="@firebase/firestore";var wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");var xa="11.0.2";var qo=new fr("@firebase/firestore");function ca(){return qo.logLevel}function K(n,...e){if(qo.logLevel<=Ie.DEBUG){let t=e.map(RI);qo.debug(`Firestore (${xa}): ${n}`,...t)}}function Qr(n,...e){if(qo.logLevel<=Ie.ERROR){let t=e.map(RI);qo.error(`Firestore (${xa}): ${n}`,...t)}}function ma(n,...e){if(qo.logLevel<=Ie.WARN){let t=e.map(RI);qo.warn(`Firestore (${xa}): ${n}`,...t)}}function RI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function le(n="Unexpected state"){let e=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: `+n;throw Qr(e),new Error(e)}function Ne(n,e){n||le()}function he(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},te=class extends Lt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Kr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Mf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},JE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wt.UNAUTHENTICATED))}shutdown(){}},XE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},ew=class{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ne(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>T(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new Mf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new wt(e)}},tw=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},nw=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new tw(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rw=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},iw=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ne(this.o===void 0);let r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ne(typeof t.token=="string"),this.R=t.token,new rw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function z4(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Rf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=z4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Te(n,e){return n<e?-1:n>e?1:0}function ya(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var At=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new te(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new te(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new te(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new At(0,0))}static max(){return new n(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Pf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&le(),r===void 0?r=e.length-t:r>e.length-t&&le(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},ot=class n extends Pf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new te(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},j4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,En=class n extends Pf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return j4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new te(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new te(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ce=class n{constructor(e){this.path=e}static fromPath(e){return new n(ot.fromString(e))}static fromName(e){return new n(ot.fromString(e).popFirst(5))}static empty(){return new n(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ot(e.slice()))}};var ow=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};ow.UNKNOWN_ID=-1;function U4(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new At(t+1,0):new At(t,r));return new Go(i,ce.empty(),e)}function B4(n){return new Go(n.readTime,n.key,-1)}var Go=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(fe.min(),ce.empty(),-1)}static max(){return new n(fe.max(),ce.empty(),-1)}};function $4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(n.documentKey,e.documentKey),t!==0?t:Te(n.largestBatchId,e.largestBatchId))}var H4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Na(n){return T(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==H4)throw n;K("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(d=>{s[l]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function q4(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Oa(n){return n.name==="IndexedDbTransactionError"}var PI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function up(n){return n==null}function qu(n){return n===0&&1/n==-1/0}function G4(n){return typeof n=="number"&&Number.isInteger(n)&&!qu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function W4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lP(e)),e=K4(n.get(t),e);return lP(e)}function K4(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function lP(n){return n+""}var Q4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Lie=[...Q4,"documentOverlays"],Y4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Z4=Y4,J4=[...Z4,"indexConfiguration","indexState","indexEntries"];var Vie=[...J4,"globals"];function dP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var st=class n{constructor(e,t){this.comparator=e,this.root=t||yr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ha(this.root,e,this.comparator,!0)}},ha=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();let e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}};yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,t,r,i,o){return this}insert(e,t,r){return new yr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var It=class n{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xf(this.data.getIterator())}getIteratorFrom(e){return new xf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},xf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mr=class n{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new n([])}unionWith(e){let t=new It(En.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Nf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var jt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Nf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};jt.EMPTY_BYTE_STRING=new jt("");var X4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(n){if(Ne(!!n),typeof n=="string"){let e=0,t=X4.exec(n);if(Ne(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(n.seconds),nanos:Ze(n.nanos)}}function Ze(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zr(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}function xI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function lp(n){let e=n.mapValue.fields.__previous_value__;return xI(e)?lp(e):e}function Gu(n){let e=Yr(n.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}var aw=class{constructor(e,t,r,i,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Of=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var bf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xI(n)?4:GP(n)?9007199254740991:qP(n)?10:11:le()}function Er(n,e){if(n===e)return!0;let t=Bi(n);if(t!==Bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gu(n).isEqual(Gu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Yr(i.timestampValue),a=Yr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Zr(i.bytesValue).isEqual(Zr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ze(i.geoPointValue.latitude)===Ze(o.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ze(i.integerValue)===Ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ze(i.doubleValue),a=Ze(o.doubleValue);return s===a?qu(s)===qu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ya(n.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(dP(s)!==dP(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Er(s[c],a[c])))return!1;return!0}(n,e);default:return le()}}function Wu(n,e){return(n.values||[]).find(t=>Er(t,e))!==void 0}function va(n,e){if(n===e)return 0;let t=Bi(n),r=Bi(e);if(t!==r)return Te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Te(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ze(o.integerValue||o.doubleValue),c=Ze(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return hP(n.timestampValue,e.timestampValue);case 4:return hP(Gu(n),Gu(e));case 5:return Te(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Zr(o),c=Zr(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=Te(a[l],c[l]);if(d!==0)return d}return Te(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Te(Ze(o.latitude),Ze(s.latitude));return a!==0?a:Te(Ze(o.longitude),Ze(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return fP(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,d;let f=o.fields||{},g=s.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(c=g.value)===null||c===void 0?void 0:c.arrayValue,I=Te(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((d=v?.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:fP(m,v)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===bf.mapValue&&s===bf.mapValue)return 0;if(o===bf.mapValue)return 1;if(s===bf.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=Te(c[f],d[f]);if(g!==0)return g;let m=va(a[c[f]],l[d[f]]);if(m!==0)return m}return Te(c.length,d.length)}(n.mapValue,e.mapValue);default:throw le()}}function hP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Te(n,e);let t=Yr(n),r=Yr(e),i=Te(t.seconds,r.seconds);return i!==0?i:Te(t.nanos,r.nanos)}function fP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=va(t[i],r[i]);if(o)return o}return Te(t.length,r.length)}function _a(n){return cw(n)}function cw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Yr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ce.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=cw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${cw(t.fields[s])}`;return i+"}"}(n.mapValue):le()}function Tf(n){switch(Bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=lp(n);return e?16+Tf(e):16;case 5:return 2*n.stringValue.length;case 6:return Zr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Tf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Hi(r.fields,(o,s)=>{i+=o.length+Tf(s)}),i}(n.mapValue);default:throw le()}}function uw(n){return!!n&&"integerValue"in n}function NI(n){return!!n&&"arrayValue"in n}function pP(n){return!!n&&"nullValue"in n}function gP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sf(n){return!!n&&"mapValue"in n}function qP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Uu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Hi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Uu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ln=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=En.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Uu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Sf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Sf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Hi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Uu(this.value))}};function WP(n){let e=[];return Hi(n.fields,(t,r)=>{let i=new En([t]);if(Sf(r)){let o=WP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new mr(e)}var er=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,fe.min(),fe.min(),fe.min(),Ln.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,fe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,fe.min(),fe.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,fe.min(),fe.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ea=class{constructor(e,t){this.position=e,this.inclusive=t}};function mP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ce.comparator(ce.fromName(s.referenceValue),t.key):r=va(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function yP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Er(n.position[t],e.position[t]))return!1;return!0}var wa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function e3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var kf=class{},gt=class n extends kf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new dw(e,t,r):t==="array-contains"?new pw(e,r):t==="in"?new gw(e,r):t==="not-in"?new mw(e,r):t==="array-contains-any"?new yw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new hw(e,r):new fw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(va(t,this.value)):t!==null&&Bi(this.value)===Bi(t)&&this.matchesComparison(va(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},wr=class n extends kf{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return KP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function KP(n){return n.op==="and"}function QP(n){return t3(n)&&KP(n)}function t3(n){for(let e of n.filters)if(e instanceof wr)return!1;return!0}function lw(n){if(n instanceof gt)return n.field.canonicalString()+n.op.toString()+_a(n.value);if(QP(n))return n.filters.map(e=>lw(e)).join(",");{let e=n.filters.map(t=>lw(t)).join(",");return`${n.op}(${e})`}}function YP(n,e){return n instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&Er(r.value,i.value)}(n,e):n instanceof wr?function(r,i){return i instanceof wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&YP(s,i.filters[a]),!0):!1}(n,e):void le()}function ZP(n){return n instanceof gt?function(t){return`${t.field.canonicalString()} ${t.op} ${_a(t.value)}`}(n):n instanceof wr?function(t){return t.op.toString()+" {"+t.getFilters().map(ZP).join(" ,")+"}"}(n):"Filter"}var dw=class extends gt{constructor(e,t,r){super(e,t,r),this.key=ce.fromName(r.referenceValue)}matches(e){let t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}},hw=class extends gt{constructor(e,t){super(e,"in",t),this.keys=JP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},fw=class extends gt{constructor(e,t){super(e,"not-in",t),this.keys=JP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function JP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ce.fromName(r.referenceValue))}var pw=class extends gt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return NI(t)&&Wu(t.arrayValue,this.value)}},gw=class extends gt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Wu(this.value.arrayValue,t)}},mw=class extends gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Wu(this.value.arrayValue,t)}},yw=class extends gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!NI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wu(this.value.arrayValue,r))}};var vw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function vP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new vw(n,e,t,r,i,o,s)}function OI(n){let e=he(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>lw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),up(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>_a(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>_a(r)).join(",")),e.ue=t}return e.ue}function kI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!e3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!YP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yP(n.startAt,e.startAt)&&yP(n.endAt,e.endAt)}function _w(n){return ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ia=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function n3(n,e,t,r,i,o,s,a){return new Ia(n,e,t,r,i,o,s,a)}function FI(n){return new Ia(n)}function _P(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function r3(n){return n.collectionGroup!==null}function Bu(n){let e=he(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new It(En.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new wa(o,r))}),t.has(En.keyField().canonicalString())||e.ce.push(new wa(En.keyField(),r))}return e.ce}function vr(n){let e=he(n);return e.le||(e.le=i3(e,Bu(n))),e.le}function i3(n,e){if(n.limitType==="F")return vP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new wa(i.field,o)});let t=n.endAt?new Ea(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ea(n.startAt.position,n.startAt.inclusive):null;return vP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ew(n,e,t){return new Ia(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dp(n,e){return kI(vr(n),vr(e))&&n.limitType===e.limitType}function XP(n){return`${OI(vr(n))}|lt:${n.limitType}`}function ua(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ZP(i)).join(", ")}]`),up(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>_a(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>_a(i)).join(",")),`Target(${r})`}(vr(n))}; limitType=${n.limitType})`}function hp(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Bu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=mP(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,Bu(r),i)||r.endAt&&!function(s,a,c){let l=mP(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,Bu(r),i))}(n,e)}function o3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ex(n){return(e,t)=>{let r=!1;for(let i of Bu(n)){let o=s3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function s3(n,e,t){let r=n.field.isKeyField()?ce.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?va(c,l):le()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}var Jr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return HP(this.inner)}size(){return this.innerSize}};var a3=new st(ce.comparator);function Xr(){return a3}var tx=new st(ce.comparator);function ju(...n){let e=tx;for(let t of n)e=e.insert(t.key,t);return e}function nx(n){let e=tx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Uo(){return $u()}function rx(){return $u()}function $u(){return new Jr(n=>n.toString(),(n,e)=>n.isEqual(e))}var c3=new st(ce.comparator),u3=new It(ce.comparator);function Ce(...n){let e=u3;for(let t of n)e=e.add(t);return e}var l3=new It(Te);function d3(){return l3}function LI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(e)?"-0":e}}function ix(n){return{integerValue:""+n}}function h3(n,e){return G4(e)?ix(e):LI(n,e)}var ba=class{constructor(){this._=void 0}};function f3(n,e,t){return n instanceof Ca?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&xI(o)&&(o=lp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Wo?sx(n,e):n instanceof Ko?ax(n,e):function(i,o){let s=ox(i,o),a=EP(s)+EP(i.Pe);return uw(s)&&uw(i.Pe)?ix(a):LI(i.serializer,a)}(n,e)}function p3(n,e,t){return n instanceof Wo?sx(n,e):n instanceof Ko?ax(n,e):t}function ox(n,e){return n instanceof Da?function(r){return uw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ca=class extends ba{},Wo=class extends ba{constructor(e){super(),this.elements=e}};function sx(n,e){let t=cx(e);for(let r of n.elements)t.some(i=>Er(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ko=class extends ba{constructor(e){super(),this.elements=e}};function ax(n,e){let t=cx(e);for(let r of n.elements)t=t.filter(i=>!Er(i,r));return{arrayValue:{values:t}}}var Da=class extends ba{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function EP(n){return Ze(n.integerValue||n.doubleValue)}function cx(n){return NI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function g3(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Wo&&i instanceof Wo||r instanceof Ko&&i instanceof Ko?ya(r.elements,i.elements,Er):r instanceof Da&&i instanceof Da?Er(r.Pe,i.Pe):r instanceof Ca&&i instanceof Ca}(n.transform,e.transform)}var ww=class{constructor(e,t){this.version=e,this.transformResults=t}},Ho=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Af(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ta=class{};function ux(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ff(n.key,Ho.none()):new Sa(n.key,n.data,Ho.none());{let t=n.data,r=Ln.empty(),i=new It(En.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ei(n.key,r,new mr(i.toArray()),Ho.none())}}function m3(n,e,t){n instanceof Sa?function(i,o,s){let a=i.value.clone(),c=IP(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ei?function(i,o,s){if(!Af(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=IP(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(lx(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Hu(n,e,t,r){return n instanceof Sa?function(o,s,a,c){if(!Af(o.precondition,s))return a;let l=o.value.clone(),d=bP(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof ei?function(o,s,a,c){if(!Af(o.precondition,s))return a;let l=bP(o.fieldTransforms,c,s),d=s.data;return d.setAll(lx(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return Af(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function y3(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=ox(r.transform,i||null);o!=null&&(t===null&&(t=Ln.empty()),t.set(r.field,o))}return t||null}function wP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ya(r,i,(o,s)=>g3(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Sa=class extends Ta{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ei=class extends Ta{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function lx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function IP(n,e,t){let r=new Map;Ne(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,p3(s,a,t[i]))}return r}function bP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,f3(o,s,e))}return r}var Ff=class extends Ta{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Iw=class extends Ta{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var bw=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&m3(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Hu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=rx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=ux(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ce())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(t,r)=>wP(t,r))&&ya(this.baseMutations,e.baseMutations,(t,r)=>wP(t,r))}},Cw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ne(e.mutations.length===r.length);let i=function(){return c3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Dw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Tw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ut,Ae;function v3(n){switch(n){default:return le();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function dx(n){if(n===void 0)return Qr("GRPC error has no .code"),L.UNKNOWN;switch(n){case ut.OK:return L.OK;case ut.CANCELLED:return L.CANCELLED;case ut.UNKNOWN:return L.UNKNOWN;case ut.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case ut.INTERNAL:return L.INTERNAL;case ut.UNAVAILABLE:return L.UNAVAILABLE;case ut.UNAUTHENTICATED:return L.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case ut.NOT_FOUND:return L.NOT_FOUND;case ut.ALREADY_EXISTS:return L.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return L.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case ut.ABORTED:return L.ABORTED;case ut.OUT_OF_RANGE:return L.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return L.UNIMPLEMENTED;case ut.DATA_LOSS:return L.DATA_LOSS;default:return le()}}(Ae=ut||(ut={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";var CP=null;function _3(){return new TextEncoder}var E3=new ji([4294967295,4294967295],0);function DP(n){let e=_3().encode(n),t=new BE;return t.update(e),new Uint8Array(t.digest())}function TP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ji([t,r],0),new ji([i,o],0)]}var Sw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bo(`Invalid padding: ${t}`);if(r<0)throw new Bo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bo(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=ji.fromNumber(this.Te)}Ee(e,t,r){let i=e.add(t.multiply(ji.fromNumber(r)));return i.compare(E3)===1&&(i=new ji([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let t=DP(e),[r,i]=TP(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let t=DP(e),[r,i]=TP(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Bo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Lf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(fe.min(),i,new st(Te),Xr(),Ce())}},Ku=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ce(),Ce(),Ce())}};var fa=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Vf=class{constructor(e,t){this.targetId=e,this.me=t}},zf=class{constructor(e,t,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},jf=class{constructor(){this.fe=0,this.ge=SP(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),t=Ce(),r=Ce();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Ku(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=SP()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Aw=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xr(),this.qe=Cf(),this.Qe=Cf(),this.Ke=new st(Te)}$e(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{let r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){let t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){let o=i.target;if(_w(o))if(r===0){let s=new ce(o.path);this.We(t,s,er.newNoDocument(s,fe.min()))}else Ne(r===1);else{let s=this.Ze(t);if(s!==r){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,l)}CP?.tt(function(d,f,g,m,v){var I,S,x,O,B,z;let ne={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},q=f.unchangedNames;return q&&(ne.bloomFilter={applied:v===0,hashCount:(I=q?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(O=(x=(S=q?.bits)===null||S===void 0?void 0:S.bitmap)===null||x===void 0?void 0:x.length)!==null&&O!==void 0?O:0,padding:(z=(B=q?.bits)===null||B===void 0?void 0:B.padding)!==null&&z!==void 0?z:0,mightContain:b=>{var _;return(_=m?.mightContain(b))!==null&&_!==void 0&&_}}),ne}(s,e.me,this.Le.nt(),a,c))}}}}Xe(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Zr(r).toUint8Array()}catch(c){if(c instanceof Nf)return ma("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Sw(s,i,o)}catch(c){return ma(c instanceof Bo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),i++)}),i}it(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&_w(a.target)){let c=new ce(a.target.path);this.st(c).has(s)||this.ot(s,c)||this.We(s,c,er.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Ce();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Lf(e,t,this.Ke,this.ke,r);return this.ke=Xr(),this.qe=Cf(),this.Qe=Cf(),this.Ke=new st(Te),i}Ue(e,t){if(!this.je(e))return;let r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;let i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){let t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new jf,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new It(Te),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new It(Te),this.qe=this.qe.insert(e,t)),t}je(e){let t=this.Ye(e)!==null;return t||K("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new jf),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Cf(){return new st(ce.comparator)}function SP(){return new st(ce.comparator)}var w3={asc:"ASCENDING",desc:"DESCENDING"},I3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b3={and:"AND",or:"OR"},Mw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Rw(n,e){return n.useProto3Json||up(e)?e:{value:e}}function Uf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function C3(n,e){return Uf(n,e.toTimestamp())}function _r(n){return Ne(!!n),fe.fromTimestamp(function(t){let r=Yr(t);return new At(r.seconds,r.nanos)}(n))}function VI(n,e){return Pw(n,e).canonicalString()}function Pw(n,e){let t=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function fx(n){let e=ot.fromString(n);return Ne(vx(e)),e}function xw(n,e){return VI(n.databaseId,e.path)}function KE(n,e){let t=fx(e);if(t.get(1)!==n.databaseId.projectId)throw new te(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new te(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ce(gx(t))}function px(n,e){return VI(n.databaseId,e)}function D3(n){let e=fx(n);return e.length===4?ot.emptyPath():gx(e)}function Nw(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gx(n){return Ne(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function AP(n,e,t){return{name:xw(n,e),fields:t.value.mapValue.fields}}function T3(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,d){return l.useProto3Json?(Ne(d===void 0||typeof d=="string"),jt.fromBase64String(d||"")):(Ne(d===void 0||d instanceof Buffer||d instanceof Uint8Array),jt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let d=l.code===void 0?L.UNKNOWN:dx(l.code);return new te(d,l.message||"")}(s);t=new zf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=KE(n,r.document.name),o=_r(r.document.updateTime),s=r.document.createTime?_r(r.document.createTime):fe.min(),a=new Ln({mapValue:{fields:r.document.fields}}),c=er.newFoundDocument(i,o,s,a),l=r.targetIds||[],d=r.removedTargetIds||[];t=new fa(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=KE(n,r.document),o=r.readTime?_r(r.readTime):fe.min(),s=er.newNoDocument(i,o),a=r.removedTargetIds||[];t=new fa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=KE(n,r.document),o=r.removedTargetIds||[];t=new fa([],o,i,null)}else{if(!("filter"in e))return le();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Tw(i,o),a=r.targetId;t=new Vf(a,s)}}return t}function S3(n,e){let t;if(e instanceof Sa)t={update:AP(n,e.key,e.value)};else if(e instanceof Ff)t={delete:xw(n,e.key)};else if(e instanceof ei)t={update:AP(n,e.key,e.data),updateMask:F3(e.fieldMask)};else{if(!(e instanceof Iw))return le();t={verify:xw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ca)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ko)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Da)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw le()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:C3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le()}(n,e.precondition)),t}function A3(n,e){return n&&n.length>0?(Ne(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?_r(i.updateTime):_r(o);return s.isEqual(fe.min())&&(s=_r(o)),new ww(s,i.transformResults||[])}(t,e))):[]}function M3(n,e){return{documents:[px(n,e.path)]}}function R3(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=px(n,i);let o=function(l){if(l.length!==0)return yx(wr.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(d=>function(g){return{field:la(g.field),direction:N3(g.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Rw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ct:t,parent:i}}function P3(n){let e=D3(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ne(r===1);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let g=mx(f);return g instanceof wr&&QP(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(g=>function(v){return new wa(da(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,up(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(f){let g=!!f.before,m=f.values||[];return new Ea(m,g)}(t.startAt));let l=null;return t.endAt&&(l=function(f){let g=!f.before,m=f.values||[];return new Ea(m,g)}(t.endAt)),n3(e,i,s,o,a,"F",c,l)}function x3(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=da(t.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=da(t.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=da(t.unaryFilter.field);return gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=da(t.unaryFilter.field);return gt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(n):n.fieldFilter!==void 0?function(t){return gt.create(da(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return wr.create(t.compositeFilter.filters.map(r=>mx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(t.compositeFilter.op))}(n):le()}function N3(n){return w3[n]}function O3(n){return I3[n]}function k3(n){return b3[n]}function la(n){return{fieldPath:n.canonicalString()}}function da(n){return En.fromServerFormat(n.fieldPath)}function yx(n){return n instanceof gt?function(t){if(t.op==="=="){if(gP(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NAN"}};if(pP(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gP(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NOT_NAN"}};if(pP(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(t.field),op:O3(t.op),value:t.value}}}(n):n instanceof wr?function(t){let r=t.getFilters().map(i=>yx(i));return r.length===1?r[0]:{compositeFilter:{op:k3(t.op),filters:r}}}(n):le()}function F3(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Qu=class n{constructor(e,t,r,i,o=fe.min(),s=fe.min(),a=jt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ow=class{constructor(e){this.ht=e}};function L3(n){let e=P3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ew(e,e.limit,"L"):e}var Bf=class{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(Ze(e.integerValue));else if("doubleValue"in e){let r=Ze(e.doubleValue);isNaN(r)?this.Rt(t,13):(this.Rt(t,15),qu(r)?t.Vt(0):t.Vt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Rt(t,20),typeof r=="string"&&(r=Yr(r)),t.ft(`${r.seconds||""}`),t.Vt(r.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(Zr(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Rt(t,45),t.Vt(r.latitude||0),t.Vt(r.longitude||0)}else"mapValue"in e?GP(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):qP(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):le()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){let r=e.fields||{};this.Rt(t,55);for(let i of Object.keys(r))this.gt(i,t),this.dt(r[i],t)}bt(e,t){var r,i;let o=e.fields||{};this.Rt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Rt(t,15),t.Vt(Ze(a)),this.gt(s,t),this.dt(o[s],t)}vt(e,t){let r=e.values||[];this.Rt(t,50);for(let i of r)this.dt(i,t)}St(e,t){this.Rt(t,37),ce.fromName(e).path.forEach(r=>{this.Rt(t,60),this.Ct(r,t)})}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}};Bf.Ft=new Bf;var kw=class{constructor(){this.ln=new Fw}addToCollectionParentIndex(e,t){return this.ln.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(Go.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(Go.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},Fw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new It(ot.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(ot.comparator)).toArray()}};var jie=new Uint8Array(0);var MP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(41943040,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);var Yu=class n{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new n(0)}static Qn(){return new n(-1)}};function RP([n,e],[t,r]){let i=Te(n,t);return i===0?Te(e,r):i}var Lw=class{constructor(e){this.Gn=e,this.buffer=new It(RP),this.zn=0}jn(){return++this.zn}Hn(e){let t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();RP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Vw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){K("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>T(this,null,function*(){this.Jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Oa(t)?K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield Na(t)}yield this.Yn(3e5)}))}},zw=class{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return k.resolve(PI.oe);let r=new Lw(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(MP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MP):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,o,s,a,c,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),ca()<=Ie.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function V3(n,e){return new zw(n,e)}var jw=class{constructor(){this.changes=new Jr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Uw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Bw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Hu(r.mutation,i,mr.empty(),At.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ce()){let i=Uo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=ju();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Uo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Xr(),s=$u(),a=function(){return $u()}();return t.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof ei)?o=o.insert(l.key,l):d!==void 0?(s.set(l.key,d.mutation.getFieldMask()),Hu(d.mutation,l,d.mutation.getFieldMask(),At.now())):s.set(l.key,mr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),t.forEach((l,d)=>{var f;return a.set(l,new Uw(d,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=$u(),i=new st((s,a)=>s-a),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let d=r.get(c)||mr.empty();d=a.applyToLocalView(l,d),r.set(c,d);let f=(i.get(a.batchId)||Ce()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,f=rx();d.forEach(g=>{if(!o.has(g)){let m=ux(t.get(g),r.get(g));m!==null&&f.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):r3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve(Uo()),a=-1,c=o;return s.next(l=>k.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?k.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Ce())).next(d=>({batchId:a,changes:nx(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(r=>{let i=ju();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=ju();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,c=>{let l=function(f,g){return new Ia(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let d=l.getKey();s.get(d)===null&&(s=s.insert(d,er.newInvalidDocument(d)))});let a=ju();return s.forEach((c,l)=>{let d=o.get(c);d!==void 0&&Hu(d.mutation,l,mr.empty(),At.now()),hp(t,l)&&(a=a.insert(c,l))}),a})}};var $w=class{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return k.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:_r(i.createTime)}}(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:L3(i.bundledQuery),readTime:_r(i.readTime)}}(t)),k.resolve()}};var Hw=class{constructor(){this.overlays=new st(ce.comparator),this.Er=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Uo();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Tt(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=Uo(),o=t.length+1,s=new ce(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new st((l,d)=>l-d),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let d=o.get(l.largestBatchId);d===null&&(d=Uo(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=Uo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return k.resolve(a)}Tt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Dw(t,r));let o=this.Er.get(t);o===void 0&&(o=Ce(),this.Er.set(t,o)),this.Er.set(t,o.add(r.key))}};var qw=class{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var Zu=class{constructor(){this.dr=new It(lt.Ar),this.Rr=new It(lt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){let r=new lt(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new lt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){let t=new ce(new ot([])),r=new lt(t,e),i=new lt(t,e+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){let t=new ce(new ot([])),r=new lt(t,e),i=new lt(t,e+1),o=Ce();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new lt(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},lt=class{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ce.comparator(e.key,t.key)||Te(e.br,t.br)}static Vr(e,t){return Te(e.br,t.br)||ce.comparator(e.key,t.key)}};var Gw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new It(lt.Ar)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new bw(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.vr=this.vr.add(new lt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Fr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new lt(t,0),i=new lt(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{let a=this.Cr(s.br);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(Te);return t.forEach(i=>{let o=new lt(i,0),s=new lt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],a=>{r=r.add(a.br)})}),k.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ce.isDocumentKey(o)||(o=o.child(""));let s=new lt(new ce(o),0),a=new It(Te);return this.vr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.br)),!0)},s),k.resolve(this.Mr(a))}Mr(e){let t=[];return e.forEach(r=>{let i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ne(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return k.forEach(t.mutations,i=>{let o=new lt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){let r=new lt(t,0),i=this.vr.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){let t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Ww=class{constructor(e){this.Nr=e,this.docs=function(){return new st(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():er.newInvalidDocument(t))}getEntries(e,t){let r=Xr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():er.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Xr(),s=t.path,a=new ce(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||$4(B4(d),r)<=0||(i.has(d.key)||hp(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){le()}Lr(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Kw(this)}getSize(e){return k.resolve(this.size)}},Kw=class extends jw{constructor(e){super(),this.hr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}};var Qw=class{constructor(e){this.persistence=e,this.Br=new Jr(t=>OI(t),kI),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Zu,this.targetCount=0,this.Qr=Yu.qn()}forEachTarget(e,t){return this.Br.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),k.resolve()}Un(e){this.Br.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Qr=new Yu(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.Un(t),k.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Br.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Br.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.Br.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.qr.Sr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.qr.containsKey(t))}};var $f=class{constructor(e,t){this.Kr={},this.overlays={},this.$r=new PI(0),this.Ur=!1,this.Ur=!0,this.Wr=new qw,this.referenceDelegate=e(this),this.Gr=new Qw(this),this.indexManager=new kw,this.remoteDocumentCache=function(i){return new Ww(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Ow(t),this.jr=new $w(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new Gw(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){K("MemoryPersistence","Starting transaction:",e);let i=new Yw(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return k.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}},Yw=class extends sw{constructor(e){super(),this.currentSequenceNumber=e}},Zw=class n{constructor(e){this.persistence=e,this.Zr=new Zu,this.Xr=null}static ei(e){return new n(e)}get ti(){if(this.Xr)return this.Xr;throw le()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),k.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.ti,r=>{let i=ce.fromPath(r);return this.ni(e,i).next(o=>{o||t.removeEntry(i,fe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return k.or([()=>k.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}},Hf=class n{constructor(e,t){this.persistence=e,this.ri=new Jr(r=>W4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=V3(this,t)}static ei(e,t){return new n(e,t)}Hr(){}Jr(e){return k.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){let t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return k.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?k.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,s=>this.ir(e,s,t).next(a=>{a||(r++,o.removeEntry(s,fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),k.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),k.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tf(e.data.value)),t}ir(e,t,r){return k.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.ri.get(t);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Jw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=Ce(),i=Ce();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Xw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var eI=class{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return sM()?8:q4(mn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Xi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Xw;return this.ts(e,t,s).next(a=>{if(o.result=a,this.Hi)return this.ns(e,t,s,a.size)})}).next(()=>o.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(ca()<=Ie.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",ua(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),k.resolve()):(ca()<=Ie.DEBUG&&K("QueryEngine","Query:",ua(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(ca()<=Ie.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",ua(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):k.resolve())}Xi(e,t){if(_P(t))return k.resolve(null);let r=vr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Ew(t,null,"F"),r=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ce(...o);return this.Zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.rs(t,a);return this.ss(t,l,s,c.readTime)?this.Xi(e,Ew(t,null,"F")):this.os(e,l,t,c)}))})))}es(e,t,r,i){return _P(t)||i.isEqual(fe.min())?k.resolve(null):this.Zi.getDocuments(e,r).next(o=>{let s=this.rs(t,o);return this.ss(t,s,r,i)?k.resolve(null):(ca()<=Ie.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ua(t)),this.os(e,s,t,U4(i,-1)).next(a=>a))})}rs(e,t){let r=new It(ex(e));return t.forEach((i,o)=>{hp(e,o)&&(r=r.add(o))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,r){return ca()<=Ie.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ua(t)),this.Zi.getDocumentsMatchingQuery(e,t,Go.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var tI=class{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new st(Te),this.cs=new Jr(o=>OI(o),kI),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bw(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}};function z3(n,e,t,r){return new tI(n,e,t,r)}function _x(n,e){return T(this,null,function*(){let t=he(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Ce();for(let l of i){s.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of o){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(l=>({Ts:l,removedBatchIds:s,addedBatchIds:a}))})})})}function j3(n,e){let t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){let f=l.batch,g=f.keys(),m=k.resolve();return g.forEach(v=>{m=m.next(()=>d.getEntry(c,v)).next(I=>{let S=l.docVersions.get(v);Ne(S!==null),I.version.compareTo(S)<0&&(f.applyToRemoteDocument(I,l),I.isValidDocument()&&(I.setReadTime(l.commitVersion),d.addEntry(I)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ce();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Ex(n){let e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function U3(n,e){let t=he(n),r=e.snapshotVersion,i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(t.Gr.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.Gr.addMatchingKeys(o,d.addedDocuments,f)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(jt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(I,S,x){return I.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,m,d)&&a.push(t.Gr.updateTargetData(o,m))});let c=Xr(),l=Ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(B3(o,s,e.documentUpdates).next(d=>{c=d.Is,l=d.Es})),!r.isEqual(fe.min())){let d=t.Gr.getLastRemoteSnapshotVersion(o).next(f=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.us=i,o))}function B3(n,e,t){let r=Ce(),i=Ce();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Xr();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Is:s,Es:i}})}function $3(n,e){let t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function H3(n,e){let t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.Gr.allocateTargetId(r).next(s=>(i=new Qu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}function nI(n,e,t){return T(this,null,function*(){let r=he(n),i=r.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Oa(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.us=r.us.remove(e),r.cs.delete(i.target)})}function PP(n,e,t){let r=he(n),i=fe.min(),o=Ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,d){let f=he(c),g=f.cs.get(d);return g!==void 0?k.resolve(f.us.get(g)):f.Gr.getTargetData(l,d)}(r,s,vr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r._s.getDocumentsMatchingQuery(s,e,t?i:fe.min(),t?o:Ce())).next(a=>(q3(r,o3(e),a),{documents:a,ds:o})))}function q3(n,e,t){let r=n.ls.get(e)||fe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ls.set(e,r)}var qf=class{constructor(){this.activeTargetIds=d3()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var rI=class{constructor(){this._o=new qf,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new qf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var iI=class{uo(e){}shutdown(){}};var Gf=class{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.To)e(0)}Po(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Df=null;function QE(){return Df===null?Df=function(){return 268435456+Math.round(2147483648*Math.random())}():Df++,"0x"+Df.toString(16)}var G3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var oI=class{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}};var zt="WebChannelConnection",sI=class extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,r,i,o,s){let a=QE(),c=this.No(t,r.toUriEncodedString());K("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(l,o,s),this.Bo(t,c,l,i).then(d=>(K("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw ma("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}ko(t,r,i,o,s,a){return this.Oo(t,r,i,o,s)}Lo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}No(t,r){let i=G3[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,i){let o=QE();return new Promise((s,a)=>{let c=new $E;c.setWithCredentials(!0),c.listenOnce(HE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case zu.NO_ERROR:let d=c.getResponseJson();K(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case zu.TIMEOUT:K(zt,`RPC '${e}' ${o} timed out`),a(new te(L.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:let f=c.getStatus();if(K(zt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let m=g?.error;if(m&&m.status&&m.message){let v=function(S){let x=S.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(x)>=0?x:L.UNKNOWN}(m.status);a(new te(v,m.message))}else a(new te(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new te(L.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{K(zt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);K(zt,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",l,r,15)})}qo(e,t,r){let i=QE(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=WE(),a=GE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Lo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");K(zt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c),g=!1,m=!1,v=new oI({Eo:S=>{m?K(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(K(zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),K(zt,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},Ao:()=>f.close()}),I=(S,x,O)=>{S.listen(x,B=>{try{O(B)}catch(z){setTimeout(()=>{throw z},0)}})};return I(f,aa.EventType.OPEN,()=>{m||(K(zt,`RPC '${e}' stream ${i} transport opened.`),v.So())}),I(f,aa.EventType.CLOSE,()=>{m||(m=!0,K(zt,`RPC '${e}' stream ${i} transport closed`),v.Do())}),I(f,aa.EventType.ERROR,S=>{m||(m=!0,ma(zt,`RPC '${e}' stream ${i} transport errored:`,S),v.Do(new te(L.UNAVAILABLE,"The operation could not be completed")))}),I(f,aa.EventType.MESSAGE,S=>{var x;if(!m){let O=S.data[0];Ne(!!O);let B=O,z=B?.error||((x=B[0])===null||x===void 0?void 0:x.error);if(z){K(zt,`RPC '${e}' stream ${i} received error:`,z);let ne=z.status,q=function(E){let C=ut[E];if(C!==void 0)return dx(C)}(ne),b=z.message;q===void 0&&(q=L.INTERNAL,b="Unknown error status: "+ne+" with message "+z.message),m=!0,v.Do(new te(q,b)),f.close()}else K(zt,`RPC '${e}' stream ${i} received:`,O),v.vo(O)}}),I(a,qE.STAT_EVENT,S=>{S.stat===If.PROXY?K(zt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===If.NOPROXY&&K(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.bo()},0),v}};function YE(){return typeof document<"u"?document:null}function fp(n){return new Mw(n,!0)}var Wf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();let t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}};var Kf=class{constructor(e,t,r,i,o,s,a,c){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Wf(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}stop(){return T(this,null,function*(){this.i_()&&(yield this.close(0))})}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}u_(){return T(this,null,function*(){if(this.s_())return this.close(0)})}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}close(e,t){return T(this,null,function*(){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.po(t)})}P_(){}auth(){this.state=1;let e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{let i=new te(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,t){let r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(()=>T(this,null,function*(){this.state=0,this.start()}))}E_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},aI=class extends Kf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();let t=T3(this.serializer,e),r=function(o){if(!("targetChange"in o))return fe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?_r(s.readTime):fe.min()}(e);return this.listener.R_(t,r)}V_(e){let t={};t.database=Nw(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=_w(c)?{documents:M3(o,c)}:{query:R3(o,c).ct},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=hx(o,s.resumeToken);let l=Rw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=Uf(o,s.snapshotVersion.toTimestamp());let l=Rw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=x3(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){let t={};t.database=Nw(this.serializer),t.removeTarget=e,this.c_(t)}},cI=class extends Kf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();let t=A3(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.y_(r,t)}w_(){let e={};e.database=Nw(this.serializer),this.c_(e)}g_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>S3(this.serializer,r))};this.c_(t)}};var uI=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new te(L.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(e,Pw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(L.UNKNOWN,o.toString())})}ko(e,t,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.ko(e,Pw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(L.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}},lI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Qr(t),this.C_=!1):K("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}};var dI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(()=>T(this,null,function*(){Qo(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(c){return T(this,null,function*(){let l=he(c);l.k_.add(4),yield nl(l),l.K_.set("Unknown"),l.k_.delete(4),yield pp(l)})}(this))}))}),this.K_=new lI(r,i)}};function pp(n){return T(this,null,function*(){if(Qo(n))for(let e of n.q_)yield e(!0)})}function nl(n){return T(this,null,function*(){for(let e of n.q_)yield e(!1)})}function wx(n,e){let t=he(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),BI(t)?UI(t):ka(t).s_()&&jI(t,e))}function zI(n,e){let t=he(n),r=ka(t);t.B_.delete(e),r.s_()&&Ix(t,e),t.B_.size===0&&(r.s_()?r.a_():Qo(t)&&t.K_.set("Unknown"))}function jI(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ka(n).V_(e)}function Ix(n,e){n.U_.xe(e),ka(n).m_(e)}function UI(n){n.U_=new Aw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ka(n).start(),n.K_.F_()}function BI(n){return Qo(n)&&!ka(n).i_()&&n.B_.size>0}function Qo(n){return he(n).k_.size===0}function bx(n){n.U_=void 0}function W3(n){return T(this,null,function*(){n.K_.set("Online")})}function K3(n){return T(this,null,function*(){n.B_.forEach((e,t)=>{jI(n,e)})})}function Q3(n,e){return T(this,null,function*(){bx(n),BI(n)?(n.K_.O_(e),UI(n)):n.K_.set("Unknown")})}function Y3(n,e,t){return T(this,null,function*(){if(n.K_.set("Online"),e instanceof zf&&e.state===2&&e.cause)try{yield function(i,o){return T(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.B_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.B_.delete(a),i.U_.removeTarget(a))})}(n,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Qf(n,r)}else if(e instanceof fa?n.U_.$e(e):e instanceof Vf?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(fe.min()))try{let r=yield Ex(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.U_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.B_.get(l);d&&o.B_.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let d=o.B_.get(c);if(!d)return;o.B_.set(c,d.withResumeToken(jt.EMPTY_BYTE_STRING,d.snapshotVersion)),Ix(o,c);let f=new Qu(d.target,c,l,d.sequenceNumber);jI(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield Qf(n,r)}})}function Qf(n,e,t){return T(this,null,function*(){if(!Oa(e))throw e;n.k_.add(1),yield nl(n),n.K_.set("Offline"),t||(t=()=>Ex(n.localStore)),n.asyncQueue.enqueueRetryable(()=>T(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield t(),n.k_.delete(1),yield pp(n)}))})}function Cx(n,e){return e().catch(t=>Qf(n,t,e))}function gp(n){return T(this,null,function*(){let e=he(n),t=$i(e),r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Z3(e);)try{let i=yield $3(e.localStore,r);if(i===null){e.L_.length===0&&t.a_();break}r=i.batchId,J3(e,i)}catch(i){yield Qf(e,i)}Dx(e)&&Tx(e)})}function Z3(n){return Qo(n)&&n.L_.length<10}function J3(n,e){n.L_.push(e);let t=$i(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Dx(n){return Qo(n)&&!$i(n).i_()&&n.L_.length>0}function Tx(n){$i(n).start()}function X3(n){return T(this,null,function*(){$i(n).w_()})}function eG(n){return T(this,null,function*(){let e=$i(n);for(let t of n.L_)e.g_(t.mutations)})}function tG(n,e,t){return T(this,null,function*(){let r=n.L_.shift(),i=Cw.from(r,e,t);yield Cx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield gp(n)})}function nG(n,e){return T(this,null,function*(){e&&$i(n).f_&&(yield function(r,i){return T(this,null,function*(){if(function(s){return v3(s)&&s!==L.ABORTED}(i.code)){let o=r.L_.shift();$i(r).__(),yield Cx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield gp(r)}})}(n,e)),Dx(n)&&Tx(n)})}function xP(n,e){return T(this,null,function*(){let t=he(n);t.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let r=Qo(t);t.k_.add(3),yield nl(t),r&&t.K_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),yield pp(t)})}function rG(n,e){return T(this,null,function*(){let t=he(n);e?(t.k_.delete(2),yield pp(t)):e||(t.k_.add(2),yield nl(t),t.K_.set("Unknown"))})}function ka(n){return n.W_||(n.W_=function(t,r,i){let o=he(t);return o.b_(),new aI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:W3.bind(null,n),mo:K3.bind(null,n),po:Q3.bind(null,n),R_:Y3.bind(null,n)}),n.q_.push(e=>T(this,null,function*(){e?(n.W_.__(),BI(n)?UI(n):n.K_.set("Unknown")):(yield n.W_.stop(),bx(n))}))),n.W_}function $i(n){return n.G_||(n.G_=function(t,r,i){let o=he(t);return o.b_(),new cI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:X3.bind(null,n),po:nG.bind(null,n),p_:eG.bind(null,n),y_:tG.bind(null,n)}),n.q_.push(e=>T(this,null,function*(){e?(n.G_.__(),yield gp(n)):(yield n.G_.stop(),n.L_.length>0&&(K("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))}))),n.G_}var hI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $I(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),Oa(n))return new te(L.UNAVAILABLE,`${e}: ${n}`);throw n}var Yf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ce.comparator(t.key,r.key):(t,r)=>ce.comparator(t.key,r.key),this.keyedMap=ju(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Zf=class{constructor(){this.z_=new st(ce.comparator)}track(e){let t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):le():this.z_=this.z_.insert(t,e)}j_(){let e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}},Aa=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Yf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var fI=class{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}},pI=class{constructor(){this.queries=NP(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){let i=he(t),o=i.queries;i.queries=NP(),o.forEach((s,a)=>{for(let c of a.J_)c.onError(r)})})(this,new te(L.ABORTED,"Firestore shutting down"))}};function NP(){return new Jr(n=>XP(n),dp)}function iG(n,e){return T(this,null,function*(){let t=he(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new fI,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=yield t.onListen(i,!0);break;case 1:o.H_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=$I(s,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&HI(t)})}function oG(n,e){return T(this,null,function*(){let t=he(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.J_.indexOf(e);s>=0&&(o.J_.splice(s,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function sG(n,e){let t=he(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.J_)a.ta(i)&&(r=!0);s.H_=i}}r&&HI(t)}function aG(n,e,t){let r=he(n),i=r.queries.get(e);if(i)for(let o of i.J_)o.onError(t);r.queries.delete(e)}function HI(n){n.X_.forEach(e=>{e.next()})}var gI,OP;(OP=gI||(gI={})).na="default",OP.Cache="cache";var mI=class{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;let r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;let t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==gI.Cache}};var Jf=class{constructor(e){this.key=e}},Xf=class{constructor(e){this.key=e}},yI=class{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ce(),this.mutatedKeys=Ce(),this.Va=ex(e),this.ma=new Yf(this.Va)}get fa(){return this.da}ga(e,t){let r=t?t.pa:new Zf,i=t?t.ma:this.ma,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),m=hp(this.query,f)?f:null,v=!!g&&this.mutatedKeys.has(g.key),I=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),S=!1;g&&m?g.data.isEqual(m.data)?v!==I&&(r.track({type:3,doc:m}),S=!0):this.ya(g,m)||(r.track({type:2,doc:m}),S=!0,(c&&this.Va(m,c)>0||l&&this.Va(m,l)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),S=!0):g&&!m&&(r.track({type:1,doc:g}),S=!0,(c||l)&&(a=!0)),S&&(m?(s=s.add(m),o=I?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ma:s,pa:r,ss:a,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;let s=e.pa.j_();s.sort((d,f)=>function(m,v){let I=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return I(m)-I(v)}(d.type,f.type)||this.Va(d.doc,f.doc)),this.wa(r),i=i!=null&&i;let a=t&&!i?this.Sa():[],c=this.Ra.size===0&&this.current&&!i?1:0,l=c!==this.Aa;return this.Aa=c,s.length!==0||l?{snapshot:new Aa(this.query,e.ma,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Zf,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];let e=this.Ra;this.Ra=Ce(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});let t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new Xf(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new Jf(r))}),t}va(e){this.da=e.ds,this.Ra=Ce();let t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Aa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}},vI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},_I=class{constructor(e){this.key=e,this.Fa=!1}},EI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new Jr(a=>XP(a),dp),this.Oa=new Map,this.Na=new Set,this.La=new st(ce.comparator),this.Ba=new Map,this.ka=new Zu,this.qa={},this.Qa=new Map,this.Ka=Yu.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}};function cG(n,e,t=!0){return T(this,null,function*(){let r=xx(n),i,o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=yield Sx(r,e,t,!0),i})}function uG(n,e){return T(this,null,function*(){let t=xx(n);yield Sx(t,e,!0,!1)})}function Sx(n,e,t,r){return T(this,null,function*(){let i=yield H3(n.localStore,vr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield lG(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&wx(n.remoteStore,i),a})}function lG(n,e,t,r,i){return T(this,null,function*(){n.Ua=(f,g,m)=>function(I,S,x,O){return T(this,null,function*(){let B=S.view.ga(x);B.ss&&(B=yield PP(I.localStore,S.query,!1).then(({documents:b})=>S.view.ga(b,B)));let z=O&&O.targetChanges.get(S.targetId),ne=O&&O.targetMismatches.get(S.targetId)!=null,q=S.view.applyChanges(B,I.isPrimaryClient,z,ne);return FP(I,S.targetId,q.ba),q.snapshot})}(n,f,g,m);let o=yield PP(n.localStore,e,!0),s=new yI(e,o.ds),a=s.ga(o.documents),c=Ku.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);FP(n,t,l.ba);let d=new vI(e,t,s);return n.xa.set(e,d),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),l.snapshot})}function dG(n,e,t){return T(this,null,function*(){let r=he(n),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(s=>!dp(s,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&zI(r.remoteStore,i.targetId),wI(r,i.targetId)}).catch(Na))):(wI(r,i.targetId),yield nI(r.localStore,i.targetId,!0))})}function hG(n,e){return T(this,null,function*(){let t=he(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),zI(t.remoteStore,r.targetId))})}function fG(n,e,t){return T(this,null,function*(){let r=EG(n);try{let i=yield function(s,a){let c=he(s),l=At.now(),d=a.reduce((m,v)=>m.add(v.key),Ce()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Xr(),I=Ce();return c.hs.getEntries(m,d).next(S=>{v=S,v.forEach((x,O)=>{O.isValidDocument()||(I=I.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(S=>{f=S;let x=[];for(let O of a){let B=y3(O,f.get(O.key).overlayedDocument);B!=null&&x.push(new ei(O.key,B,WP(B.value.mapValue),Ho.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,x,a)}).next(S=>{g=S;let x=S.applyToLocalDocumentSet(f,I);return c.documentOverlayCache.saveOverlays(m,S.batchId,x)})}).then(()=>({batchId:g.batchId,changes:nx(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.qa[s.currentUser.toKey()];l||(l=new st(Te)),l=l.insert(a,c),s.qa[s.currentUser.toKey()]=l}(r,i.batchId,t),yield rl(r,i.changes),yield gp(r.remoteStore)}catch(i){let o=$I(i,"Failed to persist write");t.reject(o)}})}function Ax(n,e){return T(this,null,function*(){let t=he(n);try{let r=yield U3(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Ba.get(o);s&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Fa=!0:i.modifiedDocuments.size>0?Ne(s.Fa):i.removedDocuments.size>0&&(Ne(s.Fa),s.Fa=!1))}),yield rl(t,r,e)}catch(r){yield Na(r)}})}function kP(n,e,t){let r=he(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.xa.forEach((o,s)=>{let a=s.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=he(s);c.onlineState=a;let l=!1;c.queries.forEach((d,f)=>{for(let g of f.J_)g.ea(a)&&(l=!0)}),l&&HI(c)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pG(n,e,t){return T(this,null,function*(){let r=he(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ba.get(e),o=i&&i.key;if(o){let s=new st(ce.comparator);s=s.insert(o,er.newNoDocument(o,fe.min()));let a=Ce().add(o),c=new Lf(fe.min(),new Map,new st(Te),s,a);yield Ax(r,c),r.La=r.La.remove(o),r.Ba.delete(e),qI(r)}else yield nI(r.localStore,e,!1).then(()=>wI(r,e,t)).catch(Na)})}function gG(n,e){return T(this,null,function*(){let t=he(n),r=e.batch.batchId;try{let i=yield j3(t.localStore,e);Rx(t,r,null),Mx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield rl(t,i)}catch(i){yield Na(i)}})}function mG(n,e,t){return T(this,null,function*(){let r=he(n);try{let i=yield function(s,a){let c=he(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(Ne(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(r.localStore,e);Rx(r,e,t),Mx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield rl(r,i)}catch(i){yield Na(i)}})}function Mx(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function Rx(n,e,t){let r=he(n),i=r.qa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function wI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||Px(n,r)})}function Px(n,e){n.Na.delete(e.path.canonicalString());let t=n.La.get(e);t!==null&&(zI(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),qI(n))}function FP(n,e,t){for(let r of t)r instanceof Jf?(n.ka.addReference(r.key,e),yG(n,r)):r instanceof Xf?(K("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||Px(n,r.key)):le()}function yG(n,e){let t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(K("SyncEngine","New document in limbo: "+t),n.Na.add(r),qI(n))}function qI(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){let e=n.Na.values().next().value;n.Na.delete(e);let t=new ce(ot.fromString(e)),r=n.Ka.next();n.Ba.set(r,new _I(t)),n.La=n.La.insert(t,r),wx(n.remoteStore,new Qu(vr(FI(t.path)),r,"TargetPurposeLimboResolution",PI.oe))}}function rl(n,e,t){return T(this,null,function*(){let r=he(n),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((a,c)=>{s.push(r.Ua(c,e,t).then(l=>{var d;if((l||t)&&r.isPrimaryClient){let f=l?!l.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(l){i.push(l);let f=Jw.zi(c.targetId,l);o.push(f)}}))}),yield Promise.all(s),r.Ma.R_(i),yield function(c,l){return T(this,null,function*(){let d=he(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>k.forEach(l,g=>k.forEach(g.Wi,m=>d.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>k.forEach(g.Gi,m=>d.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!Oa(f))throw f;K("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let g=f.targetId;if(!f.fromCache){let m=d.us.get(g),v=m.snapshotVersion,I=m.withLastLimboFreeSnapshotVersion(v);d.us=d.us.insert(g,I)}}})}(r.localStore,o))})}function vG(n,e){return T(this,null,function*(){let t=he(n);if(!t.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let r=yield _x(t.localStore,e);t.currentUser=e,function(o,s){o.Qa.forEach(a=>{a.forEach(c=>{c.reject(new te(L.CANCELLED,s))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield rl(t,r.Ts)}})}function _G(n,e){let t=he(n),r=t.Ba.get(e);if(r&&r.Fa)return Ce().add(r.key);{let i=Ce(),o=t.Oa.get(e);if(!o)return i;for(let s of o){let a=t.xa.get(s);i=i.unionWith(a.view.fa)}return i}}function xx(n){let e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ax.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_G.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pG.bind(null,e),e.Ma.R_=sG.bind(null,e.eventManager),e.Ma.Wa=aG.bind(null,e.eventManager),e}function EG(n){let e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mG.bind(null,e),e}var Nx=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return T(this,null,function*(){this.serializer=fp(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),yield this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)})}Ja(t,r){return null}Ya(t,r){return null}Ha(t){return z3(this.persistence,new eI,t.initialUser,this.serializer)}ja(t){return new $f(Zw.ei,this.serializer)}za(t){return new rI}terminate(){return T(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),II=class extends Nx{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ne(this.persistence.referenceDelegate instanceof Hf);let r=this.persistence.referenceDelegate.garbageCollector;return new Vw(r,e.asyncQueue,t)}ja(e){let t=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new $f(r=>Hf.ei(r,t),this.serializer)}};var wG=(()=>{class n{initialize(t,r){return T(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vG.bind(null,this.syncEngine),yield rG(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new pI}()}createDatastore(t){let r=fp(t.databaseInfo.databaseId),i=function(s){return new sI(s)}(t.databaseInfo);return function(s,a,c,l){return new uI(s,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new dI(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>kP(this.syncEngine,r,0),function(){return Gf.p()?new Gf:new iI}())}createSyncEngine(t,r){return function(o,s,a,c,l,d,f){let g=new EI(o,s,a,c,l,d);return f&&(g.$a=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return T(this,null,function*(){var t,r;yield function(o){return T(this,null,function*(){let s=he(o);K("RemoteStore","RemoteStore shutting down."),s.k_.add(5),yield nl(s),s.Q_.shutdown(),s.K_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var bI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var CI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=Rf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>T(this,null,function*(){K("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=$I(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ZE(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>T(this,null,function*(){r.isEqual(i)||(yield _x(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function LP(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield IG(n);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>xP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>xP(e.remoteStore,i)),n._onlineComponents=e})}function IG(n){return T(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ZE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ma("Error using user provided cache. Falling back to memory cache: "+t),yield ZE(n,new Nx)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield ZE(n,new II(void 0));return n._offlineComponents})}function Ox(n){return T(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield LP(n,n._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield LP(n,new wG))),n._onlineComponents})}function bG(n){return Ox(n).then(e=>e.syncEngine)}function VP(n){return T(this,null,function*(){let e=yield Ox(n),t=e.eventManager;return t.onListen=cG.bind(null,e.syncEngine),t.onUnlisten=dG.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uG.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=hG.bind(null,e.syncEngine),t})}function kx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var zP=new Map;function Fx(n,e,t){if(!t)throw new te(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CG(n,e,t,r){if(e===!0&&r===!0)throw new te(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jP(n){if(!ce.isDocumentKey(n))throw new te(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UP(n){if(ce.isDocumentKey(n))throw new te(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":le()}function pa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new te(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=GI(n);throw new te(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var ep=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new te(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new te(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new te(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ma=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ep({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ep(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new JE;switch(r.type){case"firstParty":return new nw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=zP.get(t);r&&(K("ComponentProvider","Removing Datastore"),zP.delete(t),r.terminate())}(this),Promise.resolve()}};function Lx(n,e,t,r={}){var i;let o=(n=pa(n,Ma))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=wt.MOCK_USER;else{a=nM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new te(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new wt(l)}n._authCredentials=new XE(new Mf(a,c))}}var tp=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},wn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ui=class n extends tp{constructor(e,t,r){super(e,t,FI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ce(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Vx(n,e,...t){if(n=_t(n),Fx("collection","path",e),n instanceof Ma){let r=ot.fromString(e,...t);return UP(r),new Ui(n,null,r)}{if(!(n instanceof wn||n instanceof Ui))throw new te(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ot.fromString(e,...t));return UP(r),new Ui(n.firestore,null,r)}}function WI(n,e,...t){if(n=_t(n),arguments.length===1&&(e=Rf.newId()),Fx("doc","path",e),n instanceof Ma){let r=ot.fromString(e,...t);return jP(r),new wn(n,null,new ce(r))}{if(!(n instanceof wn||n instanceof Ui))throw new te(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ot.fromString(e,...t));return jP(r),new wn(n.firestore,n instanceof Ui?n.converter:null,new ce(r))}}var np=class{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Wf(this,"async_queue_retry"),this.fu=()=>{let r=YE();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;let t=YE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;let t=YE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});let t=new Kr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}wu(){return T(this,null,function*(){if(this.Iu.length!==0){try{yield this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Oa(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}})}yu(e){let t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);let i=hI.createAndSchedule(this,e,t,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&le()}verifyOperationInProgress(){}bu(){return T(this,null,function*(){let e;do e=this.gu,yield e;while(e!==this.gu)})}Du(e){for(let t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){let t=this.du.indexOf(e);this.du.splice(t,1)}};function BP(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Ra=class extends Ma{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new np,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new np(e),this._firestoreClient=void 0,yield e}})}};function zx(n,e){let t=typeof n=="object"?n:ki(),r=typeof n=="string"?n:e||"(default)",i=Br(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=eM("firestore");o&&Lx(i,...o)}return i}function jx(n){if(n._terminated)throw new te(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DG(n),n._firestoreClient}function DG(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,l,d){return new aw(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,kx(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new CI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Ju=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(jt.fromBase64String(e))}catch(t){throw new te(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Pa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new te(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Xu=class{constructor(e){this._methodName=e}};var el=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new te(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new te(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var tl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var TG=/^__.*__$/;var rp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ei(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Ux(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}var DI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return op(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Ux(this.Mu)&&TG.test(e))throw this.qu('Document fields cannot begin and end with "__"')}},TI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||fp(e)}$u(e,t,r,i=!1){return new DI({Mu:e,methodName:t,Ku:r,path:En.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function SG(n){let e=n._freezeSettings(),t=fp(n._databaseId);return new TI(n._databaseId,!!e.ignoreUndefinedProperties,t)}var ip=class n extends Xu{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function AG(n,e,t,r){let i=n.$u(1,e,t);$x("Data must be an object, but it was:",i,r);let o=[],s=Ln.empty();Hi(r,(c,l)=>{let d=KI(e,c,t);l=_t(l);let f=i.Bu(d);if(l instanceof ip)o.push(d);else{let g=mp(l,f);g!=null&&(o.push(d),s.set(d,g))}});let a=new mr(o);return new rp(s,a,i.fieldTransforms)}function MG(n,e,t,r,i,o){let s=n.$u(1,e,t),a=[$P(e,r,t)],c=[i];if(o.length%2!=0)throw new te(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push($P(e,o[g])),c.push(o[g+1]);let l=[],d=Ln.empty();for(let g=a.length-1;g>=0;--g)if(!xG(l,a[g])){let m=a[g],v=c[g];v=_t(v);let I=s.Bu(m);if(v instanceof ip)l.push(m);else{let S=mp(v,I);S!=null&&(l.push(m),d.set(m,S))}}let f=new mr(l);return new rp(d,f,s.fieldTransforms)}function mp(n,e){if(Bx(n=_t(n)))return $x("Unsupported field value:",e,n),RG(n,e);if(n instanceof Xu)return function(r,i){if(!Ux(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=mp(a,i.ku(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=At.fromDate(r);return{timestampValue:Uf(i.serializer,o)}}if(r instanceof At){let o=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uf(i.serializer,o)}}if(r instanceof el)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ju)return{bytesValue:hx(i.serializer,r._byteString)};if(r instanceof wn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:VI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tl)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.qu("VectorValues must only contain numeric values.");return LI(a.serializer,c)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${GI(r)}`)}(n,e)}function RG(n,e){let t={};return HP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(n,(r,i)=>{let o=mp(i,e.Ou(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Bx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof el||n instanceof Ju||n instanceof wn||n instanceof Xu||n instanceof tl)}function $x(n,e,t){if(!Bx(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=GI(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function $P(n,e,t){if((e=_t(e))instanceof Pa)return e._internalPath;if(typeof e=="string")return KI(n,e);throw op("Field path arguments must be of type string or ",n,!1,void 0,t)}var PG=new RegExp("[~\\*/\\[\\]]");function KI(n,e,t){if(e.search(PG)>=0)throw op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pa(...e.split("."))._internalPath}catch{throw op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function op(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new te(L.INVALID_ARGUMENT,a+n+c)}function xG(n,e){return n.some(t=>t.isEqual(e))}var sp=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new SI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Hx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},SI=class extends sp{data(){return super.data()}};function Hx(n,e){return typeof e=="string"?KI(n,e):e instanceof Pa?e._internalPath:e._delegate._internalPath}function NG(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new te(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var AI=class{convertValue(e,t="none"){switch(Bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw le()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Hi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ze(s.doubleValue));return new tl(o)}convertGeoPoint(e){return new el(Ze(e.latitude),Ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=lp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){let t=Yr(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ot.fromString(e);Ne(vx(r));let i=new Of(r.get(1),r.get(3)),o=new ce(r.popFirst(5));return i.isEqual(t)||Qr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var $o=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ap=class extends sp{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ga(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Hx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ga=class extends ap{data(e={}){return super.data(e)}},MI=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ga(this._firestore,this._userDataWriter,r.key,r,new $o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new te(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ga(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ga(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:OG(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function OG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}var cp=class extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ju(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}};function QI(n,e,t,...r){n=pa(n,wn);let i=pa(n.firestore,Ra),o=SG(i),s;return s=typeof(e=_t(e))=="string"||e instanceof Pa?MG(o,"updateDoc",n._key,e,t,r):AG(o,"updateDoc",n._key,e),kG(i,[s.toMutation(n._key,Ho.exists(!0))])}function YI(n,...e){var t,r,i;n=_t(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||BP(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(BP(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,d;if(n instanceof wn)l=pa(n.firestore,Ra),d=FI(n._key.path),c={next:f=>{e[s]&&e[s](FG(l,n,f))},error:e[s+1],complete:e[s+2]};else{let f=pa(n,tp);l=pa(f.firestore,Ra),d=f._query;let g=new cp(l);c={next:m=>{e[s]&&e[s](new MI(l,g,f,m))},error:e[s+1],complete:e[s+2]},NG(n._query)}return function(g,m,v,I){let S=new bI(I),x=new mI(m,S,v);return g.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return iG(yield VP(g),x)})),()=>{S.eu(),g.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return oG(yield VP(g),x)}))}}(jx(l),d,a,c)}function kG(n,e){return function(r,i){let o=new Kr;return r.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return fG(yield bG(r),i,o)})),o.promise}(jx(n),e)}function FG(n,e,t){let r=t.docs.get(e._key),i=new cp(n);return new ap(n,i,e._key,r,new $o(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){xa=i})(Qs),un(new Et("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ra(new ew(r.getProvider("auth-internal")),new iw(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new te(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Of(l.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),$e(uP,"4.7.5",e),$e(uP,"4.7.5","esm2017")})();var yp=function(){return yp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},yp.apply(this,arguments)};var zG={includeMetadataChanges:!1};function qx(n,e){return e===void 0&&(e=zG),new oe(function(t){var r=YI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Gx(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:yp(yp({},r),(t={},t[e.idField]=n.id,t))}function Wx(n){return qx(n,{includeMetadataChanges:!0}).pipe(Y(function(e){return e.docs}))}function Kx(n,e){return e===void 0&&(e={}),Wx(n).pipe(Y(function(t){return t.map(function(r){return Gx(r,e)})}))}var Yo=class{constructor(e){return e}},Qx="firestore",ZI=class{constructor(){return Ro(Qx)}};var JI=new F("angularfire2.firestore-instances");function jG(n,e){let t=hu(Qx,n,e);return t&&new Yo(t)}function UG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Yo(r)}}var BG={provide:ZI,deps:[[new nn,JI]]},$G={provide:Yo,useFactory:jG,deps:[[new nn,JI],Hr]};function Yx(n,...e){return $e("angularfire",Fi.full,"fst"),Ft([$G,BG,{provide:JI,useFactory:UG(n),multi:!0,deps:[De,We,Li,Po,[new nn,Ef],[new nn,du],...e]}])}var Zx=$r(Kx,!0);var Jx=$r(Vx,!0);var Xx=$r(zx,!0);var me=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(me||{}),Ir="*";function eN(n,e){return{type:me.Trigger,name:n,definitions:e,options:{}}}function XI(n,e=null){return{type:me.Animate,styles:e,timings:n}}function tN(n,e=null){return{type:me.Sequence,steps:n,options:e}}function Gi(n){return{type:me.Style,styles:n,offset:null}}function eb(n,e,t=null){return{type:me.Transition,expr:n,animation:e,options:t}}var qi=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},il=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},vp="!";function nN(n){return new V(3e3,!1)}function HG(){return new V(3100,!1)}function qG(){return new V(3101,!1)}function GG(n){return new V(3001,!1)}function WG(n){return new V(3003,!1)}function KG(n){return new V(3004,!1)}function QG(n,e){return new V(3005,!1)}function YG(){return new V(3006,!1)}function ZG(){return new V(3007,!1)}function JG(n,e){return new V(3008,!1)}function XG(n){return new V(3002,!1)}function e5(n,e,t,r,i){return new V(3010,!1)}function t5(){return new V(3011,!1)}function n5(){return new V(3012,!1)}function r5(){return new V(3200,!1)}function i5(){return new V(3202,!1)}function o5(){return new V(3013,!1)}function s5(n){return new V(3014,!1)}function a5(n){return new V(3015,!1)}function c5(n){return new V(3016,!1)}function u5(n,e){return new V(3404,!1)}function l5(n){return new V(3502,!1)}function d5(n){return new V(3503,!1)}function h5(){return new V(3300,!1)}function f5(n){return new V(3504,!1)}function p5(n){return new V(3301,!1)}function g5(n,e){return new V(3302,!1)}function m5(n){return new V(3303,!1)}function y5(n,e){return new V(3400,!1)}function v5(n){return new V(3401,!1)}function _5(n){return new V(3402,!1)}function E5(n,e){return new V(3505,!1)}function Wi(n){switch(n.length){case 0:return new qi;case 1:return n[0];default:return new il(n)}}function mN(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),d=l==s,f=d&&a||new Map;c.forEach((g,m)=>{let v=m,I=g;if(m!=="offset")switch(v=n.normalizePropertyName(v,i),I){case vp:I=t.get(m);break;case Ir:I=r.get(m);break;default:I=n.normalizeStyleValue(m,v,I,i);break}f.set(v,I)}),d||o.push(f),a=f,s=l}),i.length)throw l5(i);return o}function Ib(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&tb(t,"start",n)));break;case"done":n.onDone(()=>r(t&&tb(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&tb(t,"destroy",n)));break}}function tb(n,e,t){let r=t.totalTime,i=!!t.disabled,o=bb(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function bb(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function bn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function rN(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var w5=typeof document>"u"?null:document.documentElement;function Cb(n){let e=n.parentNode||n.host||null;return e===w5?null:e}function I5(n){return n.substring(1,6)=="ebkit"}var Zo=null,iN=!1;function b5(n){Zo||(Zo=C5()||{},iN=Zo.style?"WebkitAppearance"in Zo.style:!1);let e=!0;return Zo.style&&!I5(n)&&(e=n in Zo.style,!e&&iN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Zo.style)),e}function C5(){return typeof document<"u"?document.body:null}function yN(n,e){for(;e;){if(e===n)return!0;e=Cb(e)}return!1}function vN(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var Db=(()=>{class n{validateStyleProperty(t){return b5(t)}containsElement(t,r){return yN(t,r)}getParentElement(t){return Cb(t)}query(t,r,i){return vN(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new qi(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),es=class{static NOOP=new Db},ts=class{};var D5=1e3,_N="{{",T5="}}",EN="ng-enter",ab="ng-leave",_p="ng-trigger",Cp=".ng-trigger",oN="ng-animating",cb=".ng-animating";function ti(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ub(parseFloat(e[1]),e[2])}function ub(n,e){switch(e){case"s":return n*D5;default:return n}}function Dp(n,e,t){return n.hasOwnProperty("duration")?n:S5(n,e,t)}function S5(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(nN(n)),{duration:0,delay:0,easing:""};i=ub(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=ub(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(HG()),a=!0),o<0&&(e.push(qG()),a=!0),a&&e.splice(c,0,nN(n))}return{duration:i,delay:o,easing:s}}function A5(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function br(n,e,t){e.forEach((r,i)=>{let o=Tb(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Xo(n,e){e.forEach((t,r)=>{let i=Tb(r);n.style[i]=""})}function ol(n){return Array.isArray(n)?n.length==1?n[0]:tN(n):n}function M5(n,e,t){let r=e.params||{},i=wN(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(GG(o))})}var lb=new RegExp(`${_N}\\s*(.+?)\\s*${T5}`,"g");function wN(n){let e=[];if(typeof n=="string"){let t;for(;t=lb.exec(n);)e.push(t[1]);lb.lastIndex=0}return e}function al(n,e,t){let r=`${n}`,i=r.replace(lb,(o,s)=>{let a=e[s];return a==null&&(t.push(WG(s)),a=""),a.toString()});return i==r?n:i}var R5=/-+([a-z0-9])/g;function Tb(n){return n.replace(R5,(...e)=>e[1].toUpperCase())}function P5(n,e){return n===0||e===0}function x5(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Sb(n,a)))}}return e}function In(n,e,t){switch(e.type){case me.Trigger:return n.visitTrigger(e,t);case me.State:return n.visitState(e,t);case me.Transition:return n.visitTransition(e,t);case me.Sequence:return n.visitSequence(e,t);case me.Group:return n.visitGroup(e,t);case me.Animate:return n.visitAnimate(e,t);case me.Keyframes:return n.visitKeyframes(e,t);case me.Style:return n.visitStyle(e,t);case me.Reference:return n.visitReference(e,t);case me.AnimateChild:return n.visitAnimateChild(e,t);case me.AnimateRef:return n.visitAnimateRef(e,t);case me.Query:return n.visitQuery(e,t);case me.Stagger:return n.visitStagger(e,t);default:throw KG(e.type)}}function Sb(n,e){return window.getComputedStyle(n)[e]}var N5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Tp=class extends ts{normalizePropertyName(e,t){return Tb(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(N5.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(QG(e,r))}return s+o}};var Sp="*";function O5(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>k5(r,t,e)):t.push(n),t}function k5(n,e,t){if(n[0]==":"){let c=F5(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(a5(n)),e;let i=r[1],o=r[2],s=r[3];e.push(sN(i,s));let a=i==Sp&&s==Sp;o[0]=="<"&&!a&&e.push(sN(s,i))}function F5(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(c5(n)),"* => *"}}var Ep=new Set(["true","1"]),wp=new Set(["false","0"]);function sN(n,e){let t=Ep.has(n)||wp.has(n),r=Ep.has(e)||wp.has(e);return(i,o)=>{let s=n==Sp||n==i,a=e==Sp||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Ep.has(n):wp.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Ep.has(e):wp.has(e)),s&&a}}var IN=":self",L5=new RegExp(`s*${IN}s*,?`,"g");function bN(n,e,t,r){return new db(n).build(e,t,r)}var aN="",db=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new hb(t);return this._resetContextStyleTimingState(i),In(this,ol(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=aN,e.collectedStyles=new Map,e.collectedStyles.set(aN,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(YG()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==me.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==me.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(ZG())}),{type:me.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{wN(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(JG(e.name,[...o.values()]))}return{type:me.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=In(this,ol(e.animation),t),i=O5(e.expr,t.errors);return{type:me.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Jo(e.options)}}visitSequence(e,t){return{type:me.Sequence,steps:e.steps.map(r=>In(this,r,t)),options:Jo(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=In(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:me.Group,steps:o,options:Jo(e.options)}}visitAnimate(e,t){let r=U5(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Gi({});if(o.type==me.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=Gi(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:me.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Ir?r.push(a):t.errors.push(XG(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(_N)>=0){o=!0;break}}}),{type:me.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(e5(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&l.set(c,{startTime:o,endTime:i}),t.options&&M5(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:me.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(t5()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,d=e.steps.map(x=>{let O=this._makeStyleAst(x,t),B=O.offset!=null?O.offset:j5(O.styles),z=0;return B!=null&&(o++,z=O.offset=B),c=c||z<0||z>1,a=a||z<l,l=z,s.push(z),O});c&&t.errors.push(n5()),a&&t.errors.push(r5());let f=e.steps.length,g=0;o>0&&o<f?t.errors.push(i5()):o==0&&(g=i/(f-1));let m=f-1,v=t.currentTime,I=t.currentAnimateTimings,S=I.duration;return d.forEach((x,O)=>{let B=g>0?O==m?1:g*O:s[O],z=B*S;t.currentTime=v+I.delay+z,I.duration=z,this._validateStyleAst(x,t),x.offset=B,r.styles.push(x)}),r}visitReference(e,t){return{type:me.Reference,animation:In(this,ol(e.animation),t),options:Jo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:me.AnimateChild,options:Jo(e.options)}}visitAnimateRef(e,t){return{type:me.AnimateRef,animation:this.visitReference(e.animation,t),options:Jo(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=V5(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,bn(t.collectedStyles,t.currentQuerySelector,new Map);let a=In(this,ol(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:me.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Jo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(o5());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Dp(e.timings,t.errors,!0);return{type:me.Stagger,animation:In(this,ol(e.animation),t),timings:r,options:null}}};function V5(n){let e=!!n.split(/\s*,\s*/).find(t=>t==IN);return e&&(n=n.replace(L5,"")),n=n.replace(/@\*/g,Cp).replace(/@\w+/g,t=>Cp+"-"+t.slice(1)).replace(/:animating/g,cb),[n,e]}function z5(n){return n?P({},n):null}var hb=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function j5(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function U5(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Dp(n,e).duration;return nb(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=nb(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Dp(t,e);return nb(i.duration,i.delay,i.easing)}function Jo(n){return n?(n=P({},n),n.params&&(n.params=z5(n.params))):n={},n}function nb(n,e,t){return{duration:n,delay:e,easing:t}}function Ab(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var cl=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},B5=1,$5=":enter",H5=new RegExp($5,"g"),q5=":leave",G5=new RegExp(q5,"g");function CN(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new fb().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}var fb=class{buildKeyframes(e,t,r,i,o,s,a,c,l,d=[]){l=l||new cl;let f=new pb(e,t,l,i,o,d,[]);f.options=c;let g=c.delay?ti(c.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,c),In(this,r,f);let m=f.timelines.filter(v=>v.containsAnimation());if(m.length&&a.size){let v;for(let I=m.length-1;I>=0;I--){let S=m[I];if(S.element===t){v=S;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,f.errors,c)}return m.length?m.map(v=>v.buildKeyframes()):[Ab(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:ti(al(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?ti(r.duration):null,a=r.delay!=null?ti(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),In(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==me.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ap);let s=ti(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>In(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?ti(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),In(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?al(r,t.params,t.errors):r;return Dp(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==me.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ti(i.delay):0;o&&(t.previousNode.type===me.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ap);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,l);o&&f.delayNextStep(o),l===t.element&&(c=f.currentTimeline),In(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;In(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},Ap={},pb=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Ap;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new Mp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=ti(r.duration)),r.delay!=null&&(i.delay=ti(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=al(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Ap,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new gb(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(H5,"."+this._enterClassName),e=e.replace(G5,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(s5(t)),a}},Mp=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=B5,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ir),this._currentKeyframe.set(t,Ir);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=W5(e,this._globalTimelineStyles);for(let[a,c]of s){let l=al(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ir),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((d,f)=>{d===vp?e.add(f):d===Ir&&t.add(f)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return Ab(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},gb=class extends Mp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",cN(a)),o.push(l);let d=e.length-1;for(let f=1;f<=d;f++){let g=new Map(e[f]),m=g.get("offset"),v=t+m*r;g.set("offset",cN(v/s)),o.push(g)}r=s,t=0,i="",e=o}return Ab(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function cN(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function W5(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Ir)}else for(let[o,s]of i)t.set(o,s)}),t}function uN(n,e,t,r,i,o,s,a,c,l,d,f,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:f,errors:g}}var rb={},Rp=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return K5(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,d){let f=[],g=this.ast.options&&this.ast.options.params||rb,m=a&&a.params||rb,v=this.buildStyles(r,m,f),I=c&&c.params||rb,S=this.buildStyles(i,I,f),x=new Set,O=new Map,B=new Map,z=i==="void",ne={params:DN(I,g),delay:this.ast.options?.delay},q=d?[]:CN(e,t,this.ast.animation,o,s,v,S,ne,l,f),b=0;return q.forEach(_=>{b=Math.max(_.duration+_.delay,b)}),f.length?uN(t,this._triggerName,r,i,z,v,S,[],[],O,B,b,f):(q.forEach(_=>{let E=_.element,C=bn(O,E,new Set);_.preStyleProps.forEach(M=>C.add(M));let D=bn(B,E,new Set);_.postStyleProps.forEach(M=>D.add(M)),E!==t&&x.add(E)}),uN(t,this._triggerName,r,i,z,v,S,q,[...x.values()],O,B,b))}};function K5(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function DN(n,e){let t=P({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var mb=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=DN(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=al(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function Q5(n,e,t){return new yb(n,e,t)}var yb=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new mb(i.style,o,r))}),lN(this.states,"true","1"),lN(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Rp(e,i,this.states))}),this.fallbackTransition=Y5(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function Y5(n,e,t){let r=[(s,a)=>!0],i={type:me.Sequence,steps:[],options:null},o={type:me.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Rp(n,o,e)}function lN(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var Z5=new cl,vb=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=bN(this._driver,t,r,i);if(r.length)throw d5(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=mN(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=CN(this._driver,t,o,EN,ab,new Map,new Map,r,Z5,i),s.forEach(d=>{let f=bn(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(i.push(h5()),s=[]),i.length)throw f5(i);a.forEach((d,f)=>{d.forEach((g,m)=>{d.set(m,this._driver.computeStyle(f,m,Ir))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),l=Wi(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw p5(e);return t}listen(e,t,r,i){let o=bb(t,"","","");return Ib(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},dN="ng-animate-queued",J5=".ng-animate-queued",ib="ng-animate-disabled",X5=".ng-animate-disabled",e9="ng-star-inserted",t9=".ng-star-inserted",n9=[],TN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},r9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tr="__ng_removed",ul=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=o9(i),r){let o=e,{value:s}=o,a=gC(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},sl="void",ob=new ul(sl),_b=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,Vn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw g5(r,t);if(r==null||r.length==0)throw m5(t);if(!s9(r))throw y5(r,t);let o=bn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=bn(this._engine.statesByElement,e,new Map);return a.has(t)||(Vn(e,_p),Vn(e,_p+"-"+t),a.set(t,ob)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw v5(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new ll(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Vn(e,_p),Vn(e,_p+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new ul(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=ob),!(l.value===sl)&&c.value===l.value){if(!u9(c.params,l.params)){let I=[],S=o.matchStyles(c.value,c.params,I),x=o.matchStyles(l.value,l.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{Xo(e,S),br(e,x)})}return}let g=bn(this._engine.playersByElement,e,[]);g.forEach(I=>{I.namespaceId==this.id&&I.triggerName==t&&I.queued&&I.destroy()});let m=o.matchTransition(c.value,l.value,e,l.params),v=!1;if(!m){if(!i)return;m=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:v}),v||(Vn(e,dN),s.onStart(()=>{Fa(e,dN)})),s.onDone(()=>{let I=this.players.indexOf(s);I>=0&&this.players.splice(I,1);let S=this._engine.playersByElement.get(e);if(S){let x=S.indexOf(s);x>=0&&S.splice(x,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Cp,!0);r.forEach(i=>{if(i[tr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let d=this.trigger(e,l,sl,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Wi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||ob,d=new ul(sl),f=new ll(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[tr];(!o||o===TN)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Vn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=bb(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Ib(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Eb=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new _b(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Ip(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ip(t))return;let o=t[tr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vn(e,ib)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fa(e,ib))}removeNode(e,t,r){if(Ip(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[tr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Ip(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Cp,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,cb,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Wi(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[tr];if(t&&t.setForRemoval){if(e[tr]=TN,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(ib)&&this.markElementAsDisabled(e,!1),this.driver.query(e,X5,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Vn(i,e9)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Wi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw _5(e)}_flushAnimations(e,t){let r=new cl,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(Q=>{d.add(Q);let J=this.driver.query(Q,J5,!0);for(let ee=0;ee<J.length;ee++)d.add(J[ee])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),m=pN(g,this.collectedEnterElements),v=new Map,I=0;m.forEach((Q,J)=>{let ee=EN+I++;v.set(J,ee),Q.forEach(we=>Vn(we,ee))});let S=[],x=new Set,O=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){let J=this.collectedLeaveElements[Q],ee=J[tr];ee&&ee.setForRemoval&&(S.push(J),x.add(J),ee.hasAnimation?this.driver.query(J,t9,!0).forEach(we=>x.add(we)):O.add(J))}let B=new Map,z=pN(g,Array.from(x));z.forEach((Q,J)=>{let ee=ab+I++;B.set(J,ee),Q.forEach(we=>Vn(we,ee))}),e.push(()=>{m.forEach((Q,J)=>{let ee=v.get(J);Q.forEach(we=>Fa(we,ee))}),z.forEach((Q,J)=>{let ee=B.get(J);Q.forEach(we=>Fa(we,ee))}),S.forEach(Q=>{this.processLeaveNode(Q)})});let ne=[],q=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(t).forEach(ee=>{let we=ee.player,at=ee.element;if(ne.push(we),this.collectedEnterElements.length){let et=at[tr];if(et&&et.setForMove){if(et.previousTriggersValues&&et.previousTriggersValues.has(ee.triggerName)){let Dr=et.previousTriggersValues.get(ee.triggerName),Zt=this.statesByElement.get(ee.element);if(Zt&&Zt.has(ee.triggerName)){let Tr=Zt.get(ee.triggerName);Tr.value=Dr,Zt.set(ee.triggerName,Tr)}}we.destroy();return}}let Tn=!f||!this.driver.containsElement(f,at),Xe=B.get(at),He=v.get(at),qe=this._buildInstruction(ee,r,He,Xe,Tn);if(qe.errors&&qe.errors.length){q.push(qe);return}if(Tn){we.onStart(()=>Xo(at,qe.fromStyles)),we.onDestroy(()=>br(at,qe.toStyles)),i.push(we);return}if(ee.isFallbackTransition){we.onStart(()=>Xo(at,qe.fromStyles)),we.onDestroy(()=>br(at,qe.toStyles)),i.push(we);return}let ii=[];qe.timelines.forEach(et=>{et.stretchStartingKeyframe=!0,this.disabledNodes.has(et.element)||ii.push(et)}),qe.timelines=ii,r.append(at,qe.timelines);let Mg={instruction:qe,player:we,element:at};s.push(Mg),qe.queriedElements.forEach(et=>bn(a,et,[]).push(we)),qe.preStyleProps.forEach((et,Dr)=>{if(et.size){let Zt=c.get(Dr);Zt||c.set(Dr,Zt=new Set),et.forEach((Tr,oi)=>Zt.add(oi))}}),qe.postStyleProps.forEach((et,Dr)=>{let Zt=l.get(Dr);Zt||l.set(Dr,Zt=new Set),et.forEach((Tr,oi)=>Zt.add(oi))})});if(q.length){let Q=[];q.forEach(J=>{Q.push(E5(J.triggerName,J.errors))}),ne.forEach(J=>J.destroy()),this.reportError(Q)}let b=new Map,_=new Map;s.forEach(Q=>{let J=Q.element;r.has(J)&&(_.set(J,J),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,b))}),i.forEach(Q=>{let J=Q.element;this._getPreviousPlayers(J,!1,Q.namespaceId,Q.triggerName,null).forEach(we=>{bn(b,J,[]).push(we),we.destroy()})});let E=S.filter(Q=>gN(Q,c,l)),C=new Map;fN(C,this.driver,O,l,Ir).forEach(Q=>{gN(Q,c,l)&&E.push(Q)});let M=new Map;m.forEach((Q,J)=>{fN(M,this.driver,new Set(Q),c,vp)}),E.forEach(Q=>{let J=C.get(Q),ee=M.get(Q);C.set(Q,new Map([...J?.entries()??[],...ee?.entries()??[]]))});let w=[],Dn=[],ri={};s.forEach(Q=>{let{element:J,player:ee,instruction:we}=Q;if(r.has(J)){if(d.has(J)){ee.onDestroy(()=>br(J,we.toStyles)),ee.disabled=!0,ee.overrideTotalTime(we.totalTime),i.push(ee);return}let at=ri;if(_.size>1){let Xe=J,He=[];for(;Xe=Xe.parentNode;){let qe=_.get(Xe);if(qe){at=qe;break}He.push(Xe)}He.forEach(qe=>_.set(qe,at))}let Tn=this._buildAnimation(ee.namespaceId,we,b,o,M,C);if(ee.setRealPlayer(Tn),at===ri)w.push(ee);else{let Xe=this.playersByElement.get(at);Xe&&Xe.length&&(ee.parentPlayer=Wi(Xe)),i.push(ee)}}else Xo(J,we.fromStyles),ee.onDestroy(()=>br(J,we.toStyles)),Dn.push(ee),d.has(J)&&i.push(ee)}),Dn.forEach(Q=>{let J=o.get(Q.element);if(J&&J.length){let ee=Wi(J);Q.setRealPlayer(ee)}}),i.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<S.length;Q++){let J=S[Q],ee=J[tr];if(Fa(J,ab),ee&&ee.hasAnimation)continue;let we=[];if(a.size){let Tn=a.get(J);Tn&&Tn.length&&we.push(...Tn);let Xe=this.driver.query(J,cb,!0);for(let He=0;He<Xe.length;He++){let qe=a.get(Xe[He]);qe&&qe.length&&we.push(...qe)}}let at=we.filter(Tn=>!Tn.destroyed);at.length?a9(this,J,at):this.processLeaveNode(J)}return S.length=0,w.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();let J=this.players.indexOf(Q);this.players.splice(J,1)}),Q.play()}),w}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==sl;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,d=l!==o,f=bn(r,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(m=>{let v=m.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),m.destroy(),f.push(m)})}Xo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],d=new Set,f=new Set,g=t.timelines.map(v=>{let I=v.element;d.add(I);let S=I[tr];if(S&&S.removedBeforeQueried)return new qi(v.duration,v.delay);let x=I!==c,O=c9((r.get(I)||n9).map(b=>b.getRealPlayer())).filter(b=>{let _=b;return _.element?_.element===I:!1}),B=o.get(I),z=s.get(I),ne=mN(this._normalizer,v.keyframes,B,z),q=this._buildPlayer(v,ne,O);if(v.subTimeline&&i&&f.add(I),x){let b=new ll(e,a,I);b.setRealPlayer(q),l.push(b)}return q});l.forEach(v=>{bn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>i9(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>Vn(v,oN));let m=Wi(g);return m.onDestroy(()=>{d.forEach(v=>Fa(v,oN)),br(c,t.toStyles)}),f.forEach(v=>{bn(i,v,[]).push(m)}),m}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new qi(e.duration,e.delay)}},ll=class{namespaceId;triggerName;element;_player=new qi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Ib(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){bn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function i9(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function o9(n){return n??null}function Ip(n){return n&&n.nodeType===1}function s9(n){return n=="start"||n=="done"}function hN(n,e){let t=n.style.display;return n.style.display=e??"none",t}function fN(n,e,t,r,i){let o=[];t.forEach(c=>o.push(hN(c)));let s=[];r.forEach((c,l)=>{let d=new Map;c.forEach(f=>{let g=e.computeStyle(l,f,i);d.set(f,g),(!g||g.length==0)&&(l[tr]=r9,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>hN(c,o[a++])),s}function pN(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Vn(n,e){n.classList?.add(e)}function Fa(n,e){n.classList?.remove(e)}function a9(n,e,t){Wi(t).onDone(()=>n.processLeaveNode(e))}function c9(n){let e=[];return SN(n,e),e}function SN(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof il?SN(r.players,e):e.push(r)}}function u9(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function gN(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var La=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new Eb(e.body,t,r),this._timelineEngine=new vb(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],d=bN(this._driver,o,c,l);if(c.length)throw u5(i,c);l.length&&void 0,a=Q5(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=rN(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=rN(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function l9(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=sb(e[0]),e.length>1&&(r=sb(e[e.length-1]))):e instanceof Map&&(t=sb(e)),t||r?new d9(n,t,r):null}var d9=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&br(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(br(this._element,this._initialStyles),this._endStyles&&(br(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xo(this._element,this._endStyles),this._endStyles=null),br(this._element,this._initialStyles),this._state=3)}}return n})();function sb(n){let e=null;return n.forEach((t,r)=>{h9(r)&&(e=e||new Map,e.set(r,t))}),e}function h9(n){return n==="display"||n==="position"}var Pp=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Sb(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},xp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return yN(e,t)}getParentElement(e){return Cb(e)}query(e,t,r){return vN(e,t,r)}computeStyle(e,t,r){return Sb(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,d=s.filter(m=>m instanceof Pp);P5(r,i)&&d.forEach(m=>{m.currentSnapshot.forEach((v,I)=>l.set(I,v))});let f=A5(t).map(m=>new Map(m));f=x5(e,f,l);let g=l9(e,f);return new Pp(e,f,c,g)}};var bp="@",AN="@.disabled",Np=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==bp&&t==AN?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},wb=class extends Np{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==bp?t.charAt(1)=="."&&t==AN?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==bp){let i=f9(e),o=t.slice(1),s="";return o.charAt(0)!=bp&&([o,s]=p9(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};function f9(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function p9(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Op=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,d=l.get(i);if(!d){let f=()=>l.delete(i);d=new Np(r,i,this.engine,f),l.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new wb(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var m9=(()=>{class n extends La{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(W(cn),W(es),W(ts))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function y9(){return new Tp}function v9(n,e,t){return new Op(n,e,t)}var MN=[{provide:ts,useFactory:y9},{provide:La,useClass:m9},{provide:Ii,useFactory:v9,deps:[xh,La,De]}],_9=[{provide:es,useFactory:()=>new xp},{provide:gv,useValue:"BrowserAnimations"},...MN],kse=[{provide:es,useClass:Db},{provide:gv,useValue:"NoopAnimations"},...MN];function RN(){return Yn("NgEagerAnimations"),[..._9]}var Pb={};function bt(n,e){if(Pb[n]=(Pb[n]||0)+1,typeof e=="function")return Mb(n,(...r)=>j(P({},e(...r)),{type:n}));switch(e?e._as:"empty"){case"empty":return Mb(n,()=>({type:n}));case"props":return Mb(n,r=>j(P({},r),{type:n}));default:throw new Error("Unexpected config.")}}function dn(){return{_as:"props",_p:void 0}}function Mb(n,e){return Object.defineProperty(e,"type",{value:n,writable:!1})}function E9(n,e){if(n==null)throw new Error(`${e} must be defined.`)}var hl="@ngrx/store/init",Cr=(()=>{class n extends ct{constructor(){super({type:hl})}next(t){if(typeof t=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),w9=[Cr],$N=new F("@ngrx/store Internal Root Guard"),PN=new F("@ngrx/store Internal Initial State"),fl=new F("@ngrx/store Initial State"),HN=new F("@ngrx/store Reducer Factory"),xN=new F("@ngrx/store Internal Reducer Factory Provider"),qN=new F("@ngrx/store Initial Reducers"),Rb=new F("@ngrx/store Internal Initial Reducers"),Hse=new F("@ngrx/store Store Features"),NN=new F("@ngrx/store Internal Store Reducers"),qse=new F("@ngrx/store Internal Feature Reducers"),Gse=new F("@ngrx/store Internal Feature Configs"),Wse=new F("@ngrx/store Internal Store Features"),Kse=new F("@ngrx/store Internal Feature Reducers Token"),Qse=new F("@ngrx/store Feature Reducers"),ON=new F("@ngrx/store User Provided Meta Reducers"),kp=new F("@ngrx/store Meta Reducers"),kN=new F("@ngrx/store Internal Resolved Meta Reducers"),FN=new F("@ngrx/store User Runtime Checks Config"),LN=new F("@ngrx/store Internal User Runtime Checks Config"),dl=new F("@ngrx/store Internal Runtime Checks"),GN=new F("@ngrx/store Check if Action types are unique"),Fp=new F("@ngrx/store Root Store Provider"),WN=new F("@ngrx/store Feature State Provider");function I9(n,e={}){let t=Object.keys(n),r={};for(let o=0;o<t.length;o++){let s=t[o];typeof n[s]=="function"&&(r[s]=n[s])}let i=Object.keys(r);return function(s,a){s=s===void 0?e:s;let c=!1,l={};for(let d=0;d<i.length;d++){let f=i[d],g=r[f],m=s[f],v=g(m,a);l[f]=v,c=c||v!==m}return c?l:s}}function b9(n,e){return Object.keys(n).filter(t=>t!==e).reduce((t,r)=>Object.assign(t,{[r]:n[r]}),{})}function KN(...n){return function(e){if(n.length===0)return e;let t=n[n.length-1];return n.slice(0,-1).reduceRight((i,o)=>o(i),t(e))}}function QN(n,e){return Array.isArray(e)&&e.length>0&&(n=KN.apply(null,[...e,n])),(t,r)=>{let i=n(t);return(o,s)=>(o=o===void 0?r:o,i(o,s))}}function C9(n){let e=Array.isArray(n)&&n.length>0?KN(...n):t=>t;return(t,r)=>(t=e(t),(i,o)=>(i=i===void 0?r:i,t(i,o)))}var ns=class extends oe{},Va=class extends Cr{},Lp="@ngrx/store/update-reducers",xb=(()=>{class n extends ct{get currentReducers(){return this.reducers}constructor(t,r,i,o){super(o(i,r)),this.dispatcher=t,this.initialState=r,this.reducers=i,this.reducerFactory=o}addFeature(t){this.addFeatures([t])}addFeatures(t){let r=t.reduce((i,{reducers:o,reducerFactory:s,metaReducers:a,initialState:c,key:l})=>{let d=typeof o=="function"?C9(a)(o,c):QN(s,a)(o,c);return i[l]=d,i},{});this.addReducers(r)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(r=>r.key))}addReducer(t,r){this.addReducers({[t]:r})}addReducers(t){this.reducers=P(P({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(r=>{this.reducers=b9(this.reducers,r)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Lp,features:t})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(r){return new(r||n)(W(Va),W(fl),W(qN),W(HN))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),D9=[xb,{provide:ns,useExisting:xb},{provide:Va,useExisting:Cr}],rs=(()=>{class n extends Oe{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=zr(n)))(i||n)}})()}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),T9=[rs],za=class extends oe{},VN=(()=>{class n extends ct{static{this.INIT=hl}constructor(t,r,i,o){super(o);let a=t.pipe(Sn(oo)).pipe(Sc(r)),c={state:o},l=a.pipe(gi(S9,c));this.stateSubscription=l.subscribe(({state:d,action:f})=>{this.next(d),i.next(f)}),this.state=lu(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(r){return new(r||n)(W(Cr),W(ns),W(rs),W(fl))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})();function S9(n={state:void 0},[e,t]){let{state:r}=n;return{state:t(r,e),action:e}}var A9=[VN,{provide:za,useExisting:VN}],Mt=(()=>{class n extends oe{constructor(t,r,i,o){super(),this.actionsObserver=r,this.reducerManager=i,this.injector=o,this.source=t,this.state=t.state}select(t,...r){return R9.call(null,t,...r)(this)}selectSignal(t,r){return Nn(()=>t(this.state()),r)}lift(t){let r=new n(this,this.actionsObserver,this.reducerManager);return r.operator=t,r}dispatch(t,r){if(typeof t=="function")return this.processDispatchFn(t,r);this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,r){this.reducerManager.addReducer(t,r)}removeReducer(t){this.reducerManager.removeReducer(t)}processDispatchFn(t,r){E9(this.injector,"Store Injector");let i=r?.injector??P9()??this.injector;return Ch(()=>{let o=t();an(()=>this.dispatch(o))},{injector:i})}static{this.\u0275fac=function(r){return new(r||n)(W(za),W(Cr),W(xb),W(We))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),M9=[Mt];function R9(n,e,...t){return function(i){let o;if(typeof n=="string"){let s=[e,...t].filter(Boolean);o=i.pipe(Am(n,...s))}else if(typeof n=="function")o=i.pipe(Y(s=>n(s,e)));else throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);return o.pipe(md())}}function P9(){try{return N(We)}catch{return}}var Fb="https://ngrx.io/guide/store/configuration/runtime-checks";function zN(n){return n===void 0}function jN(n){return n===null}function YN(n){return Array.isArray(n)}function x9(n){return typeof n=="string"}function N9(n){return typeof n=="boolean"}function O9(n){return typeof n=="number"}function ZN(n){return typeof n=="object"&&n!==null}function k9(n){return ZN(n)&&!YN(n)}function F9(n){if(!k9(n))return!1;let e=Object.getPrototypeOf(n);return e===Object.prototype||e===null}function Nb(n){return typeof n=="function"}function L9(n){return Nb(n)&&n.hasOwnProperty("\u0275cmp")}function V9(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var z9=!1;function j9(){return z9}function UN(n,e){return n===e}function U9(n,e,t){for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!0;return!1}function JN(n,e=UN,t=UN){let r=null,i=null,o;function s(){r=null,i=null}function a(d=void 0){o={result:d}}function c(){o=void 0}function l(){if(o!==void 0)return o.result;if(!r)return i=n.apply(null,arguments),r=arguments,i;if(!U9(arguments,r,e))return i;let d=n.apply(null,arguments);return r=arguments,t(i,d)?i:(i=d,d)}return{memoized:l,reset:s,setResult:a,clearResult:c}}function ni(...n){return $9(JN)(...n)}function B9(n,e,t,r){if(t===void 0){let o=e.map(s=>s(n));return r.memoized.apply(null,o)}let i=e.map(o=>o(n,t));return r.memoized.apply(null,[...i,t])}function $9(n,e={stateFn:B9}){return function(...t){let r=t;if(Array.isArray(r[0])){let[d,...f]=r;r=[...d,...f]}else r.length===1&&H9(r[0])&&(r=q9(r[0]));let i=r.slice(0,r.length-1),o=r[r.length-1],s=i.filter(d=>d.release&&typeof d.release=="function"),a=n(function(...d){return o.apply(null,d)}),c=JN(function(d,f){return e.stateFn.apply(null,[d,i,f,a])});function l(){c.reset(),a.reset(),s.forEach(d=>d.release())}return Object.assign(c.memoized,{release:l,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function XN(n){return ni(e=>{let t=e[n];return!j9()&&To()&&!(n in e)&&console.warn(`@ngrx/store: The feature name "${n}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${n}', ...) or StoreModule.forFeature('${n}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),t},e=>e)}function H9(n){return!!n&&typeof n=="object"&&Object.values(n).every(e=>typeof e=="function")}function q9(n){let e=Object.values(n),t=Object.keys(n),r=(...i)=>t.reduce((o,s,a)=>j(P({},o),{[s]:i[a]}),{});return[...e,r]}function G9(n){return n instanceof F?N(n):n}function W9(n){return typeof n=="function"?n():n}function K9(n,e){return n.concat(e)}function Q9(){if(N(Mt,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Y9(n,e){return function(t,r){let i=e.action(r)?Ob(r):r,o=n(t,i);return e.state()?Ob(o):o}}function Ob(n){Object.freeze(n);let e=Nb(n);return Object.getOwnPropertyNames(n).forEach(t=>{if(!t.startsWith("\u0275")&&V9(n,t)&&(!e||t!=="caller"&&t!=="callee"&&t!=="arguments")){let r=n[t];(ZN(r)||Nb(r))&&!Object.isFrozen(r)&&Ob(r)}}),n}function Z9(n,e){return function(t,r){if(e.action(r)){let o=kb(r);BN(o,"action")}let i=n(t,r);if(e.state()){let o=kb(i);BN(o,"state")}return i}}function kb(n,e=[]){return(zN(n)||jN(n))&&e.length===0?{path:["root"],value:n}:Object.keys(n).reduce((r,i)=>{if(r)return r;let o=n[i];return L9(o)?r:zN(o)||jN(o)||O9(o)||N9(o)||x9(o)||YN(o)?!1:F9(o)?kb(o,[...e,i]):{path:[...e,i],value:o}},!1)}function BN(n,e){if(n===!1)return;let t=n.path.join("."),r=new Error(`Detected unserializable ${e} at "${t}". ${Fb}#strict${e}serializability`);throw r.value=n.value,r.unserializablePath=t,r}function J9(n,e){return function(t,r){if(e.action(r)&&!De.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${Fb}#strictactionwithinngzone`);return n(t,r)}}function X9(n){return To()?P({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},n):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function e6({strictActionSerializability:n,strictStateSerializability:e}){return t=>n||e?Z9(t,{action:r=>n&&!Lb(r),state:()=>e}):t}function t6({strictActionImmutability:n,strictStateImmutability:e}){return t=>n||e?Y9(t,{action:r=>n&&!Lb(r),state:()=>e}):t}function Lb(n){return n.type.startsWith("@ngrx")}function n6({strictActionWithinNgZone:n}){return e=>n?J9(e,{action:t=>n&&!Lb(t)}):e}function r6(n){return[{provide:LN,useValue:n},{provide:FN,useFactory:o6,deps:[LN]},{provide:dl,deps:[FN],useFactory:X9},{provide:kp,multi:!0,deps:[dl],useFactory:t6},{provide:kp,multi:!0,deps:[dl],useFactory:e6},{provide:kp,multi:!0,deps:[dl],useFactory:n6}]}function i6(){return[{provide:GN,multi:!0,deps:[dl],useFactory:s6}]}function o6(n){return n}function s6(n){if(!n.strictActionTypeUniqueness)return;let e=Object.entries(Pb).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${Fb}#strictactiontypeuniqueness`)}function a6(n={},e={}){return[{provide:$N,useFactory:Q9},{provide:PN,useValue:e.initialState},{provide:fl,useFactory:W9,deps:[PN]},{provide:Rb,useValue:n},{provide:NN,useExisting:n instanceof F?n:Rb},{provide:qN,deps:[Rb,[new WD(NN)]],useFactory:G9},{provide:ON,useValue:e.metaReducers?e.metaReducers:[]},{provide:kN,deps:[kp,ON],useFactory:K9},{provide:xN,useValue:e.reducerFactory?e.reducerFactory:I9},{provide:HN,deps:[xN,kN],useFactory:QN},w9,D9,T9,A9,M9,r6(e.runtimeChecks),i6()]}function c6(){N(Cr),N(ns),N(rs),N(Mt),N($N,{optional:!0}),N(GN,{optional:!0})}var u6=[{provide:Fp,useFactory:c6},{provide:sr,multi:!0,useFactory(){return()=>N(Fp)}}];function eO(n,e){return Ft([...a6(n,e),u6])}function Ut(...n){let e=n.pop(),t=n.map(r=>r.type);return{reducer:e,types:t}}function Vp(n,...e){let t=new Map;for(let r of e)for(let i of r.types){let o=t.get(i);if(o){let s=(a,c)=>r.reducer(o(a,c),c);t.set(i,s)}else t.set(i,r.reducer)}return function(r=n,i){let o=t.get(i.type);return o?o(r,i):r}}var l6={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},zp="__@ngrx/effects_create__";function Vb(n,e={}){let t=e.functional?n:n(),r=P(P({},l6),e);return Object.defineProperty(t,zp,{value:r}),t}function d6(n){return Object.getOwnPropertyNames(n).filter(r=>n[r]&&n[r].hasOwnProperty(zp)?n[r][zp].hasOwnProperty("dispatch"):!1).map(r=>{let i=n[r][zp];return P({propertyName:r},i)})}function h6(n){return d6(n)}function tO(n){return Object.getPrototypeOf(n)}function f6(n){return!!n.constructor&&n.constructor.name!=="Object"&&n.constructor.name!=="Function"}function nO(n){return typeof n=="function"}function p6(n){return n.filter(nO)}function g6(n,e,t){let r=tO(n),o=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,s=h6(n).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:l})=>{let d=typeof n[a]=="function"?n[a]():n[a],f=l?t(d,e):d;return c===!1?f.pipe(Dc()):f.pipe(Sm()).pipe(Y(m=>({effect:n[a],notification:m,propertyName:a,sourceName:o,sourceInstance:n})))});return ao(...s)}var m6=10;function rO(n,e,t=m6){return n.pipe(Jt(r=>(e&&e.handleError(r),t<=1?n:rO(n,e,t-1))))}var iO=(()=>{class n extends oe{constructor(t){super(),t&&(this.source=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}static{this.\u0275fac=function(r){return new(r||n)(W(rs))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zb(...n){return Qe(e=>n.some(t=>typeof t=="string"?t===e.type:t.type===e.type))}var aae=new F("@ngrx/effects Internal Root Guard"),cae=new F("@ngrx/effects User Provided Effects"),uae=new F("@ngrx/effects Internal Root Effects"),lae=new F("@ngrx/effects Internal Root Effects Instances"),dae=new F("@ngrx/effects Internal Feature Effects"),hae=new F("@ngrx/effects Internal Feature Effects Instance Groups"),y6=new F("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>rO}),v6="@ngrx/effects/init",_6=bt(v6);function E6(n,e){if(n.notification.kind==="N"){let t=n.notification.value;!w6(t)&&e.handleError(new Error(`Effect ${I6(n)} dispatched an invalid action: ${b6(t)}`))}}function w6(n){return typeof n!="function"&&n&&n.type&&typeof n.type=="string"}function I6({propertyName:n,sourceInstance:e,sourceName:t}){let r=typeof e[n]=="function";return!!t?`"${t}.${String(n)}${r?"()":""}"`:`"${String(n)}()"`}function b6(n){try{return JSON.stringify(n)}catch{return n}}var C6="ngrxOnIdentifyEffects";function D6(n){return jb(n,C6)}var T6="ngrxOnRunEffects";function S6(n){return jb(n,T6)}var A6="ngrxOnInitEffects";function M6(n){return jb(n,A6)}function jb(n,e){return n&&e in n&&typeof n[e]=="function"}var oO=(()=>{class n extends Oe{constructor(t,r){super(),this.errorHandler=t,this.effectsErrorHandler=r}addEffects(t){this.next(t)}toActions(){return this.pipe(_d(t=>f6(t)?tO(t):t),Ve(t=>t.pipe(_d(R6))),Ve(t=>{let r=t.pipe(vd(o=>P6(this.errorHandler,this.effectsErrorHandler)(o)),Y(o=>(E6(o,this.errorHandler),o.notification)),Qe(o=>o.kind==="N"&&o.value!=null),Dm()),i=t.pipe(Ye(1),Qe(M6),Y(o=>o.ngrxOnInitEffects()));return ao(r,i)}))}static{this.\u0275fac=function(r){return new(r||n)(W(tn),W(y6))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function R6(n){return D6(n)?n.ngrxOnIdentifyEffects():""}function P6(n,e){return t=>{let r=g6(t,n,e);return S6(t)?t.ngrxOnRunEffects(r):r}}var x6=(()=>{class n{get isStarted(){return!!this.effectsSubscription}constructor(t,r){this.effectSources=t,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(r){return new(r||n)(W(oO),W(Mt))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sO(...n){let e=n.flat(),t=p6(e);return Ft([t,{provide:sr,multi:!0,useValue:()=>{N(Fp),N(WN,{optional:!0});let r=N(x6),i=N(oO),o=!r.isStarted;o&&r.start();for(let s of e){let a=nO(s)?N(s):s;i.addEffects(a)}o&&N(Mt).dispatch(_6())}}])}var gl="PERFORM_ACTION",N6="REFRESH",hO="RESET",fO="ROLLBACK",pO="COMMIT",gO="SWEEP",mO="TOGGLE_ACTION",O6="SET_ACTIONS_ACTIVE",yO="JUMP_TO_STATE",vO="JUMP_TO_ACTION",Xb="IMPORT_STATE",_O="LOCK_CHANGES",EO="PAUSE_RECORDING",ja=class{constructor(e,t){if(this.action=e,this.timestamp=t,this.type=gl,typeof e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Ub=class{constructor(){this.type=N6}},Bb=class{constructor(e){this.timestamp=e,this.type=hO}},$b=class{constructor(e){this.timestamp=e,this.type=fO}},Hb=class{constructor(e){this.timestamp=e,this.type=pO}},qb=class{constructor(){this.type=gO}},Gb=class{constructor(e){this.id=e,this.type=mO}};var Wb=class{constructor(e){this.index=e,this.type=yO}},Kb=class{constructor(e){this.actionId=e,this.type=vO}},Qb=class{constructor(e){this.nextLiftedState=e,this.type=Xb}},Yb=class{constructor(e){this.status=e,this.type=_O}},Zb=class{constructor(e){this.status=e,this.type=EO}};var $p=new F("@ngrx/store-devtools Options"),aO=new F("@ngrx/store-devtools Initial Config");function wO(){return null}var k6="NgRx Store DevTools";function F6(n){let e={maxAge:!1,monitor:wO,actionSanitizer:void 0,stateSanitizer:void 0,name:k6,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},t=typeof n=="function"?n():n,r=t.logOnly?{pause:!0,export:!0,test:!0}:!1,i=t.features||r||e.features;i.import===!0&&(i.import="custom");let o=Object.assign({},e,{features:i},t);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function cO(n,e){return n.filter(t=>e.indexOf(t)<0)}function IO(n){let{computedStates:e,currentStateIndex:t}=n;if(t>=e.length){let{state:i}=e[e.length-1];return i}let{state:r}=e[t];return r}function pl(n){return new ja(n,+Date.now())}function L6(n,e){return Object.keys(e).reduce((t,r)=>{let i=Number(r);return t[i]=bO(n,e[i],i),t},{})}function bO(n,e,t){return j(P({},e),{action:n(e.action,t)})}function V6(n,e){return e.map((t,r)=>({state:CO(n,t.state,r),error:t.error}))}function CO(n,e,t){return n(e,t)}function DO(n){return n.predicate||n.actionsSafelist||n.actionsBlocklist}function z6(n,e,t,r){let i=[],o={},s=[];return n.stagedActionIds.forEach((a,c)=>{let l=n.actionsById[a];l&&(c&&e0(n.computedStates[c],l,e,t,r)||(o[a]=l,i.push(a),s.push(n.computedStates[c])))}),j(P({},n),{stagedActionIds:i,actionsById:o,computedStates:s})}function e0(n,e,t,r,i){let o=t&&!t(n,e.action),s=r&&!e.action.type.match(r.map(c=>uO(c)).join("|")),a=i&&e.action.type.match(i.map(c=>uO(c)).join("|"));return o||s||a}function uO(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function TO(n){return{ngZone:n?N(De):null,connectInZone:n}}var Hp=(()=>{class n extends Cr{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=zr(n)))(i||n)}})()}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),jp={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Jb=new F("@ngrx/store-devtools Redux Devtools Extension"),SO=(()=>{class n{constructor(t,r,i){this.config=r,this.dispatcher=i,this.zoneConfig=TO(this.config.connectInZone),this.devtoolsExtension=t,this.createActionStreams()}notify(t,r){if(this.devtoolsExtension)if(t.type===gl){if(r.isLocked||r.isPaused)return;let i=IO(r);if(DO(this.config)&&e0(i,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?CO(this.config.stateSanitizer,i,r.currentStateIndex):i,s=this.config.actionSanitizer?bO(this.config.actionSanitizer,t,r.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(s,o))}else{let i=j(P({},r),{stagedActionIds:r.stagedActionIds,actionsById:this.config.actionSanitizer?L6(this.config.actionSanitizer,r.actionsById):r.actionsById,computedStates:this.config.stateSanitizer?V6(this.config.stateSanitizer,r.computedStates):r.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,i,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new oe(t=>{let r=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=r,r.init(),r.subscribe(i=>t.next(i)),r.unsubscribe}):ht}createActionStreams(){let t=this.createChangesObservable().pipe(Rm()),r=t.pipe(Qe(l=>l.type===jp.START)),i=t.pipe(Qe(l=>l.type===jp.STOP)),o=t.pipe(Qe(l=>l.type===jp.DISPATCH),Y(l=>this.unwrapAction(l.payload)),xr(l=>l.type===Xb?this.dispatcher.pipe(Qe(d=>d.type===Lp),Em(1e3),Im(1e3),Y(()=>l),Jt(()=>se(l)),Ye(1)):se(l))),a=t.pipe(Qe(l=>l.type===jp.ACTION),Y(l=>this.unwrapAction(l.payload))).pipe(co(i)),c=o.pipe(co(i));this.start$=r.pipe(co(i)),this.actions$=this.start$.pipe(ft(()=>a)),this.liftedActions$=this.start$.pipe(ft(()=>c))}unwrapAction(t){return typeof t=="string"?(0,eval)(`(${t})`):t}getExtensionConfig(t){let r={name:t.name,features:t.features,serialize:t.serialize,autoPause:t.autoPause??!1,trace:t.trace??!1,traceLimit:t.traceLimit??75};return t.maxAge!==!1&&(r.maxAge=t.maxAge),r}sendToReduxDevtools(t){try{t()}catch(r){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",r)}}static{this.\u0275fac=function(r){return new(r||n)(W(Jb),W($p),W(Hp))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})(),Bp={type:hl},j6="@ngrx/store-devtools/recompute",U6={type:j6};function AO(n,e,t,r,i){if(r)return{state:t,error:"Interrupted by an error up the chain"};let o=t,s;try{o=n(t,e)}catch(a){s=a.toString(),i.handleError(a)}return{state:o,error:s}}function Up(n,e,t,r,i,o,s,a,c){if(e>=n.length&&n.length===o.length)return n;let l=n.slice(0,e),d=o.length-(c?1:0);for(let f=e;f<d;f++){let g=o[f],m=i[g].action,v=l[f-1],I=v?v.state:r,S=v?v.error:void 0,O=s.indexOf(g)>-1?v:AO(t,m,I,S,a);l.push(O)}return c&&l.push(n[n.length-1]),l}function B6(n,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:pl(Bp)},stagedActionIds:[0],skippedActionIds:[],committedState:n,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function $6(n,e,t,r,i={}){return o=>(s,a)=>{let{monitorState:c,actionsById:l,nextActionId:d,stagedActionIds:f,skippedActionIds:g,committedState:m,currentStateIndex:v,computedStates:I,isLocked:S,isPaused:x}=s||e;s||(l=Object.create(l));function O(ne){let q=ne,b=f.slice(1,q+1);for(let _=0;_<b.length;_++)if(I[_+1].error){q=_,b=f.slice(1,q+1);break}else delete l[b[_]];g=g.filter(_=>b.indexOf(_)===-1),f=[0,...f.slice(q+1)],m=I[q].state,I=I.slice(q),v=v>q?v-q:0}function B(){l={0:pl(Bp)},d=1,f=[0],g=[],m=I[v].state,v=0,I=[]}let z=0;switch(a.type){case _O:{S=a.status,z=1/0;break}case EO:{x=a.status,x?(f=[...f,d],l[d]=new ja({type:"@ngrx/devtools/pause"},+Date.now()),d++,z=f.length-1,I=I.concat(I[I.length-1]),v===f.length-2&&v++,z=1/0):B();break}case hO:{l={0:pl(Bp)},d=1,f=[0],g=[],m=n,v=0,I=[];break}case pO:{B();break}case fO:{l={0:pl(Bp)},d=1,f=[0],g=[],v=0,I=[];break}case mO:{let{id:ne}=a;g.indexOf(ne)===-1?g=[ne,...g]:g=g.filter(b=>b!==ne),z=f.indexOf(ne);break}case O6:{let{start:ne,end:q,active:b}=a,_=[];for(let E=ne;E<q;E++)_.push(E);b?g=cO(g,_):g=[...g,..._],z=f.indexOf(ne);break}case yO:{v=a.index,z=1/0;break}case vO:{let ne=f.indexOf(a.actionId);ne!==-1&&(v=ne),z=1/0;break}case gO:{f=cO(f,g),g=[],v=Math.min(v,f.length-1);break}case gl:{if(S)return s||e;if(x||s&&e0(s.computedStates[v],a,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let q=I[I.length-1];I=[...I.slice(0,-1),AO(o,a.action,q.state,q.error,t)],z=1/0;break}i.maxAge&&f.length===i.maxAge&&O(1),v===f.length-1&&v++;let ne=d++;l[ne]=a,f=[...f,ne],z=f.length-1;break}case Xb:{({monitorState:c,actionsById:l,nextActionId:d,stagedActionIds:f,skippedActionIds:g,committedState:m,currentStateIndex:v,computedStates:I,isLocked:S,isPaused:x}=a.nextLiftedState);break}case hl:{z=0,i.maxAge&&f.length>i.maxAge&&(I=Up(I,z,o,m,l,f,g,t,x),O(f.length-i.maxAge),z=1/0);break}case Lp:{if(I.filter(q=>q.error).length>0)z=0,i.maxAge&&f.length>i.maxAge&&(I=Up(I,z,o,m,l,f,g,t,x),O(f.length-i.maxAge),z=1/0);else{if(!x&&!S){v===f.length-1&&v++;let q=d++;l[q]=new ja(a,+Date.now()),f=[...f,q],z=f.length-1,I=Up(I,z,o,m,l,f,g,t,x)}I=I.map(q=>j(P({},q),{state:o(q.state,U6)})),v=f.length-1,i.maxAge&&f.length>i.maxAge&&O(f.length-i.maxAge),z=1/0}break}default:{z=1/0;break}}return I=Up(I,z,o,m,l,f,g,t,x),c=r(c,a),{monitorState:c,actionsById:l,nextActionId:d,stagedActionIds:f,skippedActionIds:g,committedState:m,currentStateIndex:v,computedStates:I,isLocked:S,isPaused:x}}}var lO=(()=>{class n{constructor(t,r,i,o,s,a,c,l){let d=B6(c,l.monitor),f=$6(c,d,a,l.monitor,l),g=ao(ao(r.asObservable().pipe(Pm(1)),o.actions$).pipe(Y(pl)),t,o.liftedActions$).pipe(Sn(oo)),m=i.pipe(Y(f)),v=TO(l.connectInZone),I=new vs(1);this.liftedStateSubscription=g.pipe(Sc(m),dO(v),gi(({state:O},[B,z])=>{let ne=z(O,B);return B.type!==gl&&DO(l)&&(ne=z6(ne,l.predicate,l.actionsSafelist,l.actionsBlocklist)),o.notify(B,ne),{state:ne,action:B}},{state:d,action:null})).subscribe(({state:O,action:B})=>{if(I.next(O),B.type===gl){let z=B.action;s.next(z)}}),this.extensionStartSubscription=o.start$.pipe(dO(v)).subscribe(()=>{this.refresh()});let S=I.asObservable(),x=S.pipe(Y(IO));Object.defineProperty(x,"state",{value:lu(x,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=t,this.liftedState=S,this.state=x}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new ja(t,+Date.now()))}refresh(){this.dispatch(new Ub)}reset(){this.dispatch(new Bb(+Date.now()))}rollback(){this.dispatch(new $b(+Date.now()))}commit(){this.dispatch(new Hb(+Date.now()))}sweep(){this.dispatch(new qb)}toggleAction(t){this.dispatch(new Gb(t))}jumpToAction(t){this.dispatch(new Kb(t))}jumpToState(t){this.dispatch(new Wb(t))}importState(t){this.dispatch(new Qb(t))}lockChanges(t){this.dispatch(new Yb(t))}pauseRecording(t){this.dispatch(new Zb(t))}static{this.\u0275fac=function(r){return new(r||n)(W(Hp),W(Cr),W(ns),W(SO),W(rs),W(tn),W(fl),W($p))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac})}}return n})();function dO({ngZone:n,connectInZone:e}){return t=>e?new oe(r=>t.subscribe({next:i=>n.run(()=>r.next(i)),error:i=>n.run(()=>r.error(i)),complete:()=>n.run(()=>r.complete())})):t}var H6=new F("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function q6(n,e){return!!n||e.monitor!==wO}function G6(){let n="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[n]<"u"?window[n]:null}function MO(n={}){return Ft([SO,Hp,lO,{provide:aO,useValue:n},{provide:H6,deps:[Jb,$p],useFactory:q6},{provide:Jb,useFactory:G6},{provide:$p,deps:[aO],useFactory:F6},{provide:za,deps:[lO],useFactory:W6},{provide:Va,useExisting:Hp}])}function W6(n){return n.state}var RO={production:!1,firebaseConfig:{apiKey:"AIzaSyDyj1-Qst7PjRNnx3KbXi7imVjMYmsz3KI",authDomain:"pizza-builder-afa89.firebaseapp.com",projectId:"pizza-builder-afa89",storageBucket:"pizza-builder-afa89.firebasestorage.app",messagingSenderId:"1016501391766",appId:"1:1016501391766:web:b72e3b67618e75e748cdb7",measurementId:"G-4S3RL8WB7L"}};var qp=XN("order"),Ua=ni(qp,n=>n.pizzas),K6=n=>ni(qp,e=>e.pizzas.find(t=>t.id===n)),Gp=n=>ni(K6(n),e=>e?e.selectedIngredients:[]),PO=ni(qp,n=>n.totalAmount),Ba=ni(qp,n=>n.activePizzaId);function Q6(n,e){if(n&1&&($(0,"div"),Ee(1,"div")(2,"div")(3,"div")(4,"div")(5,"div"),H()),n&2){let t=e.$implicit,r=e.index;Ih("z-index",r),ke("@drop",void 0),Z(),xn("pizza-ingredient pizza-ingredient--",t.name,""),Z(),xn("pizza-ingredient pizza-ingredient--",t.name,""),Z(),xn("pizza-ingredient pizza-ingredient--",t.name,""),Z(),xn("pizza-ingredient pizza-ingredient--",t.name,""),Z(),xn("pizza-ingredient pizza-ingredient--",t.name,"")}}function Y6(n,e){if(n&1&&($(0,"div",4),Ee(1,"div",5)(2,"div",6),$(3,"div",7),rt(4,Q6,6,18,"div",8),Be(5,"async"),H()()),n&2){let t=e.index,r=Ue();vt("pizza--active",r.activePizzaId===t),Z(4),ke("ngForOf",it(5,3,r.ingredients$))}}var Z6=eN("drop",[eb(":enter",[Gi({transform:"translateY(-200px)",opacity:0}),XI("300ms cubic-bezier(1.000, 0.000, 0.000, 1.000)",Gi({transform:"translateY(0)",opacity:1}))]),eb(":leave",[Gi({transform:"translateY(0)",opacity:1}),XI("200ms cubic-bezier(1.000, 0.000, 0.000, 1.000)",Gi({transform:"translateY(-200px)",opacity:0}))])]),$a=class n{constructor(e){this.store=e;this.pizzas$=this.store.select(Ua),this.activePizzaId$=this.store.select(Ba),this.ingredients$=this.activePizzaId$.pipe(ft(t=>this.store.select(Gp(t))))}ingredients$;pizzas$;activePizzaId$;activePizzaId=0;ngOnInit(){this.activePizzaId$.subscribe(e=>{this.activePizzaId=e})}static \u0275fac=function(t){return new(t||n)(ie(Mt))};static \u0275cmp=Pe({type:n,selectors:[["pizza-preview"]],decls:5,vars:3,consts:[[1,"pizza-preview"],[1,"pizza-preview-table-side"],[1,"pizza-preview-table"],["class","pizza",3,"pizza--active",4,"ngFor","ngForOf"],[1,"pizza"],[1,"pizza-board"],[1,"pizza-base"],[1,"pizza-ingredients"],[3,"zIndex",4,"ngFor","ngForOf"]],template:function(t,r){t&1&&($(0,"div",0),Ee(1,"div",1)(2,"div",2),rt(3,Y6,6,5,"div",3),Be(4,"async"),H()),t&2&&(Z(3),ke("ngForOf",it(4,1,r.pizzas$)))},dependencies:[Je,dr,hr],styles:[".pizza-preview[_ngcontent-%COMP%]{width:530px;position:relative}.pizza-preview-table-side[_ngcontent-%COMP%], .pizza-preview-table[_ngcontent-%COMP%]{width:100%;height:auto;transform:none;left:0;background:#2e3744}.pizza-preview[_ngcontent-%COMP%]   .pizza[_ngcontent-%COMP%]{width:530px;height:342px;position:absolute;z-index:1;transform:translate3d(-530px,-282px,0);transition:transform .2s}.pizza-preview[_ngcontent-%COMP%]   .pizza--active[_ngcontent-%COMP%]{transform:translate3d(0,-30px,0)}.pizza-preview[_ngcontent-%COMP%]   .pizza-board[_ngcontent-%COMP%]{background:url(/pizza-builder/pizza-builder/images/board.svg) no-repeat 0 20px;background-size:contain;width:500px;height:342px;position:absolute;z-index:1;top:30px;left:30px}.pizza-preview[_ngcontent-%COMP%]   .pizza-base[_ngcontent-%COMP%]{background:url(/pizza-builder/images/base.svg) no-repeat;background-size:contain;width:390px;height:322px;position:absolute;right:23px;top:30px;z-index:2}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredients[_ngcontent-%COMP%]{width:352px;height:190px;position:absolute;right:42px;top:46px;z-index:3}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient[_ngcontent-%COMP%]{position:absolute;background-repeat:no-repeat;background-size:contain}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--anchovy[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/anchovy.svg);width:51px;height:37px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--anchovy[_ngcontent-%COMP%]:nth-child(1){left:140px;top:26px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--anchovy[_ngcontent-%COMP%]:nth-child(2){left:8px;top:82px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--anchovy[_ngcontent-%COMP%]:nth-child(3){left:263px;top:95px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--anchovy[_ngcontent-%COMP%]:nth-child(4), .pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--anchovy[_ngcontent-%COMP%]:nth-child(5){display:none}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--bacon[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/bacon.svg);width:56px;height:31px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--bacon[_ngcontent-%COMP%]:nth-child(1){left:124px;top:50px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--bacon[_ngcontent-%COMP%]:nth-child(2){left:39px;top:100px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--bacon[_ngcontent-%COMP%]:nth-child(3){left:132px;top:86px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--bacon[_ngcontent-%COMP%]:nth-child(4){left:199px;top:59px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--bacon[_ngcontent-%COMP%]:nth-child(5){left:140px;top:154px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--basil[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/basil.svg);width:46px;height:32px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--basil[_ngcontent-%COMP%]:nth-child(1){left:136px;top:63px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--basil[_ngcontent-%COMP%]:nth-child(2){left:126px;top:127px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--basil[_ngcontent-%COMP%]:nth-child(3){left:222px;top:98px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--basil[_ngcontent-%COMP%]:nth-child(4), .pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--basil[_ngcontent-%COMP%]:nth-child(5){display:none}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--chili[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/chili.svg);width:63px;height:35px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--chili[_ngcontent-%COMP%]:nth-child(1){left:150px;top:40px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--chili[_ngcontent-%COMP%]:nth-child(2){left:68px;top:77px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--chili[_ngcontent-%COMP%]:nth-child(3){left:52px;top:144px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--chili[_ngcontent-%COMP%]:nth-child(4){left:210px;top:17px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--chili[_ngcontent-%COMP%]:nth-child(5){left:240px;top:120px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--mozzarella[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/mozzarella.svg);width:46px;height:32px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--mozzarella[_ngcontent-%COMP%]:nth-child(1){left:6px;top:106px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--mozzarella[_ngcontent-%COMP%]:nth-child(2){left:186px;top:114px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--mozzarella[_ngcontent-%COMP%]:nth-child(3){left:162px;top:8px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--mozzarella[_ngcontent-%COMP%]:nth-child(4), .pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--mozzarella[_ngcontent-%COMP%]:nth-child(5){display:none}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--mushroom[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/mushroom.svg);width:45px;height:26px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--mushroom[_ngcontent-%COMP%]:nth-child(1){left:120px;top:20px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--mushroom[_ngcontent-%COMP%]:nth-child(2){left:40px;top:60px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--mushroom[_ngcontent-%COMP%]:nth-child(3){left:90px;top:120px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--mushroom[_ngcontent-%COMP%]:nth-child(4){left:240px;top:30px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--mushroom[_ngcontent-%COMP%]:nth-child(5){left:220px;top:129px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--olive[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/olive.svg);width:45px;height:26px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--olive[_ngcontent-%COMP%]:nth-child(1){left:161px;top:60px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--olive[_ngcontent-%COMP%]:nth-child(2){left:90px;top:57px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--olive[_ngcontent-%COMP%]:nth-child(3){left:110px;top:110px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--olive[_ngcontent-%COMP%]:nth-child(4){left:279px;top:47px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--olive[_ngcontent-%COMP%]:nth-child(5){display:none}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--onion[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/onion.svg);width:57px;height:36px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--onion[_ngcontent-%COMP%]:nth-child(1){left:101px;top:55px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--onion[_ngcontent-%COMP%]:nth-child(2){left:10px;top:61px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--onion[_ngcontent-%COMP%]:nth-child(3){left:261px;top:55px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--onion[_ngcontent-%COMP%]:nth-child(4){left:172px;top:132px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--onion[_ngcontent-%COMP%]:nth-child(5){display:none}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--pepper[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/pepper.svg);width:57px;height:36px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--pepper[_ngcontent-%COMP%]:nth-child(1){left:122px;top:30px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--pepper[_ngcontent-%COMP%]:nth-child(2){left:175px;top:87px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--pepper[_ngcontent-%COMP%]:nth-child(3){left:30px;top:81px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--pepper[_ngcontent-%COMP%]:nth-child(4){left:282px;top:69px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--pepper[_ngcontent-%COMP%]:nth-child(5){left:105px;top:147px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--pepperoni[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/pepperoni.svg);width:57px;height:36px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--pepperoni[_ngcontent-%COMP%]:nth-child(1){left:222px;top:35px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--pepperoni[_ngcontent-%COMP%]:nth-child(2){left:145px;top:107px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--pepperoni[_ngcontent-%COMP%]:nth-child(3){left:81px;top:21px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--pepperoni[_ngcontent-%COMP%]:nth-child(4){left:221px;top:80px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--pepperoni[_ngcontent-%COMP%]:nth-child(5){left:75px;top:137px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--sweetcorn[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/sweetcorn.svg);width:57px;height:36px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--sweetcorn[_ngcontent-%COMP%]:nth-child(1){left:192px;top:35px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--sweetcorn[_ngcontent-%COMP%]:nth-child(2){left:41px;top:41px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--sweetcorn[_ngcontent-%COMP%]:nth-child(3){left:212px;top:146px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--sweetcorn[_ngcontent-%COMP%]:nth-child(4), .pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--sweetcorn[_ngcontent-%COMP%]:nth-child(5){display:none}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--tomato[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/tomato.svg);width:57px;height:36px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--tomato[_ngcontent-%COMP%]:nth-child(1){left:175px;top:147px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--tomato[_ngcontent-%COMP%]:nth-child(2){left:41px;top:41px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--tomato[_ngcontent-%COMP%]:nth-child(3){left:85px;top:100px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--tomato[_ngcontent-%COMP%]:nth-child(4){left:280px;top:99px}.pizza-preview[_ngcontent-%COMP%]   .pizza-ingredient--tomato[_ngcontent-%COMP%]:nth-child(5){display:none}@media (max-width: 768px){.pizza-preview-table-side[_ngcontent-%COMP%], .pizza-preview-table[_ngcontent-%COMP%]{width:100%;transform:none;position:relative;left:0;height:auto;z-index:0}.pizza[_ngcontent-%COMP%]{padding-left:15px;margin-left:-10px;background:#2e3744}.pizza-board[_ngcontent-%COMP%]{width:385px!important;height:310px!important;position:unset!important}.pizza-base[_ngcontent-%COMP%], .pizza-ingredients[_ngcontent-%COMP%]{width:310px!important;right:160px!important;top:15px!important}}"],data:{animation:[Z6]}})};function J6(n,e){if(n&1&&($(0,"div",6),Ee(1,"i",7),ae(2),Be(3,"titlecase"),H()),n&2){let t=e.$implicit;Z(2),Yt(" ",it(3,1,t.name)," ")}}function X6(n,e){if(n&1&&($(0,"h3"),ae(1),Be(2,"titlecase"),$(3,"span",4),ae(4),Be(5,"currency"),H()(),$(6,"div",5),Hs(7,J6,4,3,"div",6,aA),H()),n&2){let t=Ue().$implicit;Z(),Yt(" ",it(2,2,t.size)," Pizza "),Z(3),Yt(" ",Ov(5,4,t.price,"EUR","symbol")," "),Z(3),qs(t.selectedIngredients)}}function eW(n,e){if(n&1&&($(0,"div",3),rt(1,X6,9,8),H()),n&2){let t=e.$implicit;Z(),Jn(t.size?1:-1)}}var Ha=class n{constructor(e){this.store=e;this.pizzas$=this.store.select(Ua),this.totalPrice$=this.store.select(PO)}pizzas$;totalPrice$;static \u0275fac=function(t){return new(t||n)(ie(Mt))};static \u0275cmp=Pe({type:n,selectors:[["order-summary"]],decls:9,vars:10,consts:[[1,"pizza-summary"],["class","pizza-summary__pizza",4,"ngFor","ngForOf"],[1,"pizza-summary__total-price"],[1,"pizza-summary__pizza"],[1,"pizza-summary__price"],[1,"pizza-summary__ingredients"],[1,"pizza-summary__ingredient"],[1,"fa","fa-plus"]],template:function(t,r){t&1&&($(0,"div",0)(1,"h2"),ae(2,"Order Summary"),H(),rt(3,eW,2,1,"div",1),Be(4,"async"),$(5,"div",2),ae(6),Be(7,"async"),Be(8,"currency"),H()()),t&2&&(Z(3),ke("ngForOf",it(4,2,r.pizzas$)),Z(3),Yt("Total: ",Ov(8,6,it(7,4,r.totalPrice$),"EUR","symbol"),""))},dependencies:[Je,dr,hr,Pi,LA],styles:[".pizza-summary[_ngcontent-%COMP%]{color:#0009}.pizza-summary__pizza[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid rgba(0,0,0,.3)}.pizza-summary__pizza[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:300;margin:0;position:relative}.pizza-summary__price[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;display:block;font-weight:300;color:#00000080}.pizza-summary__ingredient[_ngcontent-%COMP%]{position:relative;font-size:16px;color:#000000b3;margin-left:10px}.pizza-summary__ingredient[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:10px;font-size:14px;margin-top:10px}.pizza-summary__total-price[_ngcontent-%COMP%]{text-align:right}@media (max-width: 768px){[_nghost-%COMP%]{display:flex;justify-content:center}.pizza-summary[_ngcontent-%COMP%]{width:100vw}}"]})};var Wp=bt("[Order] Add Pizza",dn()),Kp=bt("[Order] Remove Pizza",dn()),Qp=bt("[Order] Add Ingredient",dn()),Yp=bt("[Order] Remove Ingredient",dn()),xO=bt("[Order] Update Item Quantity",dn()),NO=bt("[Order] Clear Order"),qa=bt("[Order] Set Active Pizza",dn()),Zp=bt("[Order] Update Pizza Size",dn());var ml=(r=>(r.Small="small",r.Medium="medium",r.Large="large",r))(ml||{});var tW=n=>n.ingredient,Jp=ni(tW,n=>n.ingredients);var Ki=bt("[Ingredient] Load Ingredients"),yl=bt("[Ingredient] Load Ingredients Success",dn()),Xp=bt("[Ingredient] Load Ingredients Failure",dn()),eg=bt("[Ingredient] Update Ingredient",dn()),tg=bt("[Ingredient] Update Ingredient Success",dn()),ng=bt("[Ingredient] Update Ingredient Failure",dn());function nW(n,e){if(n&1){let t=lr();$(0,"label",2),Be(1,"async"),$(2,"input",3),Be(3,"async"),Fe("change",function(){let i=Wn(t).$implicit,o=Ue();return Kn(o.updateIngredient(i))}),H(),Ee(4,"span"),ae(5),Be(6,"titlecase"),H()}if(n&2){let t=e.$implicit,r=Ue();vt("pizza-ingredient--active",it(1,9,r.checkIngredient(t))),Z(2),ke("checked",it(3,11,r.checkIngredient(t))),Pn("name",t)("value",t),Z(2),xn("pizza-ingredient__icon pizza-ingredient__icon--",t,""),Z(),Yt(" ",it(6,13,t)," ")}}var rg=class n{constructor(e){this.store=e;this.activePizzaId$=this.store.select(Ba),this.selectedIngredients$=this.activePizzaId$.pipe(ft(t=>this.store.select(Gp(t)))),this.ingredients$=this.store.select(Jp),this.store.dispatch(Ki())}ingredients=[];activePizzaId$;selectedIngredients$;activePizzaId=0;ingredients$;ngOnInit(){this.activePizzaId$.subscribe(e=>{this.activePizzaId=e}),this.ingredients$.subscribe(e=>{this.ingredients=e.filter(t=>t.visible===!0).map(t=>t.name)})}updateIngredient(e){this.activePizzaId$.pipe(Ye(1)).subscribe(t=>{this.selectedIngredients$.pipe(Ye(1)).subscribe(r=>{let i=r.find(o=>o.name===e);if(i)this.store.dispatch(Yp({pizzaId:t,ingredientId:i.id}));else{let s={id:r.length+1,name:e,pizzaId:t,visible:!0};this.store.dispatch(Qp({ingredient:s}))}})})}checkIngredient(e){return this.selectedIngredients$.pipe(Y(t=>t.some(r=>r.name===e)))}static \u0275fac=function(t){return new(t||n)(ie(Mt))};static \u0275cmp=Pe({type:n,selectors:[["pizza-ingredients"]],decls:2,vars:1,consts:[[1,"pizza-ingredients"],["class","pizza-ingredient",3,"pizza-ingredient--active",4,"ngFor","ngForOf"],[1,"pizza-ingredient"],["type","checkbox",3,"change","checked"]],template:function(t,r){t&1&&($(0,"div",0),rt(1,nW,7,15,"label",1),H()),t&2&&(Z(),ke("ngForOf",r.ingredients))},dependencies:[Je,dr,hr,Pi],styles:[".pizza-ingredients[_ngcontent-%COMP%]{margin:10px 0;display:flex;flex-wrap:wrap;justify-content:space-between}.pizza-ingredient[_ngcontent-%COMP%]{margin:20px 0 0;background:#0000000d;border-radius:3px;font-size:16px;color:#000000b3;padding:10px 15px 10px 53px;cursor:pointer;overflow:hidden;position:relative;flex-basis:24%;flex-shrink:1;-webkit-user-select:none;user-select:none}.pizza-ingredient[_ngcontent-%COMP%]:nth-child(4n){margin-right:0}.pizza-ingredient[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.pizza-ingredient--focused[_ngcontent-%COMP%]{background:#00000026;font-weight:500}.pizza-ingredient--active[_ngcontent-%COMP%]{background:#1a98e1;color:#fff;font-weight:500}.pizza-ingredient--extra[_ngcontent-%COMP%]   .pizza-ingredient__extra[_ngcontent-%COMP%]{transform:rotate(90deg) translateZ(0)}.pizza-ingredient__extra[_ngcontent-%COMP%]{background-color:#0003;color:#fff;display:block;text-transform:uppercase;width:50px;font-size:12px;position:absolute;right:-15px;top:11px;padding:2px 0;text-align:center;transform:rotate(90deg) translate3d(0,-20px,0);transition:transform .1s linear}.pizza-ingredient__icon[_ngcontent-%COMP%]{background:#e6e6e6 no-repeat center center;background-size:30px;width:40px;display:block;position:absolute;top:0;left:0;bottom:0}.pizza-ingredient__icon--anchovy[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/anchovy.svg)}.pizza-ingredient__icon--bacon[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/bacon.svg)}.pizza-ingredient__icon--basil[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/basil.svg)}.pizza-ingredient__icon--chili[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/chili.svg)}.pizza-ingredient__icon--mozzarella[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/mozzarella.svg)}.pizza-ingredient__icon--mushroom[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/mushroom.svg)}.pizza-ingredient__icon--olive[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/olive.svg)}.pizza-ingredient__icon--onion[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/onion.svg)}.pizza-ingredient__icon--pepper[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/pepper.svg)}.pizza-ingredient__icon--pepperoni[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/pepperoni.svg)}.pizza-ingredient__icon--sweetcorn[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/sweetcorn.svg)}.pizza-ingredient__icon--tomato[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/tomato.svg)}"]})};var BO=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ie(Bs),ie(bo))};static \u0275dir=sn({type:n})}return n})(),rW=(()=>{class n extends BO{static \u0275fac=(()=>{let t;return function(i){return(t||(t=zr(n)))(i||n)}})();static \u0275dir=sn({type:n,features:[Ai]})}return n})(),fg=new F("");var iW={provide:fg,useExisting:Ci(()=>Ya),multi:!0};function oW(){let n=jr()?jr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var sW=new F(""),Ya=(()=>{class n extends BO{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!oW())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ie(Bs),ie(bo),ie(sW,8))};static \u0275dir=sn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Fe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Gs([iW]),Ai]})}return n})();function Qi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function $O(n){return n!=null&&typeof n.length=="number"}var HO=new F(""),qO=new F(""),aW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Rt=class{static min(e){return cW(e)}static max(e){return uW(e)}static required(e){return lW(e)}static requiredTrue(e){return dW(e)}static email(e){return hW(e)}static minLength(e){return fW(e)}static maxLength(e){return pW(e)}static pattern(e){return gW(e)}static nullValidator(e){return GO(e)}static compose(e){return JO(e)}static composeAsync(e){return ek(e)}};function cW(n){return e=>{if(Qi(e.value)||Qi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function uW(n){return e=>{if(Qi(e.value)||Qi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function lW(n){return Qi(n.value)?{required:!0}:null}function dW(n){return n.value===!0?null:{required:!0}}function hW(n){return Qi(n.value)||aW.test(n.value)?null:{email:!0}}function fW(n){return e=>Qi(e.value)||!$O(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function pW(n){return e=>$O(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function gW(n){if(!n)return GO;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Qi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function GO(n){return null}function WO(n){return n!=null}function KO(n){return Mi(n)?Ke(n):n}function QO(n){let e={};return n.forEach(t=>{e=t!=null?P(P({},e),t):e}),Object.keys(e).length===0?null:e}function YO(n,e){return e.map(t=>t(n))}function mW(n){return!n.validate}function ZO(n){return n.map(e=>mW(e)?e:t=>e.validate(t))}function JO(n){if(!n)return null;let e=n.filter(WO);return e.length==0?null:function(t){return QO(YO(t,e))}}function XO(n){return n!=null?JO(ZO(n)):null}function ek(n){if(!n)return null;let e=n.filter(WO);return e.length==0?null:function(t){let r=YO(t,e).map(KO);return wm(r).pipe(Y(QO))}}function tk(n){return n!=null?ek(ZO(n)):null}function OO(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nk(n){return n._rawValidators}function rk(n){return n._rawAsyncValidators}function n0(n){return n?Array.isArray(n)?n:[n]:[]}function sg(n,e){return Array.isArray(n)?n.includes(e):n===e}function kO(n,e){let t=n0(e);return n0(n).forEach(i=>{sg(t,i)||t.push(i)}),t}function FO(n,e){return n0(e).filter(t=>!sg(n,t))}var ag=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=XO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ka=class extends ag{name;get formDirective(){return null}get path(){return null}},Il=class extends ag{_parent=null;name=null;valueAccessor=null},cg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},yW={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hce=j(P({},yW),{"[class.ng-submitted]":"isSubmitted"}),Za=(()=>{class n extends cg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ie(Il,2))};static \u0275dir=sn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&vt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ai]})}return n})(),Ja=(()=>{class n extends cg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ie(Ka,10))};static \u0275dir=sn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&vt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ai]})}return n})();var vl="VALID",ig="INVALID",Ga="PENDING",_l="DISABLED",Yi=class{},ug=class extends Yi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},El=class extends Yi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},wl=class extends Yi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Wa=class extends Yi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},r0=class extends Yi{source;constructor(e){super(),this.source=e}},i0=class extends Yi{source;constructor(e){super(),this.source=e}};function a0(n){return(pg(n)?n.validators:n)||null}function vW(n){return Array.isArray(n)?XO(n):n||null}function c0(n,e){return(pg(e)?e.asyncValidators:n)||null}function _W(n){return Array.isArray(n)?tk(n):n||null}function pg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ik(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function ok(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new V(1002,"")})}var Qa=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return an(this.statusReactive)}set status(e){an(()=>this.statusReactive.set(e))}_status=Nn(()=>this.statusReactive());statusReactive=ur(void 0);get valid(){return this.status===vl}get invalid(){return this.status===ig}get pending(){return this.status==Ga}get disabled(){return this.status===_l}get enabled(){return this.status!==_l}errors;get pristine(){return an(this.pristineReactive)}set pristine(e){an(()=>this.pristineReactive.set(e))}_pristine=Nn(()=>this.pristineReactive());pristineReactive=ur(!0);get dirty(){return!this.pristine}get touched(){return an(this.touchedReactive)}set touched(e){an(()=>this.touchedReactive.set(e))}_touched=Nn(()=>this.touchedReactive());touchedReactive=ur(!1);get untouched(){return!this.touched}_events=new Oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FO(e,this._rawAsyncValidators))}hasValidator(e){return sg(this._rawValidators,e)}hasAsyncValidator(e){return sg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(j(P({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new wl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new wl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(j(P({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new El(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new El(!0,r))}markAsPending(e={}){this.status=Ga;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(j(P({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=_l,this.errors=null,this._forEachChild(i=>{i.disable(j(P({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ug(this.value,r)),this._events.next(new Wa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(j(P({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=vl,this._forEachChild(r=>{r.enable(j(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(j(P({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vl||this.status===Ga)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ug(this.value,t)),this._events.next(new Wa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(j(P({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_l:vl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ga,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=KO(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Wa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new mt,this.statusChanges=new mt}_calculateStatus(){return this._allControlsDisabled()?_l:this.errors?ig:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ga)?Ga:this._anyControlsHaveStatus(ig)?ig:vl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new El(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new wl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=vW(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=_W(this._rawAsyncValidators)}},lg=class extends Qa{constructor(e,t,r){super(a0(t),c0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ok(this,!0,e),Object.keys(e).forEach(r=>{ik(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var o0=class extends lg{};var sk=new F("CallSetDisabledState",{providedIn:"root",factory:()=>u0}),u0="always";function EW(n,e){return[...e.path,n]}function LO(n,e,t=u0){l0(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),IW(n,e),CW(n,e),bW(n,e),wW(n,e)}function VO(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),hg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function dg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function wW(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function l0(n,e){let t=nk(n);e.validator!==null?n.setValidators(OO(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=rk(n);e.asyncValidator!==null?n.setAsyncValidators(OO(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();dg(e._rawValidators,i),dg(e._rawAsyncValidators,i)}function hg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=nk(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=rk(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return dg(e._rawValidators,r),dg(e._rawAsyncValidators,r),t}function IW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ak(n,e)})}function bW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ak(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ak(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function CW(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function DW(n,e){n==null,l0(n,e)}function TW(n,e){return hg(n,e)}function SW(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function AW(n){return Object.getPrototypeOf(n.constructor)===rW}function MW(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function RW(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ya?t=o:AW(o)?r=o:i=o}),i||r||t||null}function PW(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function zO(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function jO(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var og=class extends Qa{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(a0(t),c0(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(jO(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){jO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xW=n=>n instanceof og;var Xa=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=sn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var ck=new F("");var NW={provide:Ka,useExisting:Ci(()=>os)},os=(()=>{class n extends Ka{callSetDisabledState;get submitted(){return an(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Nn(()=>this._submittedReactive());_submittedReactive=ur(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new mt;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return LO(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){VO(t.control||null,t,!1),PW(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),MW(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new r0(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new i0(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(VO(r||null,t),xW(i)&&(LO(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);DW(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&TW(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){l0(this.form,this),this._oldForm&&hg(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(ie(HO,10),ie(qO,10),ie(sk,8))};static \u0275dir=sn({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Fe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Gs([NW]),Ai,Us]})}return n})();var OW={provide:Il,useExisting:Ci(()=>ss)},ss=(()=>{class n extends Il{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new mt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=RW(this,o)}ngOnChanges(t){this._added||this._setUpControl(),SW(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return EW(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(ie(Ka,13),ie(HO,10),ie(qO,10),ie(fg,10),ie(ck,8))};static \u0275dir=sn({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Gs([OW]),Ai,Us]})}return n})();var kW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Zn({type:n});static \u0275inj=qn({})}return n})(),s0=class extends Qa{constructor(e,t,r){super(a0(t),c0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ok(this,!1,e),e.forEach((r,i)=>{ik(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function UO(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ec=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return UO(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new lg(i,o)}record(t,r=null){let i=this._reduceControls(t);return new o0(i,r)}control(t,r,i){let o={};return this.useNonNullable?(UO(r)?o=r:(o.validators=r,o.asyncValidators=i),new og(t,j(P({},o),{nonNullable:!0}))):new og(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new s0(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof og)return t;if(t instanceof Qa)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ck,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:sk,useValue:t.callSetDisabledState??u0}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Zn({type:n});static \u0275inj=qn({imports:[kW]})}return n})();function FW(n,e){if(n&1){let t=lr();$(0,"label",2)(1,"input",3),Fe("change",function(){let i=Wn(t).$implicit,o=Ue();return Kn(o.onChangeSize(i.type))}),H(),$(2,"div",4)(3,"div"),Ee(4,"div",5)(5,"div",5)(6,"div",5)(7,"div",5),H()(),$(8,"div",6),ae(9),Be(10,"titlecase"),H()()}if(n&2){let t=e.$implicit,r=e.index,i=Ue();vt("pizza-size__item--active",i.value===t.type),Z(),ke("checked",i.value===t.type),Pn("value",t.type),Z(2),xn("pizza-size__pizza pizza-size__pizza--",t.type,""),Z(5),vt("first",r===0),Z(),Xc("",it(10,11,t.type)," (",t.centimeters,"cm)")}}var gg=class n{value="small";sizes=[{type:"small",centimeters:30},{type:"medium",centimeters:40},{type:"large",centimeters:50}];onChange=()=>{};onTouched=()=>{};onChangeSize(e){this.value=e,this.onChange(e),this.onTouched()}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Pe({type:n,selectors:[["pizza-size"]],features:[Gs([{provide:fg,useExisting:Ci(()=>n),multi:!0}])],decls:2,vars:1,consts:[[1,"pizza-size","section"],["class","pizza-size__item",3,"pizza-size__item--active",4,"ngFor","ngForOf"],[1,"pizza-size__item"],["type","radio","name","size",3,"change","checked"],[1,"pizza-size__plate"],[1,"pizza-size__pizza__line"],[1,"type-text"]],template:function(t,r){t&1&&($(0,"div",0),rt(1,FW,11,13,"label",1),H()),t&2&&(Z(),ke("ngForOf",r.sizes))},dependencies:[Je,dr,Pi],styles:['[_nghost-%COMP%], .pizza-size[_ngcontent-%COMP%]{display:flex;width:75%}.pizza-size__item[_ngcontent-%COMP%]{margin:0 0 20px;font-size:16px;color:#000000b3;cursor:pointer;flex:0 0 33%;height:80px;position:relative;padding:29px 0 0 100px}.pizza-size__item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.pizza-size__item--active[_ngcontent-%COMP%]{color:#1a98e1;font-weight:400}.pizza-size__item--active[_ngcontent-%COMP%]   .pizza-size__plate[_ngcontent-%COMP%]{background:#f3f3f3;border:3px solid #dbdbdb}.pizza-size__item--active[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]{background:#f3f3f3}.pizza-size__item--focused[_ngcontent-%COMP%]   .pizza-size__plate[_ngcontent-%COMP%]{background:#dbdbdb;border:3px solid #c2c2c2}.pizza-size__plate[_ngcontent-%COMP%]{top:50%;left:10px;position:absolute;border:3px solid transparent;padding:6px;transform:translate3d(0,-50%,0);border-radius:50%}.pizza-size__pizza[_ngcontent-%COMP%]{background:#fedb79;border:2px solid #deb989;height:60px;width:60px;border-radius:50%;position:relative}.pizza-size__pizza__line[_ngcontent-%COMP%]{background:#fff;width:2px;height:62px;position:absolute;left:27px;transform:rotate(0);transform-origin:center;top:-3px}.pizza-size__pizza__line[_ngcontent-%COMP%]:before, .pizza-size__pizza__line[_ngcontent-%COMP%]:after{width:5px;height:5px;border-radius:50%;content:" ";position:absolute;background:#9a2f17}.pizza-size__pizza__line[_ngcontent-%COMP%]:before{left:18px;top:20px}.pizza-size__pizza__line[_ngcontent-%COMP%]:after{right:18px;bottom:20px}.pizza-size__pizza--small[_ngcontent-%COMP%]{height:40px;width:40px}.pizza-size__pizza--small[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]{height:42px;left:17px}.pizza-size__pizza--small[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0)}.pizza-size__pizza--small[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:nth-child(2){transform:rotate(90deg)}.pizza-size__pizza--small[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:before{left:7px;top:10px}.pizza-size__pizza--small[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:after{right:7px;bottom:10px}.pizza-size__pizza--medium[_ngcontent-%COMP%]{height:50px;width:50px}.pizza-size__pizza--medium[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]{height:52px;left:22px}.pizza-size__pizza--medium[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0)}.pizza-size__pizza--medium[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:nth-child(2){transform:rotate(60deg)}.pizza-size__pizza--medium[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:nth-child(3){transform:rotate(-60deg)}.pizza-size__pizza--medium[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:before{left:15px;top:23px}.pizza-size__pizza--medium[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:after{right:15px;bottom:23px}.pizza-size__pizza--large[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0)}.pizza-size__pizza--large[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:nth-child(2){transform:rotate(45deg)}.pizza-size__pizza--large[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:nth-child(3){transform:rotate(90deg)}.pizza-size__pizza--large[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:nth-child(4){transform:rotate(135deg)}@media (max-width: 768px){__item[_nghost-%COMP%], .pizza-size__item[_ngcontent-%COMP%]{height:min-content;margin-left:-20px;padding:0 0 0 65px}.type-text.first[_ngcontent-%COMP%]{margin-left:-4px}.type-text[_ngcontent-%COMP%]{margin-left:15px}}']})};function LW(n,e){if(n&1){let t=lr();$(0,"div")(1,"div",4),Fe("click",function(){let i=Wn(t).index,o=Ue(2);return Kn(o.togglePizza(i))}),Ee(2,"i",5),Be(3,"async"),Be(4,"async"),ae(5),H(),$(6,"div",6),Be(7,"async"),$(8,"h3"),ae(9,"Select the size"),H(),$(10,"form",7)(11,"pizza-size",8),Fe("change",function(i){Wn(t);let o=Ue(2);return Kn(o.updatePizzaSize(i))}),H()(),$(12,"h3"),ae(13,"Pick your ingredients"),H(),Ee(14,"pizza-ingredients"),H()()}if(n&2){let t=e.$implicit,r=e.index,i=Ue(2);Z(2),vt("fa-chevron-down",it(3,8,i.activePizzaId$)!==t.id)("fa-chevron-up",it(4,10,i.activePizzaId$)===t.id),Z(3),Yt(" Pizza ",r+1," "),Z(),vt("pizza-creator__content--open",it(7,12,i.activePizzaId$)===t.id),Z(4),ke("formGroup",i.form)}}function VW(n,e){if(n&1&&($(0,"div"),rt(1,LW,15,14,"div",3),H()),n&2){let t=e.ngIf;Z(),ke("ngForOf",t)}}var mg=class n{constructor(e,t,r){this.store=e;this.fb=t;this.router=r;this.pizzas$=this.store.select(Ua),this.activePizzaId$=this.store.select(Ba),this.form=this.fb.group({pizzaSize:["small"]})}pizzas$;pizzaSizes=ml;activePizzaId$;form;ngOnInit(){this.pizzas$.subscribe(e=>{e.length===0&&this.addPizza()})}addPizza(){this.pizzas$.pipe(Ye(1)).subscribe(e=>{let t=e.length,r={id:t,size:this.pizzaSizes.Small,name:"Pizza",price:1,quantity:1,selectedIngredients:[]};this.store.dispatch(Wp({pizza:r})),this.store.dispatch(qa({pizzaId:t}))})}removePizza(e){this.pizzas$.pipe(Ye(1)).subscribe(t=>{let r=t[e].id;this.store.dispatch(Kp({pizzaId:r}));let i=t.length>1?t[t.length-2].id:0;this.store.dispatch(qa({pizzaId:i}))})}togglePizza(e){this.pizzas$.pipe(Ye(1)).subscribe(t=>{let r=t[e].id;this.store.dispatch(qa({pizzaId:r}))})}updatePizzaSize(e){let t=e.target.value;this.store.dispatch(Zp({size:t}))}static \u0275fac=function(t){return new(t||n)(ie(Mt),ie(ec),ie(Vt))};static \u0275cmp=Pe({type:n,selectors:[["pizza-creator"]],decls:7,vars:3,consts:[[1,"pizza-creator"],["type","button",1,"button",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pizza-creator__header",3,"click"],[1,"fa","fa-fw","pizza-creator__icon"],[1,"pizza-creator__content"],[3,"formGroup"],["formControlName","pizzaSize",3,"change"]],template:function(t,r){t&1&&($(0,"div",0)(1,"h2"),ae(2," Choose your pizzas "),$(3,"button",1),Fe("click",function(){return r.addPizza()}),ae(4,"+ Add pizza"),H()(),rt(5,VW,2,1,"div",2),Be(6,"async"),H()),t&2&&(Z(5),ke("ngIf",it(6,1,r.pizzas$)))},dependencies:[gg,Je,dr,Mh,hr,rg,tc,Xa,Za,Ja,os,ss],styles:[".pizza-creator[_ngcontent-%COMP%]{border-radius:5px;overflow:hidden;margin-bottom:20px}.pizza-creator[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background:none;cursor:pointer;color:#97c747;border:none;padding:10px 15px;font-size:15px;outline:none}.pizza-creator__header[_ngcontent-%COMP%]{font-size:16px;margin-top:2px;padding:10px 15px;color:#0009;background:#0000000d;border-radius:4px;position:relative;cursor:pointer}.pizza-creator__icon[_ngcontent-%COMP%]{font-size:14px;margin-right:10px;position:relative;top:-2px}.pizza-creator__status[_ngcontent-%COMP%]{font-size:14px;margin-left:5px;position:relative;top:-1px}.pizza-creator__status.fa-check[_ngcontent-%COMP%]{color:#98c550}.pizza-creator__status.fa-times[_ngcontent-%COMP%]{color:#e31736}.pizza-creator__delete[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;top:4px;right:4px;padding:9px;border-radius:3px;cursor:pointer;color:#e31736;font-size:14px}.pizza-creator__delete[_ngcontent-%COMP%]:hover{background:#0000000d}.pizza-creator__icon-trash[_ngcontent-%COMP%]{width:20px;height:20px}.pizza-creator__content[_ngcontent-%COMP%]{display:none;padding:10px 15px}.pizza-creator__content--open[_ngcontent-%COMP%]{display:block}.pizza-creator[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.pizza-creator[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#6e7790;font-size:16px;position:relative;margin-bottom:10px}"]})};var yg=class n{constructor(e){this.router=e}goToOrder(){this.router.navigate(["order"])}managerLogin(){this.router.navigate(["manager"])}static \u0275fac=function(t){return new(t||n)(ie(Vt))};static \u0275cmp=Pe({type:n,selectors:[["app-pizza-builder"]],decls:10,vars:0,consts:[[1,"pizza-builder-container"],[1,"pizza-creator-container"],[1,"login-btn-container"],["type","button",1,"login-btn",3,"click"],[1,"pizza-continiue-button",3,"click"]],template:function(t,r){t&1&&($(0,"div",0),Ee(1,"pizza-preview"),$(2,"div",1)(3,"div",2)(4,"button",3),Fe("click",function(){return r.managerLogin()}),ae(5," Login as manager "),H()(),Ee(6,"pizza-creator")(7,"order-summary"),$(8,"button",4),Fe("click",function(){return r.goToOrder()}),ae(9,"Continiue"),H()()())},dependencies:[$a,mg,Ha],styles:["[_nghost-%COMP%], .pizza-builder-container[_ngcontent-%COMP%]{height:100%;display:flex;width:100%}.login-btn-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-right:20px}.login-btn[_ngcontent-%COMP%]{background:none;cursor:pointer;color:#97c747;border:none;padding:10px 15px;font-size:15px;outline:none}.pizza-creator-container[_ngcontent-%COMP%]{background:#fff;position:relative;z-index:2;flex-grow:1;margin-left:20px;box-shadow:0 1px 54px #00000045;padding:20px 30px;height:100%;max-width:1400px}@media (max-width: 768px){.pizza-builder-container[_ngcontent-%COMP%]{width:unset;flex-direction:column;background:#2e3744;align-items:center}.pizza-creator-container[_ngcontent-%COMP%]{top:250px;margin:0;overflow-y:unset}}.pizza-continiue-button[_ngcontent-%COMP%]{width:100%;background:#98c550;border:none;padding:10px 15px;text-align:center;font-size:18px;color:#ffffffe6;border-radius:5px;cursor:pointer;margin-top:20px;font-family:inherit}.pizza-continiue-button[_ngcontent-%COMP%]:disabled{background:#0000001a;color:#0006;cursor:not-allowed}"]})};var zW=(n,e)=>e.name;function jW(n,e){n&1&&ae(0," Field is required ")}function UW(n,e){n&1&&ae(0," Min of 3 characters ")}function BW(n,e){n&1&&ae(0," Max of 50 characters ")}function $W(n,e){n&1&&ae(0," Type field in correct format ")}function HW(n,e){if(n&1&&($(0,"span",4),rt(1,jW,1,0)(2,UW,1,0)(3,BW,1,0)(4,$W,1,0),H()),n&2){let t,r,i,o,s=Ue().$implicit,a=Ue();Z(),Jn((t=a.orderForm.get(s.name))!=null&&t.hasError("required")?1:-1),Z(),Jn((r=a.orderForm.get(s.name))!=null&&r.hasError("minlength")?2:-1),Z(),Jn((i=a.orderForm.get(s.name))!=null&&i.hasError("maxlength")?3:-1),Z(),Jn((o=a.orderForm.get(s.name))!=null&&o.hasError("pattern")?4:-1)}}function qW(n,e){if(n&1&&($(0,"div",2)(1,"label"),ae(2),$(3,"span",3),ae(4,"*"),H(),rt(5,HW,5,4,"span",4),H(),Ee(6,"input",5),H()),n&2){let t,r=e.$implicit,i=Ue();Z(2),Yt(" ",r.label," "),Z(3),Jn((t=i.orderForm.get(r.name))!=null&&t.errors&&((t=i.orderForm.get(r.name))!=null&&t.touched)?5:-1),Z(),ke("formControlName",r.name)("type",r.type)("placeholder",r.placeholder)}}var vg=class n{constructor(e){this.fb=e}orderForm;formDataSignal=WT();fields=[{name:"name",label:"Name",type:"text",placeholder:"Jan Kowalski"},{name:"email",label:"Email",type:"email",placeholder:"Enter your email"},{name:"address",label:"Address",type:"text",placeholder:"Street"},{name:"postcode",label:"Postcode",type:"text",placeholder:"00-000"},{name:"phone",label:"Contact Number",type:"text",placeholder:"+48 123 456 789"}];ngOnInit(){this.orderForm=this.fb.group({name:["",[Rt.required,Rt.minLength(3),Rt.maxLength(50)]],email:["",[Rt.required,Rt.email]],phone:["",[Rt.required,Rt.pattern(/^\+\d{1,3}(\s?\d{3}){3}$/)]],address:["",[Rt.required,Rt.minLength(3)]],postcode:["",[Rt.required,Rt.pattern(/^\d{2}-\d{3}$/)]]}),this.orderForm.valueChanges.subscribe(()=>{this.formDataSignal.emit({formData:this.orderForm.value,isValid:this.orderForm.valid})})}static \u0275fac=function(t){return new(t||n)(ie(ec))};static \u0275cmp=Pe({type:n,selectors:[["order-form"]],outputs:{formDataSignal:"formDataSignal"},decls:6,vars:1,consts:[[3,"formGroup"],[1,"section"],[1,"input"],[1,"required"],[1,"error"],[3,"formControlName","type","placeholder"]],template:function(t,r){t&1&&($(0,"form",0)(1,"h2"),ae(2,"Enter your details"),H(),$(3,"div",1),Hs(4,qW,7,5,"div",2,zW),H()()),t&2&&(ke("formGroup",r.orderForm),Z(4),qs(r.fields))},dependencies:[Je,tc,Xa,Ya,Za,Ja,os,ss],styles:["[_nghost-%COMP%]{background:#fff;position:relative;z-index:2;flex-grow:1;margin-left:20px;padding:20px 30px;overflow-y:scroll;height:100%}.required[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{color:#e01d3b;font-weight:700}.input[_ngcontent-%COMP%]{margin:0 30px 20px 0;flex-grow:1}.input[_ngcontent-%COMP%]:last-child{margin-right:0}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;font-weight:700;text-transform:uppercase;color:#0009;display:block;margin-bottom:10px}.input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{float:right}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#fff;box-shadow:0 3px 5px #00000005;border-radius:2px;border:1px solid #d7d7e7;font-size:18px;padding:10px 15px;outline:none;font-family:inherit;color:#000c;width:40vw}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}@media (max-width: 768px){[_nghost-%COMP%]{margin:0;overflow-y:unset}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90vw}}"]})};var _g=class n{constructor(e){this.router=e}orderFormDataSignal=ur({formData:{},isValid:!1});orderDetails=Nn(()=>this.orderFormDataSignal().formData);isFormValid=Nn(()=>this.orderFormDataSignal().isValid);updateOrderDetails(e){this.orderFormDataSignal.set(e)}formDataSignalHandler(e){this.orderFormDataSignal.set(e)}goToPizza(){this.router.navigate(["/"])}goToPayment(){this.router.navigate(["delivery"])}static \u0275fac=function(t){return new(t||n)(ie(Vt))};static \u0275cmp=Pe({type:n,selectors:[["app-order"]],decls:12,vars:1,consts:[[1,"order-container"],[1,"order-form-summary-container"],[1,"order-header"],["type","button",1,"back-btn",3,"click"],[3,"formDataSignal"],[1,"pizza-continiue-button",3,"click","disabled"]],template:function(t,r){t&1&&($(0,"div",0),Ee(1,"pizza-preview"),$(2,"div",1)(3,"div",2)(4,"button",3),Fe("click",function(){return r.goToPizza()}),ae(5,"Go back"),H(),$(6,"h1"),ae(7,"Place Your Order"),H()(),$(8,"order-form",4),Fe("formDataSignal",function(o){return r.formDataSignalHandler(o)}),H(),Ee(9,"order-summary"),$(10,"button",5),Fe("click",function(){return r.goToPayment()}),ae(11,"Continiue"),H()()()),t&2&&(Z(10),ke("disabled",!r.isFormValid()))},dependencies:[Je,$a,vg,Ha],styles:["[_nghost-%COMP%], .order-container[_ngcontent-%COMP%]{height:100%;display:flex;width:100%}.order-form-summary-container[_ngcontent-%COMP%]{background:#fff;position:relative;z-index:2;flex-grow:1;margin-left:20px;box-shadow:0 1px 54px #00000045;padding:20px 30px;height:100%;max-width:1400px}.order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative;right:40px}.order-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{background:none;cursor:pointer;color:#97c747;border:none;padding:10px 15px;font-size:15px;outline:none}.order-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem}.order-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;flex-grow:1;text-align:center}@media (max-width: 768px){.order-container[_ngcontent-%COMP%]{width:unset;flex-direction:column;background:#2e3744;align-items:center}.order-form-summary-container[_ngcontent-%COMP%]{top:250px;margin:0;overflow-y:unset;display:flex;flex-direction:column;align-items:center;width:90%}}.pizza-continiue-button[_ngcontent-%COMP%]{width:100%;background:#98c550;border:none;padding:10px 15px;text-align:center;font-size:18px;color:#ffffffe6;border-radius:5px;cursor:pointer;margin-top:20px;font-family:inherit}.pizza-continiue-button[_ngcontent-%COMP%]:disabled{background:#0000001a;color:#0006;cursor:not-allowed}"]})};var Eg=class n{height="14px";color=null;center=!1;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Pe({type:n,selectors:[["app-loader"]],inputs:{height:"height",color:"color",center:"center"},decls:3,vars:6,consts:[[1,"loader-container"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","sync-alt","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"rotate"],["d","M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"]],template:function(t,r){t&1&&($(0,"div",0),MT(),$(1,"svg",1),Ee(2,"path",2),H()()),t&2&&(XS(r.height===null?"":"height:"+r.height),vt("center",r.center),Z(),Pn("width",r.height),Z(),Pn("fill",r.color?r.color:"white"))},styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1.5s linear infinite}svg[_ngcontent-%COMP%]{display:block}@keyframes _ngcontent-%COMP%_spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"]})};var wg=class n{processPayment(){return se("success").pipe(Cm(2e3))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};function WW(n,e){if(n&1){let t=lr();$(0,"button",3),Fe("click",function(){Wn(t);let i=Ue(2);return Kn(i.makePayment())}),ae(1,"Pay with Card"),H()}}function KW(n,e){n&1&&($(0,"div",2),Ee(1,"app-loader",4),H()),n&2&&(Z(),ke("color","white")("height","20px"))}function QW(n,e){if(n&1&&($(0,"h1"),ae(1,"Card Payment"),H(),$(2,"div"),rt(3,WW,2,0,"button")(4,KW,2,2,"div",2),H()),n&2){let t=Ue();Z(3),Jn(t.loading?4:3)}}function YW(n,e){if(n&1&&($(0,"h1"),ae(1,"Card Payment"),H(),$(2,"div",5)(3,"h2"),ae(4,"Your order has been paid!"),H(),$(5,"h3"),ae(6,"Delivery in:"),H(),Ee(7,"img",6),$(8,"h1"),ae(9),Be(10,"number"),H()()),n&2){let t=Ue();Z(9),Xc("",t.timerMinutes,":",uA(10,2,t.timerSeconds,"2.0"),"")}}function ZW(n,e){n&1&&($(0,"div",1)(1,"h1"),ae(2,"Your order is delivered. Enjoy your meal!"),H(),$(3,"div",7)(4,"div",8),Ee(5,"div",9)(6,"div",9)(7,"div",9)(8,"div",9),H()()())}var Ig=class n{constructor(e,t){this.router=e;this.paymentService=t}paymentCompleted=!1;loading=!1;delivered=!1;timerMinutes=1;timerSeconds=0;interval;ngOnInit(){}makePayment(){this.loading=!0,this.paymentService.processPayment().subscribe(()=>{this.paymentCompleted=!0,this.loading=!1,this.startCountdown()})}startCountdown(){this.interval=setInterval(()=>{this.timerSeconds===0?this.timerMinutes===0?(clearInterval(this.interval),this.delivered=!0):(this.timerMinutes--,this.timerSeconds=59):this.timerSeconds--},1e3)}static \u0275fac=function(t){return new(t||n)(ie(Vt),ie(wg))};static \u0275cmp=Pe({type:n,selectors:[["app-delivery"]],decls:4,vars:1,consts:[[1,"delivery-container"],[1,"delivered-container"],[1,"loader-container"],[3,"click"],[3,"color","height"],[1,"timer-container"],["src","/pizza-builder/images/pizza-delivery.webp","alt","Pizza Delivery Person",1,"pizza-delivery-image"],[1,"pizza-size__plate"],[1,"pizza-size__pizza","pizza-size__pizza--large"],[1,"pizza-size__pizza__line"]],template:function(t,r){t&1&&($(0,"div",0),rt(1,QW,5,1)(2,YW,11,5)(3,ZW,9,0,"div",1),H()),t&2&&(Z(),Jn(!r.paymentCompleted&&!r.delivered?1:r.paymentCompleted&&!r.delivered?2:r.delivered?3:-1))},dependencies:[Je,FA,Eg],styles:['.delivery-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background:#fff;position:relative;z-index:2;flex-grow:1;box-shadow:0 1px 54px #00000045;padding:20px 30px;height:100%;max-width:1400px}h1[_ngcontent-%COMP%]{font-size:2rem}.loader-container[_ngcontent-%COMP%]{height:38px;width:140px;display:flex;justify-content:center;align-items:center;background-color:#4caf50;color:#fff;border:none;border-radius:5px}button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer}.pizza-delivery-image[_ngcontent-%COMP%]{width:50vw;border-radius:15vw}.timer-container[_ngcontent-%COMP%], .delivered-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.pizza-size__pizza[_ngcontent-%COMP%]{background:#fedb79;border:2px solid #deb989;height:60px;width:60px;border-radius:50%;position:relative}.pizza-size__pizza__line[_ngcontent-%COMP%]{background:#fff;width:2px;height:62px;position:absolute;left:27px;transform:rotate(0);transform-origin:center;top:-3px}.pizza-size__pizza__line[_ngcontent-%COMP%]:before, .pizza-size__pizza__line[_ngcontent-%COMP%]:after{width:5px;height:5px;border-radius:50%;content:" ";position:absolute;background:#9a2f17}.pizza-size__pizza__line[_ngcontent-%COMP%]:before{left:18px;top:20px}.pizza-size__pizza__line[_ngcontent-%COMP%]:after{right:18px;bottom:20px}.pizza-size__pizza--large[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0)}.pizza-size__pizza--large[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:nth-child(2){transform:rotate(45deg)}.pizza-size__pizza--large[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:nth-child(3){transform:rotate(90deg)}.pizza-size__pizza--large[_ngcontent-%COMP%]   .pizza-size__pizza__line[_ngcontent-%COMP%]:nth-child(4){transform:rotate(135deg)}']})};function JW(n,e){if(n&1&&($(0,"div",9),ae(1),H()),n&2){let t=Ue();Z(),xv(t.errorMessage)}}var bg=class n{loginForm=N(ec).group({username:["",Rt.required],password:["",Rt.required]});errorMessage="";router=N(Vt);onSubmit(){let{username:e,password:t}=this.loginForm.value;e==="manager"&&t==="Testmanager1@"?(sessionStorage.setItem("isManagerLoggedIn","true"),this.router.navigateByUrl("/manager/home")):this.errorMessage="Invalid username or password"}goToHomePage(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Pe({type:n,selectors:[["manager-login"]],decls:14,vars:2,consts:[[1,"login-form",3,"ngSubmit","formGroup"],[1,"homepage-btn",3,"click"],[1,"login-item"],["for","username"],["id","username","formControlName","username","placeholder","Login"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Password"],["type","submit",1,"login-btn"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,r){t&1&&($(0,"form",0),Fe("ngSubmit",function(){return r.onSubmit()}),$(1,"button",1),Fe("click",function(){return r.goToHomePage()}),ae(2,"Go to home page"),H(),$(3,"div",2)(4,"label",3),ae(5,"Login: (for testing type: 'manager' )"),H(),Ee(6,"input",4),H(),$(7,"div",2)(8,"label",5),ae(9,"Password: (for testing type: 'Testmanager1@' )"),H(),Ee(10,"input",6),H(),$(11,"button",7),ae(12,"Login"),H(),rt(13,JW,2,1,"div",8),H()),t&2&&(ke("formGroup",r.loginForm),Z(13),ke("ngIf",r.errorMessage))},dependencies:[Je,Mh,tc,Xa,Ya,Za,Ja,os,ss],styles:[".login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-width:400px;margin:2rem auto;padding:2rem;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 6px #0000001a;font-family:Roboto,Arial,sans-serif}.homepage-btn[_ngcontent-%COMP%]{background:none;cursor:pointer;color:#97c747;border:none;font-size:15px;outline:none;text-align:end}.login-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.login-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;font-size:1rem;color:#333}.login-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.8rem;font-size:1rem;border:1px solid #ccc;border-radius:4px;outline:none;transition:border-color .2s ease-in-out}.login-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#98c550;box-shadow:0 0 0 3px #98c55033}.login-btn[_ngcontent-%COMP%]{padding:.8rem;font-size:1rem;font-weight:600;color:#fff;background-color:#98c550;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s ease-in-out}.login-btn[_ngcontent-%COMP%]:hover{background-color:#7fa244}.error[_ngcontent-%COMP%]{font-size:.9rem;color:#d9534f;text-align:center}@media (max-width: 768px){.login-form[_ngcontent-%COMP%]{padding:1.5rem;max-width:90%}.login-btn[_ngcontent-%COMP%]{font-size:.9rem}}"]})};var XW=(n,e)=>e.id;function e8(n,e){if(n&1){let t=lr();$(0,"label",3)(1,"input",4),Fe("change",function(i){let o=Wn(t).$implicit,s=Ue();return Kn(s.onVisibilityChange(o,i))}),H(),Ee(2,"span"),ae(3),Be(4,"titlecase"),H()}if(n&2){let t=e.$implicit;vt("pizza-ingredient--active",t.visible),Z(),ke("checked",t.visible),Pn("name",t)("value",t),Z(),xn("pizza-ingredient__icon pizza-ingredient__icon--",t.name,""),Z(),Yt(" ",it(4,9,t.name)," ")}}var Cg=class n{constructor(e){this.store=e;this.ingredients$=this.store.select(Jp),this.store.dispatch(Ki())}ingredients$;onVisibilityChange(e,t){let r=t.target.checked;this.store.dispatch(eg({ingredient:j(P({},e),{visible:r})}))}static \u0275fac=function(t){return new(t||n)(ie(Mt))};static \u0275cmp=Pe({type:n,selectors:[["app-manager-ingredients-list"]],decls:7,vars:2,consts:[[1,"ing-list-container"],[1,"pizza-ingredients"],[1,"pizza-ingredient",3,"pizza-ingredient--active"],[1,"pizza-ingredient"],["type","checkbox",3,"change","checked"]],template:function(t,r){t&1&&($(0,"div",0)(1,"h2"),ae(2,"Select visible ingredients"),H(),$(3,"div",1),Hs(4,e8,5,11,"label",2,XW),Be(6,"async"),H()()),t&2&&(Z(4),qs(it(6,0,r.ingredients$)))},dependencies:[Je,hr,Pi],styles:[".ing-list-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:1.5rem;background-color:#f9f9f9;border-radius:8px;font-family:Roboto,Arial,sans-serif;color:#333}.ing-list-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem;color:#98c550;text-align:center}.pizza-ingredients[_ngcontent-%COMP%]{margin:10px 0;display:flex;flex-wrap:wrap;justify-content:space-between}.pizza-ingredient[_ngcontent-%COMP%]{margin:20px 0 0;background:#0000000d;border-radius:3px;font-size:16px;color:#000000b3;padding:10px 15px 10px 53px;cursor:pointer;overflow:hidden;position:relative;flex-basis:24%;flex-shrink:1;-webkit-user-select:none;user-select:none}.pizza-ingredient[_ngcontent-%COMP%]:nth-child(4n){margin-right:0}.pizza-ingredient[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.pizza-ingredient--focused[_ngcontent-%COMP%]{background:#00000026;font-weight:500}.pizza-ingredient--active[_ngcontent-%COMP%]{background:#98c550;color:#fff;font-weight:500}.pizza-ingredient--extra[_ngcontent-%COMP%]   .pizza-ingredient__extra[_ngcontent-%COMP%]{transform:rotate(90deg) translateZ(0)}.pizza-ingredient__extra[_ngcontent-%COMP%]{background-color:#0003;color:#fff;display:block;text-transform:uppercase;width:50px;font-size:12px;position:absolute;right:-15px;top:11px;padding:2px 0;text-align:center;transform:rotate(90deg) translate3d(0,-20px,0);transition:transform .1s linear}.pizza-ingredient__icon[_ngcontent-%COMP%]{background:#e6e6e6 no-repeat center center;background-size:30px;width:40px;display:block;position:absolute;top:0;left:0;bottom:0}.pizza-ingredient__icon--anchovy[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/anchovy.svg)}.pizza-ingredient__icon--bacon[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/bacon.svg)}.pizza-ingredient__icon--basil[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/basil.svg)}.pizza-ingredient__icon--chili[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/chili.svg)}.pizza-ingredient__icon--mozzarella[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/mozzarella.svg)}.pizza-ingredient__icon--mushroom[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/mushroom.svg)}.pizza-ingredient__icon--olive[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/olive.svg)}.pizza-ingredient__icon--onion[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/onion.svg)}.pizza-ingredient__icon--pepper[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/pepper.svg)}.pizza-ingredient__icon--pepperoni[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/pepperoni.svg)}.pizza-ingredient__icon--sweetcorn[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/sweetcorn.svg)}.pizza-ingredient__icon--tomato[_ngcontent-%COMP%]{background-image:url(/pizza-builder/images/tomato.svg)}"]})};var Dg=class n{constructor(e){this.router=e}logout(){sessionStorage.removeItem("isManagerLoggedIn"),this.router.navigateByUrl("/manager")}static \u0275fac=function(t){return new(t||n)(ie(Vt))};static \u0275cmp=Pe({type:n,selectors:[["manager-home"]],decls:8,vars:0,consts:[[1,"home-container"],[1,"home-header"],[1,"logout-btn",3,"click"],[1,"home-body"]],template:function(t,r){t&1&&($(0,"div",0)(1,"div",1)(2,"h1"),ae(3,"Hallo manager!"),H(),$(4,"button",2),Fe("click",function(){return r.logout()}),ae(5,"Logout"),H()(),$(6,"div",3),Ee(7,"app-manager-ingredients-list"),H()())},dependencies:[Je,Cg],styles:[".home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;max-width:500px;margin:2rem auto;padding:2rem;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 6px #0000001a;font-family:Roboto,Arial,sans-serif}.home-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;color:#98c550}.logout-btn[_ngcontent-%COMP%]{padding:.8rem 1.5rem;font-size:1rem;font-weight:600;color:#fff;background-color:#98c550;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s ease-in-out,transform .2s ease-in-out}.logout-btn[_ngcontent-%COMP%]:hover{background-color:#7fa244;transform:translateY(-2px)}.logout-btn[_ngcontent-%COMP%]:active{background-color:#6a8635;transform:translateY(0)}@media (max-width: 768px){.home-container[_ngcontent-%COMP%]{padding:1rem}}"]})};var Tg=class n{constructor(e){this.router=e}canActivate(){let e=sessionStorage.getItem("isManagerLoggedIn")==="true";return e||this.router.navigateByUrl("/manager/login"),e}static \u0275fac=function(t){return new(t||n)(W(Vt))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};var uk=[{path:"",component:yg},{path:"order",component:_g},{path:"delivery",component:Ig},{path:"manager",component:bg},{path:"manager/home",component:Dg,canActivate:[Tg]}];var Sg=class n{actions$=N(iO);firestore=N(Yo);loadIngredients$=Vb(()=>this.actions$.pipe(zb(Ki),Ve(()=>Zx(Jx(this.firestore,"ingredients"),{idField:"id"}).pipe(Y(e=>yl({ingredients:e})),Jt(e=>se(Xp({error:e.message})))))));updateIngredient$=Vb(()=>this.actions$.pipe(zb(eg),Ve(({ingredient:e})=>QI(WI(this.firestore,`ingredients/${e.id}`),{visible:e.visible}).then(()=>tg({ingredient:e})).catch(t=>ng({error:t.message})))));static \u0275fac=function(t){return new(t||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})};var t8={ingredients:[],loading:!1,error:null},n8=Vp(t8,Ut(Ki,n=>j(P({},n),{loading:!0})),Ut(yl,(n,{ingredients:e})=>j(P({},n),{ingredients:e,loading:!1})),Ut(Xp,(n,{error:e})=>j(P({},n),{error:e,loading:!1})),Ut(yl,(n,{ingredients:e})=>j(P({},n),{ingredients:e,loading:!1,error:null})),Ut(tg,(n,{ingredient:e})=>j(P({},n),{ingredients:n.ingredients.map(t=>t.id===e.id?e:t)})),Ut(ng,(n,{error:e})=>j(P({},n),{error:e})));function lk(n,e){return n8(n,e)}var r8={pizzas:[],activePizzaId:0,totalAmount:0},dk={small:{base:9.99,ingredients:.69},medium:{base:12.99,ingredients:.99},large:{base:16.99,ingredients:1.29}},bl=n=>{let e=dk[n.size]?.base||0,t=n.selectedIngredients.reduce((r,i)=>r+(dk[n.size]?.ingredients||0),0);return e+t},i8=Vp(r8,Ut(Wp,(n,{pizza:e})=>{let t=bl(e),r=j(P({},e),{price:t}),i=[...n.pizzas,r],o=n.totalAmount+t*e.quantity;return j(P({},n),{pizzas:i,totalAmount:o})}),Ut(Kp,(n,{pizzaId:e})=>{let t=n.pizzas.filter(i=>i.id!==e),r=t.reduce((i,o)=>i+o.price*o.quantity,0);return j(P({},n),{pizzas:t,totalAmount:r})}),Ut(Qp,(n,{ingredient:e})=>{let t=n.activePizzaId,r=n.pizzas.map(o=>{if(o.id===t){let s=[...o.selectedIngredients,e],a=j(P({},o),{selectedIngredients:s}),c=bl(a);return j(P({},a),{price:c})}return o}),i=r.reduce((o,s)=>o+s.price*s.quantity,0);return j(P({},n),{pizzas:r,totalAmount:i})}),Ut(Yp,(n,{pizzaId:e,ingredientId:t})=>{let r=n.pizzas.map(o=>{if(o.id===e){let s=o.selectedIngredients.filter(l=>l.id!==t),a=j(P({},o),{selectedIngredients:s}),c=bl(a);return j(P({},a),{price:c})}return o}),i=r.reduce((o,s)=>o+s.price*s.quantity,0);return j(P({},n),{pizzas:r,totalAmount:i})}),Ut(xO,(n,{itemId:e,quantity:t})=>{let r=n.pizzas.map(o=>{let s=o.selectedIngredients.map(l=>l.id===e?j(P({},l),{quantity:t}):l),a=j(P({},o),{items:s}),c=bl(a);return j(P({},a),{price:c})}),i=r.reduce((o,s)=>o+s.price*s.quantity,0);return j(P({},n),{pizzas:r,totalAmount:i})}),Ut(Zp,(n,{size:e})=>{let t=n.activePizzaId,r=n.pizzas.map(o=>{if(o.id===t){let s=j(P({},o),{size:e}),a=bl(s);return j(P({},s),{price:a})}return o}),i=r.reduce((o,s)=>o+s.price*s.quantity,0);return j(P({},n),{pizzas:r,totalAmount:i})}),Ut(qa,(n,{pizzaId:e})=>j(P({},n),{activePizzaId:e})),Ut(NO,n=>j(P({},n),{pizzaItems:[],totalAmount:0})));function hk(n,e){return i8(n,e)}var fk={providers:[hA({eventCoalescing:!0}),sR(uk),eO({ingredient:lk,order:hk}),MO({maxAge:25,logOnly:!To()}),sO(Sg),RN(),bM(()=>CM(RO.firebaseConfig)),Yx(()=>Xx()),sP(()=>oP())]};var Ag=class n{title="pizza-builder";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Pe({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Ee(0,"router-outlet")},dependencies:[sE],encapsulation:2})};KA(Ag,fk).catch(n=>console.error(n));
