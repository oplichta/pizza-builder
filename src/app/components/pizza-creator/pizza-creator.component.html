<div class="pizza-creator">
    <h2>
      Choose your pizzas
      <button class="button" type="button" (click)="addPizza()">
        <i class="fa fa-plus"></i>
        Add pizza
      </button>
    </h2>

    <div *ngFor="let pizza of pizzas$ | async; let i = index;">
      <div class="pizza-creator__header" (click)="togglePizza(i)">
        
        <i 
          class="fa fa-fw pizza-creator__icon"
          [class.fa-chevron-down]="openPizza !== i"
          [class.fa-chevron-up]="openPizza === i"></i>
        Pizza {{ i + 1 }}
    
        <i 
          class="fa fa-fw pizza-creator__status"
          [class.fa-check]="pizza.valid"
          [class.fa-times]="!pizza.valid"></i>
    
        <!-- <div 
          class="pizza-creator__delete"
          *ngIf="pizzas$.value.length  > 1"
          (click)="removePizza(i)">
          <i class="fa fa-trash fa-fw"></i>
        </div> -->
    
      </div>
    
      <div 
        class="pizza-creator__content"
        [class.pizza-creator__content--open]="openPizza === i"
        >
        <!-- Display pizza details -->
        <h3>{{ pizza.name }}</h3>
        <p>Price: {{ pizza.price | currency }}</p>
        <p>Quantity: {{ pizza.quantity }}</p>
        
    
        <!-- Form controls -->
        <h3>Select the size <span class="required">*</span></h3>
        <pizza-size 
          formControlName="size">
        </pizza-size>
    
        <h3>Pick your ingredients</h3>
        <div *ngFor="let item of pizza.items">
          <p>{{ item.name }} - {{ item.price | currency }} x {{ item.quantity }}</p>
        </div>
        <pizza-ingredients 
          formControlName="ingredients">
        </pizza-ingredients>
    
      </div>
    </div>
  </div>